(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t){},"0023":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("448a")),i=n(a("6374"));a("99af"),a("14d9"),a("b64b"),a("ac1f"),a("841c");var r=n(a("0278")),o=n(a("df7c"));t.default={name:"HeaderSearch",data:function(){return{search:"",options:[],searchPool:[],show:!1,fuse:void 0}},computed:{routes:function(){return this.$store.getters.permission_routes}},watch:{routes:function(){this.searchPool=this.generateRoutes(this.routes)},searchPool:function(e){this.initFuse(e)},show:function(e){e?document.body.addEventListener("click",this.close):document.body.removeEventListener("click",this.close)}},mounted:function(){this.searchPool=this.generateRoutes(this.routes)},methods:{click:function(){this.show=!this.show,this.show&&this.$refs.headerSearchSelect&&this.$refs.headerSearchSelect.focus()},close:function(){this.$refs.headerSearchSelect&&this.$refs.headerSearchSelect.blur(),this.options=[],this.show=!1},change:function(e){var t=this,a=e.path,n=e.query;if(this.ishttp(e.path)){var s=a.indexOf("http");window.open(a.substr(s,a.length),"_blank")}else n?this.$router.push({path:a,query:JSON.parse(n)}):this.$router.push(a);this.search="",this.options=[],this.$nextTick((function(){t.show=!1}))},initFuse:function(e){this.fuse=new r.default(e,{shouldSort:!0,threshold:.4,location:0,distance:100,minMatchCharLength:1,keys:[{name:"title",weight:.7},{name:"path",weight:.3}]})},generateRoutes:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=[],l=(0,i.default)(e);try{for(l.s();!(t=l.n()).done;){var c=t.value;if(!c.hidden){var u={path:this.ishttp(c.path)?c.path:o.default.resolve(a,c.path),title:(0,s.default)(n)};if(c.meta&&c.meta.title&&(u.title=[].concat((0,s.default)(u.title),[c.meta.title]),"noRedirect"!==c.redirect&&r.push(u)),c.query&&(u.query=c.query),c.children){var d=this.generateRoutes(c.children,u.path,u.title);d.length>=1&&(r=[].concat((0,s.default)(r),(0,s.default)(d)))}}}}catch(f){l.e(f)}finally{l.f()}return r},querySearch:function(e){this.options=""!==e?this.fuse.search(e):[]},ishttp:function(e){return-1!==e.indexOf("http://")||-1!==e.indexOf("https://")}}}},"005c":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isExternal?a("div",e._g({staticClass:"svg-external-icon svg-icon",style:e.styleExternalIcon},e.$listeners)):a("svg",e._g({class:e.svgClass,attrs:{"aria-hidden":"true"}},e.$listeners),[a("use",{attrs:{"xlink:href":e.iconName}})])},s=[]},"0062":function(e,t,a){"use strict";a.r(t);var n=a("af1e"),s=a("bfe9");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},"00a4":function(e,t,a){"use strict";a("8337")},"01ec":function(e,t,a){"use strict";a.r(t);var n=a("a448"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"02b8":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-component",use:"icon-component-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-component"><defs><style type="text/css"></style></defs><path d="M826.56 470.016c-32.896 0-64.384 12.288-89.984 35.52l0-104.96c0-62.208-50.496-112.832-112.64-113.088L623.936 287.04 519.552 287.104C541.824 262.72 554.56 230.72 554.56 197.12c0-73.536-59.904-133.44-133.504-133.44-73.472 0-133.376 59.904-133.376 133.44 0 32.896 12.224 64.256 35.52 89.984L175.232 287.104l0 0.576C113.728 288.704 64 338.88 64 400.576l0.32 0 0.32 116.48C60.864 544.896 70.592 577.728 100.8 588.48c12.736 4.608 37.632 7.488 60.864-25.28 12.992-18.368 34.24-29.248 56.64-29.248 38.336 0 69.504 31.104 69.504 69.312 0 38.4-31.168 69.504-69.504 69.504-22.656 0-44.032-11.264-57.344-30.4C138.688 610.112 112.576 615.36 102.464 619.136c-29.824 10.752-39.104 43.776-38.144 67.392l0 160.384L64 846.912C64 909.248 114.752 960 177.216 960l446.272 0c62.4 0 113.152-50.752 113.152-113.152l0-145.024c24.384 22.272 56.384 35.008 89.984 35.008 73.536 0 133.44-59.904 133.44-133.504C960 529.92 900.096 470.016 826.56 470.016zM826.56 672.896c-22.72 0-44.032-11.264-57.344-30.4-22.272-32.384-48.448-27.136-58.56-23.36-29.824 10.752-39.04 43.776-38.08 67.392l0 160.384c0 27.136-22.016 49.152-49.152 49.152L177.216 896.064C150.08 896 128 873.984 128 846.848l0.32 0 0-145.024c24.384 22.272 56.384 35.008 89.984 35.008 73.6 0 133.504-59.904 133.504-133.504 0-73.472-59.904-133.376-133.504-133.376-32.896 0-64.32 12.288-89.984 35.52l0-104.96L128 400.512c0-27.072 22.08-49.152 49.216-49.152L177.216 351.04 334.656 350.72c3.776 0.512 7.616 0.832 11.52 0.832 24.896 0 50.752-10.816 60.032-37.056 4.544-12.736 7.424-37.568-25.344-60.736C362.624 240.768 351.68 219.52 351.68 197.12c0-38.272 31.104-69.44 69.376-69.44 38.336 0 69.504 31.168 69.504 69.44 0 22.72-11.264 44.032-30.528 57.472C427.968 276.736 433.088 302.784 436.8 313.024c10.752 29.888 43.072 39.232 67.392 38.08l119.232 0 0 0.384c27.136 0 49.152 22.08 49.152 49.152l0.256 116.48c-3.776 27.84 6.016 60.736 36.224 71.488 12.736 4.608 37.632 7.488 60.8-25.28 13.056-18.368 34.24-29.248 56.704-29.248C864.832 534.016 896 565.12 896 603.392 896 641.728 864.832 672.896 826.56 672.896z" p-id="3146" /></symbol>'});r.a.add(o);t["default"]=o},"036c":function(e,t,a){"use strict";a("955f")},"039a":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-download",use:"icon-download-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-download"><defs><style type="text/css"></style></defs><path d="M768.35456 416a256 256 0 1 0-512 0 192 192 0 1 0 0 384v64a256 256 0 0 1-58.88-505.216 320.128 320.128 0 0 1 629.76 0A256.128 256.128 0 0 1 768.35456 864v-64a192 192 0 0 0 0-384z m-512 384h64v64H256.35456v-64z m448 0h64v64h-64v-64z" fill="#333333" p-id="3063" /><path d="M539.04256 845.248V512.192a32.448 32.448 0 0 0-32-32.192c-17.664 0-32 14.912-32 32.192v333.056l-36.096-36.096a32.192 32.192 0 0 0-45.056 0.192 31.616 31.616 0 0 0-0.192 45.056l90.88 90.944a31.36 31.36 0 0 0 22.528 9.088 30.08 30.08 0 0 0 22.4-9.088l90.88-90.88a32.192 32.192 0 0 0-0.192-45.12 31.616 31.616 0 0 0-45.056-0.192l-36.096 36.096z" fill="#333333" p-id="3064" /></symbol>'});r.a.add(o);t["default"]=o},"042e":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"homework-evaluation"},[a("el-row",{staticClass:"header-row"},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"header"},[a("span",{staticClass:"info-text"},[e._v("题目："+e._s(e.homeworkTitle))]),a("span",{staticClass:"info-text"},[e._v("姓名："+e._s(e.submitter))]),a("span",{staticClass:"info-text"},[e._v("评价流程："+e._s(e.currentProcess))]),a("span",{staticClass:"info-text"},[e._v("评分人："+e._s(e.reviewer))])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"submit-all-wrapper"},[a("el-button",{attrs:{type:"primary",loading:e.submitting,disabled:e.submitting},on:{click:e.handleSubmitAll}},[e._v(" "+e._s(e.submitting?"提交中...":"提交所有评分")+" ")])],1)])],1),a("el-tabs",{staticClass:"tabs-container",attrs:{type:"card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.submissionTypes,(function(t){return a("el-tab-pane",{key:t,attrs:{name:t,label:t}},["视频"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"first-row"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.video,expression:"loading.video"}],staticClass:"video-section"},[a("video",{ref:"videoElement",refInFor:!0,staticClass:"video-player",attrs:{controls:"",src:e.fileUrls.video},on:{error:function(t){return e.handleFileError("video")}}})]),a("div",{staticClass:"dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.video||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},[a("p",{staticClass:"dimension-title"},[a("b",[e._v(e._s(t.evaluationTitle))])]),e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",[e._v(e._s(t))]),a("el-rate",{attrs:{max:5},model:{value:e.ratings.video[n][s],callback:function(t){e.$set(e.ratings.video[n],s,t)},expression:"ratings.video[index][infoIndex]"}})],1)}))],2)})),0)])],1)]),a("div",{staticClass:"second-row"},[a("div",{staticClass:"radar-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-data-analysis"}),a("span",[e._v("评价雷达图")])]),a("el-card",{staticClass:"radar-chart"},[a("div",{ref:"radarContainer-"+t,refInFor:!0,staticClass:"radar-container"})])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4"},model:{value:e.comments.video,callback:function(t){e.$set(e.comments,"video",t)},expression:"comments.video"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("视频总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("video"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleNextTab}},[e._v("确定下一个评价对象")])],1)],1)],1)])]):"音频"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"first-row"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.audio,expression:"loading.audio"}],staticClass:"audio-section"},[a("div",{staticClass:"audio-player-container"},[a("div",{staticClass:"audio-bg"},[a("div",{staticClass:"music-icon",class:{"is-playing":e.isPlaying}},[a("i",{staticClass:"el-icon-headset"})]),a("div",{staticClass:"music-notes"},[a("i",{staticClass:"el-icon-music"}),a("i",{staticClass:"el-icon-bell"}),a("i",{staticClass:"el-icon-mic"})])]),a("audio",{directives:[{name:"show",rawName:"v-show",value:!e.loading.audio,expression:"!loading.audio"}],ref:"audioElement",refInFor:!0,staticClass:"audio-player",attrs:{controls:"",src:e.fileUrls.audio},on:{play:e.handlePlay,pause:e.handlePause,ended:e.handlePause,error:function(t){return e.handleFileError("audio")}}})])]),a("div",{staticClass:"dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.audio||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},[a("p",{staticClass:"dimension-title"},[a("b",[e._v(e._s(t.evaluationTitle))])]),e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",[e._v(e._s(t))]),a("el-rate",{attrs:{max:5},model:{value:e.ratings.audio[n][s],callback:function(t){e.$set(e.ratings.audio[n],s,t)},expression:"ratings.audio[index][infoIndex]"}})],1)}))],2)})),0)])],1)]),a("div",{staticClass:"second-row"},[a("div",{staticClass:"radar-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-data-analysis"}),a("span",[e._v("评价雷达图")])]),a("el-card",{staticClass:"radar-chart"},[a("div",{ref:"radarContainer-"+t,refInFor:!0,staticClass:"radar-container"})])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4"},model:{value:e.comments.audio,callback:function(t){e.$set(e.comments,"audio",t)},expression:"comments.audio"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("音频总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("audio"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleNextTab}},[e._v("确定下一个评价对象")])],1)],1)],1)])]):"PPT"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"left-section"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.ppt,expression:"loading.ppt"}],staticClass:"ppt-document-section"},[e.pdfData?a("pdf-viewer",{staticClass:"pdf-viewer",attrs:{"pdf-data":e.pdfData}}):e._e()],1)]),a("div",{staticClass:"right-section"},[a("div",{staticClass:"ppt-dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.ppt||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},[a("p",{staticClass:"dimension-title"},[a("b",[e._v(e._s(t.evaluationTitle))])]),e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",[e._v(e._s(t))]),a("el-rate",{attrs:{max:5},model:{value:e.ratings.ppt[n][s],callback:function(t){e.$set(e.ratings.ppt[n],s,t)},expression:"ratings.ppt[index][infoIndex]"}})],1)}))],2)})),0)])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4"},model:{value:e.comments.ppt,callback:function(t){e.$set(e.comments,"ppt",t)},expression:"comments.ppt"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("PPT总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("ppt"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleNextTab}},[e._v("确定下一个评价对象")])],1)],1)],1)])])]):"演讲稿"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"left-section"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.word||e.convertLoading,expression:"loading.word || convertLoading"}],staticClass:"word-document-section",attrs:{"element-loading-text":"正在转换文档..."}},[e.wordContent?a("div",{staticClass:"word-content"},[a("div",{domProps:{innerHTML:e._s(e.wordContent)}})]):e.loading.word||e.convertLoading?e._e():a("div",{staticClass:"preview-placeholder"},[a("i",{staticClass:"el-icon-document"}),a("p",[e._v("Word 文档加载失败")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.loadFiles}},[e._v(" 重试 ")])],1)])]),a("div",{staticClass:"right-section"},[a("div",{staticClass:"word-dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.word||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},[a("p",{staticClass:"dimension-title"},[a("b",[e._v(e._s(t.evaluationTitle))])]),e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",[e._v(e._s(t))]),a("el-rate",{attrs:{max:5},model:{value:e.ratings.word[n][s],callback:function(t){e.$set(e.ratings.word[n],s,t)},expression:"ratings.word[index][infoIndex]"}})],1)}))],2)})),0)])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4"},model:{value:e.comments.word,callback:function(t){e.$set(e.comments,"word",t)},expression:"comments.word"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("演讲稿总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("word"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleNextTab}},[e._v("确定下一个评价对象")])],1)],1)],1)])])]):e._e()])})),1)],1)},s=[]},"046c":function(e,t,a){"use strict";a.r(t);var n=a("486e"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"04ad":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-rate",use:"icon-rate-usage",viewBox:"0 0 1069 1024",content:'<symbol class="icon" viewBox="0 0 1069 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-rate"><defs><style type="text/css"></style></defs><path d="M633.72929961 378.02038203l9.49872568 18.68789795 20.78025469 2.79745225 206.61592412 27.33248408a11.46496817 11.46496817 0 0 1 6.6095543 19.47324902l-147.2675168 147.35350284-14.89299345 14.89299345 3.8006376 20.68280244 37.84585956 204.89044571a11.46496817 11.46496817 0 0 1-16.4808914 12.2961788L554.68980898 751.84713388l-18.68789794-9.49299345-18.48726123 9.99171915-183.23885392 99.34968163a11.46496817 11.46496817 0 0 1-16.78471347-11.8662416l32.5433127-205.79617881 3.29617793-20.78598692-15.19108243-14.49172002-151.03375839-143.48407587a11.46496817 11.46496817 0 0 1 6.09936328-19.63949062l205.79617881-32.63503185 20.78598691-3.2961788L428.87898125 380.72038203 518.59235674 192.64331182a11.46496817 11.46496817 0 0 1 20.56815264-0.26369385l94.56879023 185.63503183zM496.64840732 85.52038203l-121.75796162 254.98089229L95.76433145 384.76178369A34.3949045 34.3949045 0 0 0 77.46050938 443.66879023l204.87324901 194.66369385-44.16879023 279.1146498a34.3949045 34.3949045 0 0 0 50.36560489 35.61592325l248.4-134.67898038 251.84522285 128.27579591a34.3949045 34.3949045 0 0 0 49.43694287-36.89426777l-51.30573223-277.85350284 199.73120977-199.90891758a34.3949045 34.3949045 0 0 0-19.82866201-58.40827998l-280.11783428-37.03184736L558.32993633 84.71210205a34.3949045 34.3949045 0 0 0-61.68152901 0.80254775z" p-id="1099" /></symbol>'});r.a.add(o);t["default"]=o},"0553":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,a("99af"),a("7db0"),a("d3b7"),a("0643"),a("fffc");var s=n(a("448a")),i=n(a("39e3")),r=n(a("aab3"));function o(e,t){var a=l.apply(void 0,[e,t.labelField].concat((0,s.default)(i.default.DEFAULT_LABEL_FIELDS))),n=l.apply(void 0,[e,t.valueField].concat((0,s.default)(i.default.DEFAULT_VALUE_FIELDS)));return new r.default(e[a],e[n],e)}function l(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return a.find((function(t){return Object.prototype.hasOwnProperty.call(e,t)}))}},"05a3":function(e,t,a){},"05d8":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14d9");var s=n(a("cc6c"));t.default={name:"Page401",data:function(){return{errGif:s.default+"?"+ +new Date}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/"}):this.$router.go(-1)}}}},"068c":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-upload",use:"icon-upload-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-upload"><defs><style type="text/css"></style></defs><path d="M530.944 458.24l4.8 3.456 122.176 106.816a32 32 0 0 1-37.44 51.584l-4.672-3.392L546.56 556.16v280.704a32 32 0 0 1-26.24 31.488l-5.76 0.512a32 32 0 0 1-31.424-26.24l-0.512-5.76-0.064-280.704-69.12 60.48a32 32 0 0 1-40.96 0.896l-4.16-3.968a32 32 0 0 1-0.96-40.96l4.032-4.16 122.176-106.816a32 32 0 0 1 37.312-3.456zM497.92 128c128.128 0 239.168 82.304 275.52 199.04 123.968 11.264 221.312 113.088 221.312 237.44 0 128.128-103.68 232.96-234.88 238.272h-5.888l-35.52 0.192a32 32 0 0 1-0.192-64l35.264-0.128 4.672-0.064c96.384-3.84 172.544-80.896 172.544-174.272 0-96.128-80.512-174.464-179.584-174.464h-1.984a32 32 0 0 1-32-25.28C695.872 264.96 604.736 192 497.92 192 381.824 192 285.44 277.76 274.816 388.48a32 32 0 0 1-28.352 28.8c-83.968 9.152-147.84 78.208-147.84 159.552l0.192 7.936c3.84 85.76 77.056 154.112 166.592 154.112h45.632a32 32 0 0 1 0 64h-45.632C142.016 802.944 40.32 708.032 34.88 586.88l-0.192-9.28c0-106.88 76.352-197.184 179.968-219.904C239.488 226.112 357.76 128 497.856 128z" p-id="7923" /></symbol>'});r.a.add(o);t["default"]=o},"06b3":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-tool",use:"icon-tool-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-tool"><defs><style type="text/css"></style></defs><path d="M898.831744 900.517641 103.816972 900.517641c-36.002982 0-65.363683-29.286-65.363683-65.313541l0-554.949184c0-36.041868 29.361725-65.326844 65.363683-65.326844l795.015795 0c36.002982 0 65.198931 29.284977 65.198931 65.326844l0 554.949184C964.030675 871.231641 934.834726 900.517641 898.831744 900.517641L898.831744 900.517641zM103.816972 255.593236c-13.576203 0-24.711821 11.085476-24.711821 24.662703l0 554.949184c0 13.576203 11.136641 24.662703 24.711821 24.662703l795.015795 0c13.577227 0 24.547069-11.086499 24.547069-24.662703l0-554.949184c0-13.577227-10.970866-24.662703-24.547069-24.662703L103.816972 255.593236 103.816972 255.593236zM664.346245 251.774257c-11.161201 0-20.332071-9.080819-20.332071-20.332071l0-101.278661c0-13.576203-11.047614-24.623817-24.699542-24.623817L383.181611 105.539708c-13.576203 0-24.712845 11.04659-24.712845 24.623817l0 101.278661c0 11.252275-9.041934 20.332071-20.332071 20.332071-11.20111 0-20.319791-9.080819-20.319791-20.332071l0-101.278661c0-35.989679 29.323862-65.275679 65.364707-65.275679l236.133022 0c36.06745 0 65.402569 29.284977 65.402569 65.275679l0 101.278661C684.717202 242.694461 675.636383 251.774257 664.346245 251.774257L664.346245 251.774257zM413.233044 521.725502 75.694471 521.725502c-11.163247 0-20.333094-9.117658-20.333094-20.35663 0-11.252275 9.169847-20.332071 20.333094-20.332071l337.538573 0c11.277858 0 20.319791 9.080819 20.319791 20.332071C433.552835 512.607844 424.510902 521.725502 413.233044 521.725502L413.233044 521.725502zM912.894018 521.725502 575.367725 521.725502c-11.213389 0-20.332071-9.117658-20.332071-20.35663 0-11.252275 9.118682-20.332071 20.332071-20.332071l337.526293 0c11.290137 0 20.332071 9.080819 20.332071 20.332071C933.226089 512.607844 924.184155 521.725502 912.894018 521.725502L912.894018 521.725502zM557.56322 634.217552 445.085496 634.217552c-11.213389 0-20.332071-9.079796-20.332071-20.331048l0-168.763658c0-11.251252 9.118682-20.332071 20.332071-20.332071l112.478747 0c11.290137 0 20.370956 9.080819 20.370956 20.332071l0 168.763658C577.934177 625.137757 568.853357 634.217552 557.56322 634.217552L557.56322 634.217552zM465.417567 593.514525l71.827909 0L537.245476 465.454918l-71.827909 0L465.417567 593.514525 465.417567 593.514525z" p-id="1685" /></symbol>'});r.a.add(o);t["default"]=o},"0781":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("b64b");var s=n(a("83d6")),i=s.default.sideTheme,r=s.default.showSettings,o=s.default.topNav,l=s.default.tagsView,c=s.default.fixedHeader,u=s.default.sidebarLogo,d=s.default.dynamicTitle,f=JSON.parse(localStorage.getItem("layout-setting"))||"",p={title:"",theme:f.theme||"#409EFF",sideTheme:f.sideTheme||i,showSettings:r,topNav:void 0===f.topNav?o:f.topNav,tagsView:void 0===f.tagsView?l:f.tagsView,fixedHeader:void 0===f.fixedHeader?c:f.fixedHeader,sidebarLogo:void 0===f.sidebarLogo?u:f.sidebarLogo,dynamicTitle:void 0===f.dynamicTitle?d:f.dynamicTitle},m={CHANGE_SETTING:function(e,t){var a=t.key,n=t.value;e.hasOwnProperty(a)&&(e[a]=n)}},v={changeSetting:function(e,t){var a=e.commit;a("CHANGE_SETTING",t)},setTitle:function(e,t){e.commit;p.title=t}};t.default={namespaced:!0,state:p,mutations:m,actions:v}},"07b4":function(e,t,a){"use strict";a.r(t);var n=a("2bd1"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"07d8":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e.error?a("div",{staticClass:"error-message"},[e._v(" "+e._s(e.error)+" ")]):e.isMediaPipeReady?a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"card-row"},[a("div",{staticClass:"videoView"},[a("div",{staticClass:"control-panel"},[a("input",{ref:"videoInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"video/*"},on:{change:e.handleVideoUpload}}),a("button",{staticClass:"custom-button primary-button",on:{click:function(t){return e.$refs.videoInput.click()}}},[e._m(1),a("span",{staticClass:"button-text"},[e._v("选择视频")])]),a("button",{staticClass:"custom-button primary-button",attrs:{disabled:!e.inputVideo},on:{click:e.toggleVideo}},[a("span",{staticClass:"button-icon"},[a("i",{class:e.videoRunning?"fas fa-stop":"fas fa-play"})]),a("span",{staticClass:"button-text"},[e._v(e._s(e.videoRunning?"停止":"开始"))])]),a("button",{staticClass:"custom-button danger-button",attrs:{disabled:!e.inputVideo},on:{click:e.clearVideo}},[e._m(2),a("span",{staticClass:"button-text"},[e._v("清除视频")])])]),a("div",{staticClass:"video-container"},[a("video",{ref:"inputVideo",staticClass:"input-video",style:{display:e.inputVideo?"block":"none"},attrs:{controls:"",preload:"auto"}},[a("p",[e._v("您的浏览器不支持 HTML5 视频播放")])]),e.inputVideo?e._e():a("div",{staticClass:"empty-video-placeholder"},[a("i",{staticClass:"fas fa-video-slash"}),a("p",[e._v("请选择视频文件")])])])]),a("div",{staticClass:"videoView"},[a("div",{staticClass:"control-panel"},[e._m(3),a("div",{staticClass:"mediapipe-controls"},[a("button",{staticClass:"custom-button mediapipe-button",attrs:{disabled:!e.inputVideo},on:{click:e.toggleMediaPipe}},[a("span",{staticClass:"button-icon"},[a("i",{class:e.isMediaPipeActive?"fas fa-pause":"fas fa-play"})]),a("span",{staticClass:"button-text"},[e._v(e._s(e.isMediaPipeActive?"暂停处理":"开始处理"))])])])]),a("div",{staticClass:"video-container"},[a("canvas",{ref:"outputCanvas",staticClass:"output_canvas",attrs:{width:1280,height:720}}),e.inputVideo?e._e():a("div",{staticClass:"empty-video-placeholder"},[a("i",{staticClass:"fas fa-chart-line"}),a("p",[e._v("等待视频输入")])])])])]),a("div",{staticClass:"card-row"},[a("div",{staticClass:"videoView"},[a("div",{staticClass:"control-panel"},[a("span",{staticClass:"processing-status"},[e._v("焦虑分析结果")]),a("div",{staticClass:"anxiety-controls"},[a("button",{staticClass:"custom-button analyze-button",attrs:{disabled:!e.inputVideo||e.isAnalyzing},on:{click:e.analyzeAnxiety}},[e._m(4),a("span",{staticClass:"button-text"},[e._v("分析焦虑")])])]),e.isAnalyzing?a("div",{staticClass:"analysis-status"},[a("i",{staticClass:"fas fa-spinner fa-spin"}),a("span",[e._v("正在分析...")])]):e._e()]),a("div",{staticClass:"video-container"},[e.anxietyResult||e.isAnalyzing?e._e():a("div",{staticClass:"empty-video-placeholder"},[a("i",{staticClass:"fas fa-brain"}),a("p",[e._v('点击"分析焦虑"按钮开始分析')])]),e.isAnalyzing?a("div",{staticClass:"loading-analysis"},[a("div",{staticClass:"loading-spinner"}),a("p",[e._v("正在分析视频，请稍候...")]),a("div",{staticClass:"progress-bar"},[a("div",{staticClass:"progress",style:{width:e.analysisProgress+"%"}})])]):e._e(),e.anxietyResult&&e.anxietyResult.error?a("div",{staticClass:"anxiety-result error-result"},[e._m(5),a("div",{staticClass:"error-content"},[a("p",[e._v(e._s(e.anxietyResult.message))]),a("div",{staticClass:"error-actions"},[a("button",{staticClass:"custom-button primary-button",on:{click:function(t){return e.$refs.videoInput.click()}}},[a("i",{staticClass:"fas fa-upload"}),a("span",[e._v("重新上传视频")])])])])]):e._e(),e.anxietyResult&&!e.isAnalyzing?a("div",{staticClass:"anxiety-result"},[e._m(6),a("div",{staticClass:"score-container"},[a("div",{staticClass:"score-circle",class:e.anxietyLevelClass},[a("span",{staticClass:"score-value"},[e._v(e._s(e.formattedScore))]),a("span",{staticClass:"score-label"},[e._v("焦虑指数")])]),a("div",{staticClass:"score-details"},[a("div",{staticClass:"anxiety-level"},[a("span",[e._v("焦虑等级：")]),a("span",{staticClass:"level-badge",class:e.anxietyLevelClass},[e._v(" "+e._s(e.anxietyLevelText)+" ")])]),a("div",{staticClass:"anxiety-description"},[a("p",[e._v(e._s(e.anxietyDescription))])]),a("div",{staticClass:"analysis-time"},[a("i",{staticClass:"fas fa-clock"}),a("span",[e._v("分析时间："+e._s(e.analysisTime))])])])]),a("div",{staticClass:"recommendations"},[e._m(7),a("ul",e._l(e.anxietyTips,(function(t,n){return a("li",{key:n},[e._v(" "+e._s(t)+" ")])})),0)])]):e._e()])]),a("div",{staticClass:"videoView"},[a("div",{staticClass:"control-panel"},[a("span",{staticClass:"processing-status"},[e._v("音频频谱分析")]),a("div",{staticClass:"audio-controls"},[a("button",{staticClass:"custom-button audio-button",attrs:{disabled:!e.inputVideo},on:{click:e.toggleAudioVisualization}},[a("span",{staticClass:"button-icon"},[a("i",{class:e.isAudioVisualizationActive?"fas fa-pause":"fas fa-play"})]),a("span",{staticClass:"button-text"},[e._v(e._s(e.isAudioVisualizationActive?"暂停分析":"开始分析"))])])])]),a("div",{staticClass:"video-container"},[e.inputVideo?a("div",{staticClass:"spectrum-container"},[a("canvas",{ref:"audioCanvas",staticClass:"audio-canvas"}),e.audioAnalysisStats?a("div",{staticClass:"spectrum-info"},[a("div",{staticClass:"audio-stat"},[a("span",{staticClass:"stat-label"},[e._v("主频率:")]),a("span",{staticClass:"stat-value"},[e._v(e._s(e.audioAnalysisStats.dominantFrequency)+" Hz")])]),a("div",{staticClass:"audio-stat"},[a("span",{staticClass:"stat-label"},[e._v("音量:")]),a("span",{staticClass:"stat-value"},[e._v(e._s(e.audioAnalysisStats.volume))])])]):e._e()]):a("div",{staticClass:"empty-video-placeholder"},[a("i",{staticClass:"fas fa-music"}),a("p",[e._v("请先选择视频以查看音频频谱")])])])])])]):a("div",{staticClass:"loading-container"},[e._m(0)])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"loading-content"},[a("div",{staticClass:"loading-spinner mediapipe-spinner"}),a("p",[e._v("正在加载 MediaPipe...")]),a("p",{staticClass:"loading-subtitle"},[e._v("首次加载可能需要一些时间，请耐心等待")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"button-icon"},[a("i",{staticClass:"fas fa-file-video"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"button-icon"},[a("i",{staticClass:"fas fa-trash-alt"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"processing-status"},[e._v("MediaPipe 处理结果 "),a("small",[e._v("(需手动点击启动)")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"button-icon"},[a("i",{staticClass:"fas fa-brain"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"result-header"},[a("i",{staticClass:"fas fa-exclamation-triangle"}),a("h3",[e._v("视频检测异常")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"result-header"},[a("i",{staticClass:"fas fa-chart-bar"}),a("h3",[e._v("焦虑评估报告")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h4",[a("i",{staticClass:"fas fa-lightbulb"}),e._v(" 建议")])}]},"0802":function(e,t,a){},"0835":function(e,t,a){"use strict";a.r(t);var n=a("c282"),s=a("cad7");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("2184");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"8ed438da",null);t["default"]=o.exports},"0847":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("a15b"),a("d81d"),a("14d9"),a("fb6a"),a("a434"),a("b0c0"),a("a9e3"),a("d3b7"),a("ac1f"),a("5319"),a("0643"),a("a573"),a("9a9a");var n=a("5f87");t.default={props:{value:[String,Object,Array],limit:{type:Number,default:5},fileSize:{type:Number,default:5},fileType:{type:Array,default:function(){return["png","jpg","jpeg"]}},isShowTip:{type:Boolean,default:!0}},data:function(){return{number:0,uploadList:[],dialogImageUrl:"",dialogVisible:!1,hideUpload:!1,baseUrl:"/api",uploadImgUrl:"/api/common/upload",headers:{Authorization:"Bearer "+(0,n.getToken)()},fileList:[]}},watch:{value:{handler:function(e){var t=this;if(!e)return this.fileList=[],[];var a=Array.isArray(e)?e:this.value.split(",");this.fileList=a.map((function(e){return"string"===typeof e&&(e=-1===e.indexOf(t.baseUrl)?{name:t.baseUrl+e,url:t.baseUrl+e}:{name:e,url:e}),e}))},deep:!0,immediate:!0}},computed:{showTip:function(){return this.isShowTip&&(this.fileType||this.fileSize)}},methods:{handleBeforeUpload:function(e){var t=!1;if(this.fileType.length){var a="";e.name.lastIndexOf(".")>-1&&(a=e.name.slice(e.name.lastIndexOf(".")+1)),t=this.fileType.some((function(t){return e.type.indexOf(t)>-1||!!(a&&a.indexOf(t)>-1)}))}else t=e.type.indexOf("image")>-1;if(!t)return this.$modal.msgError("文件格式不正确, 请上传".concat(this.fileType.join("/"),"图片格式文件!")),!1;if(this.fileSize){var n=e.size/1024/1024<this.fileSize;if(!n)return this.$modal.msgError("上传头像图片大小不能超过 ".concat(this.fileSize," MB!")),!1}this.$modal.loading("正在上传图片，请稍候..."),this.number++},handleExceed:function(){this.$modal.msgError("上传文件数量不能超过 ".concat(this.limit," 个!"))},handleUploadSuccess:function(e,t){200===e.code?(this.uploadList.push({name:e.fileName,url:e.fileName}),this.uploadedSuccessfully()):(this.number--,this.$modal.closeLoading(),this.$modal.msgError(e.msg),this.$refs.imageUpload.handleRemove(t),this.uploadedSuccessfully())},handleDelete:function(e){var t=this.fileList.map((function(e){return e.name})).indexOf(e.name);t>-1&&(this.fileList.splice(t,1),this.$emit("input",this.listToString(this.fileList)))},handleUploadError:function(){this.$modal.msgError("上传图片失败，请重试"),this.$modal.closeLoading()},uploadedSuccessfully:function(){this.number>0&&this.uploadList.length===this.number&&(this.fileList=this.fileList.concat(this.uploadList),this.uploadList=[],this.number=0,this.$emit("input",this.listToString(this.fileList)),this.$modal.closeLoading())},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},listToString:function(e,t){var a="";for(var n in t=t||",",e)e[n].url&&(a+=e[n].url.replace(this.baseUrl,"")+t);return""!=a?a.substr(0,a.length-1):""}}}},"0876":function(e,t,a){},"088c":function(e,t,a){"use strict";var n=a("4ea4").default;a("d81d"),a("d3b7"),a("a573"),a("ddb0");var s=n(a("2b0e")),i=n(a("c00a"));s.default.component("svg-icon",i.default);var r=a("23f1"),o=function(e){return e.keys().map(e)};o(r)},"0899":function(e,t,a){"use strict";a.r(t);var n=a("7e3f"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"08b8":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("93bf"));t.default={name:"Screenfull",data:function(){return{isFullscreen:!1}},mounted:function(){this.init()},beforeDestroy:function(){this.destroy()},methods:{click:function(){if(!s.default.isEnabled)return this.$message({message:"你的浏览器不支持全屏",type:"warning"}),!1;s.default.toggle()},change:function(){this.isFullscreen=s.default.isFullscreen},init:function(){s.default.isEnabled&&s.default.on("change",this.change)},destroy:function(){s.default.isEnabled&&s.default.off("change",this.change)}}}},"08e4":function(e,t,a){"use strict";a("97d9")},"092f":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.getMembers=i,t.removeMember=r,t.updateUserInfo=o,a("b0c0");var s=n(a("b775"));function i(e){var t=e.page,a=void 0===t?"":t,n=e.pageSize,i=void 0===n?"":n,r=e.name,o=void 0===r?"":r,l=e.stuIndex,c=void 0===l?"":l,u=e.mail,d=void 0===u?"":u;return(0,s.default)({url:"/getMembers",method:"get",params:{page:a,pageSize:i,name:o,stuIndex:c,mail:d}})}function r(e){return(0,s.default)({url:"/deleteMember/".concat(e),method:"get"})}function o(e,t){return(0,s.default)({headers:{"Content-Type":"application/x-www-form-urlencoded"},url:"/member/updateInfo?userId=".concat(e),method:"POST",data:t})}},"095c":function(e,t,a){"use strict";a.r(t);var n=a("7b5c"),s=a("539b");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("b7ca");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},"0994":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"peer-review"},[a("h2",{staticClass:"peer-evaluation-title"},[e._v("互评分配信息")]),0===e.assignedStudents.length?a("el-alert",{staticClass:"status-alert",attrs:{title:"暂无已分配的学生",type:"info",closable:!1,"show-icon":""}}):a("el-alert",{staticClass:"status-alert",attrs:{title:"已分配学生总数："+e.assignedStudents.length+" 人，来自 "+e.uniqueClassCount+" 个班级",type:"success",closable:!1,"show-icon":""}}),a("div",{staticClass:"allocation-section"},[1===e.assignedStudents.length?a("el-alert",{staticClass:"single-student-alert",attrs:{title:"当前只有一名学生，将自动设置为自我互评",type:"warning",closable:!1,"show-icon":""}}):[a("div",{staticClass:"allocation-header"},[a("h3",[e._v("选择分配方式")])]),a("el-radio-group",{on:{change:e.handleAllocationModeChange},model:{value:e.allocationMode,callback:function(t){e.allocationMode=t},expression:"allocationMode"}},[a("el-tooltip",{attrs:{content:"在同一个班级内进行随机互评分配",placement:"top"}},[a("el-radio",{attrs:{label:"auto"}},[e._v("班内互评")])],1),a("el-tooltip",{attrs:{content:"手动选择不同班级间的互评分配",placement:"top"}},[a("el-radio",{attrs:{label:"manual"}},[e._v("跨班级互评")])],1)],1),"manual"===e.allocationMode?a("div",{staticClass:"manual-selection"},[e.uniqueClassCount<2?a("el-alert",{staticClass:"class-warning",attrs:{title:"需要至少两个不同班级的学生才能进行跨班级互评",type:"warning",closable:!1,"show-icon":""}}):[a("div",{staticClass:"selection-group"},[a("div",{staticClass:"selection-label"},[e._v("被评价班级：")]),a("el-select",{staticClass:"selection-box",attrs:{placeholder:"选择需要被评价的班级"},on:{change:e.handleClassChange},model:{value:e.selectedClass,callback:function(t){e.selectedClass=t},expression:"selectedClass"}},e._l(e.uniqueClasses,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),e.selectedClass?a("div",{staticClass:"selection-group"},[a("div",{staticClass:"selection-label"},[e._v("选择被评价学生：")]),a("el-select",{staticClass:"selection-box",attrs:{multiple:"",placeholder:"选择需要被评价的学生"},on:{change:e.validateSelections},model:{value:e.selectedStudents,callback:function(t){e.selectedStudents=t},expression:"selectedStudents"}},e._l(e.classStudents,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[a("span",[e._v(e._s(t.name))]),a("span",{staticClass:"student-id"},[e._v("("+e._s(t.studentId)+")")])])})),1)],1):e._e(),a("div",{staticClass:"selection-group"},[a("div",{staticClass:"selection-label"},[e._v("评价班级：")]),a("el-select",{staticClass:"selection-box",attrs:{placeholder:"选择评价班级"},on:{change:e.handleReviewerClassChange},model:{value:e.reviewerClass,callback:function(t){e.reviewerClass=t},expression:"reviewerClass"}},e._l(e.availableReviewerClasses,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),e.reviewerClass?a("div",{staticClass:"selection-group"},[a("div",{staticClass:"selection-label"},[e._v("选择评价人：")]),a("el-select",{staticClass:"selection-box",attrs:{multiple:"",placeholder:"选择评价人"},on:{change:e.validateSelections},model:{value:e.selectedReviewers,callback:function(t){e.selectedReviewers=t},expression:"selectedReviewers"}},e._l(e.reviewerClassStudents,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[a("span",[e._v(e._s(t.name))]),a("span",{staticClass:"student-id"},[e._v("("+e._s(t.studentId)+")")])])})),1)],1):e._e()]],2):e._e()],a("div",{staticClass:"action-section"},[a("el-button",{attrs:{type:"primary",disabled:!e.canAllocate,loading:e.loading.allocating},on:{click:e.allocateReviewers}},[e._v(" "+e._s(e.getAllocationButtonText)+" ")])],1)],2),a("div",{staticClass:"results-section"},[a("div",{staticClass:"results-header"},[a("div",{staticClass:"header-left"},[a("h3",[e._v("分配结果")]),a("el-select",{staticClass:"filter-select",attrs:{placeholder:"按班级筛选",clearable:""},on:{change:e.handleFilterChange},model:{value:e.filterClass,callback:function(t){e.filterClass=t},expression:"filterClass"}},e._l(e.uniqueClasses,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-button",{attrs:{type:"text",icon:"el-icon-refresh",loading:e.loading.table},on:{click:e.fetchPeerReviewAssignments}},[e._v(" 刷新 ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.table,expression:"loading.table"}],staticClass:"peer-assignments-table",attrs:{data:e.filteredAssignments,border:"",fit:""}},[a("el-table-column",{attrs:{prop:"student.studentId",label:"学号","min-width":"120","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"student.name",label:"学生姓名","min-width":"120","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"student.className",label:"所属班级","min-width":"150","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{label:"分配状态","min-width":"100","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.reviewer?"success":"info",effect:"plain"}},[e._v(" "+e._s(t.row.reviewer?"已分配":"未分配")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"reviewer.studentId",label:"评价人学号","min-width":"120","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.reviewer?a("span",[e._v(e._s(t.row.reviewer.studentId))]):a("span",{staticClass:"unassigned"},[e._v("未分配")])]}}])}),a("el-table-column",{attrs:{prop:"reviewer.name",label:"评价人姓名","min-width":"120","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.reviewer?a("span",[e._v(e._s(t.row.reviewer.name))]):a("span",{staticClass:"unassigned"},[e._v("未分配")])]}}])}),a("el-table-column",{attrs:{prop:"reviewer.className",label:"评价人班级","min-width":"150","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.reviewer?a("span",[e._v(e._s(t.row.reviewer.className))]):a("span",{staticClass:"unassigned"},[e._v("未分配")])]}}])})],1)],1)],1)},s=[]},"09ad":function(e,t,a){"use strict";a.r(t);var n=a("e763"),s=a("eae1");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("f430");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"e742fd64",null);t["default"]=o.exports},"09c7":function(e,t,a){"use strict";a.r(t);var n=a("bed3"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"09cd":function(e,t,a){"use strict";a.r(t);var n=a("b9eb"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"09f4":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scrollTo=r,Math.easeInOutQuad=function(e,t,a,n){return e/=n/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function s(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function i(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function r(e,t,a){var r=i(),o=e-r,l=20,c=0;t="undefined"===typeof t?500:t;var u=function(){c+=l;var e=Math.easeInOutQuad(c,r,o,t);s(e),c<t?n(u):a&&"function"===typeof a&&a()};u()}},"0a5c":function(e,t,a){"use strict";a.r(t);var n=a("5816"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"0aa6":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-tasks"},[a("h2",{staticClass:"title"},[e._v("我的作业")]),e._l(e.tasks,(function(t){return a("div",{key:t.taskId,staticClass:"task-card"},[a("el-card",{staticClass:"task-card-content"},[a("div",{staticClass:"task-header"},[a("h3",{staticClass:"task-name"},[e._v("作业名称: "+e._s(t.taskName))]),a("el-button",{staticClass:"view-button",attrs:{size:"mini"},on:{click:function(a){return e.viewTaskDetails(t)}}},[e._v("查看作业")])],1),a("div",{staticClass:"task-info-grid"},[a("div",[a("p",[e._v("提交内容: "+e._s(t.submissionTypes.join(", ")))])]),a("div",[a("p",[e._v("评价流程: "+e._s(t.evaluationMethods.join("-")))])]),a("div",[a("p",[e._v("截止日期: "+e._s(e.formatDeadline(t.deadline)))])]),a("div",[a("p",[e._v("教师: "+e._s(t.ownerName||"无"))])]),a("div",[a("p",{class:{"status-completed":"已完成"===t.completionStatus,"status-uncompleted":"未完成"===t.completionStatus}},[e._v(" 完成状态: "+e._s(t.completionStatus)+" ")])])])])],1)}))],2)},s=[]},"0b37":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-input",use:"icon-input-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-input"><defs><style type="text/css"></style></defs><path d="M896 224H128c-35.2 0-64 28.8-64 64v448c0 35.2 28.8 64 64 64h768c35.2 0 64-28.8 64-64V288c0-35.2-28.8-64-64-64z m0 480c0 19.2-12.8 32-32 32H160c-19.2 0-32-12.8-32-32V320c0-19.2 12.8-32 32-32h704c19.2 0 32 12.8 32 32v384z" p-id="3103" /><path d="M224 352c-19.2 0-32 12.8-32 32v256c0 16 12.8 32 32 32s32-12.8 32-32V384c0-16-12.8-32-32-32z" p-id="3104" /></symbol>'});r.a.add(o);t["default"]=o},"0c01":function(e,t,a){"use strict";a("0f23")},"0c16":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-row",use:"icon-row-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-row"><defs><style type="text/css"></style></defs><path d="M152 854.856875h325.7146875V237.715625H134.856875v600q0 6.99375 5.0746875 12.0684375T152 854.856875z m737.143125-17.1421875v-600H546.284375v617.1421875H872q6.99375 0 12.0684375-5.07375t5.0746875-12.0684375z m68.5715625-651.429375V837.715625q0 35.3821875-25.16625 60.5484375T872 923.4284375H152q-35.383125 0-60.5484375-25.1653125T66.284375 837.7146875V186.284375q0-35.3821875 25.16625-60.5484375T152 100.5715625h720q35.383125 0 60.5484375 25.1653125t25.16625 60.5484375z" p-id="1183" /></symbol>'});r.a.add(o);t["default"]=o},"0c4f":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-redis",use:"icon-redis-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-redis"><defs><style type="text/css"></style></defs><path d="M1023.786667 611.84c-0.426667 9.770667-13.354667 20.693333-39.893334 34.56-54.613333 28.458667-337.749333 144.896-397.994666 176.298667-60.288 31.402667-93.738667 31.104-141.354667 8.32-47.616-22.741333-348.842667-144.469333-403.114667-170.368-27.093333-12.970667-40.917333-23.893333-41.386666-34.218667v103.509333c0 10.325333 14.250667 21.290667 41.386666 34.261334 54.272 25.941333 355.541333 147.626667 403.114667 170.368 47.616 22.784 81.066667 23.082667 141.354667-8.362667 60.245333-31.402667 343.338667-147.797333 397.994666-176.298667 27.776-14.464 40.106667-25.728 40.106667-35.925333v-102.058667l-0.213333-0.085333z m0-168.746667c-0.512 9.770667-13.397333 20.650667-39.893334 34.517334-54.613333 28.458667-337.749333 144.896-397.994666 176.298666-60.288 31.402667-93.738667 31.104-141.354667 8.362667-47.616-22.741333-348.842667-144.469333-403.114667-170.410667-27.093333-12.928-40.917333-23.893333-41.386666-34.176v103.509334c0 10.325333 14.250667 21.248 41.386666 34.218666 54.272 25.941333 355.498667 147.626667 403.114667 170.368 47.616 22.784 81.066667 23.082667 141.354667-8.32 60.245333-31.402667 343.338667-147.84 397.994666-176.298666 27.776-14.506667 40.106667-25.770667 40.106667-35.968v-102.058667l-0.256-0.042667z m0-175.018666c0.469333-10.410667-13.141333-19.541333-40.533334-29.610667-53.248-19.498667-334.634667-131.498667-388.522666-151.253333-53.888-19.712-75.818667-18.901333-139.093334 3.84C392.234667 113.706667 92.629333 231.253333 39.338667 252.074667c-26.666667 10.496-39.68 20.181333-39.253334 30.506666V386.133333c0 10.325333 14.250667 21.248 41.386667 34.218667 54.272 25.941333 355.498667 147.669333 403.114667 170.410667 47.616 22.741333 81.066667 23.04 141.354666-8.362667 60.245333-31.402667 343.338667-147.84 397.994667-176.298667 27.776-14.506667 40.106667-25.770667 40.106667-35.968V268.074667h-0.341334zM366.677333 366.08l237.269334-36.437333-71.68 105.088-165.546667-68.650667z m524.8-94.634667l-140.330666 55.466667-15.232 5.973333-140.245334-55.466666 155.392-61.44 140.373334 55.466666z m-411.989333-101.674666l-22.954667-42.325334 71.594667 27.989334 67.498667-22.101334-18.261334 43.733334 68.778667 25.770666-88.704 9.216-19.882667 47.786667-32.085333-53.290667-102.4-9.216 76.416-27.562666z m-176.768 59.733333c70.058667 0 126.805333 21.973333 126.805333 49.109333s-56.746667 49.152-126.805333 49.152-126.848-22.058667-126.848-49.152c0-27.136 56.789333-49.152 126.848-49.152z" p-id="857" /></symbol>'});r.a.add(o);t["default"]=o},"0c94":function(e,t,a){"use strict";a("7800")},"0e22":function(e,t,a){},"0e8f":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-tree",use:"icon-tree-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-tree"><path d="M126.713 90.023c.858.985 1.287 2.134 1.287 3.447v29.553c0 1.423-.429 2.6-1.287 3.53-.858.93-1.907 1.395-3.146 1.395H97.824c-1.145 0-2.146-.465-3.004-1.395-.858-.93-1.287-2.107-1.287-3.53V93.47c0-.875.19-1.696.572-2.462.382-.766.906-1.368 1.573-1.806a3.84 3.84 0 0 1 2.146-.657h9.725V69.007a3.84 3.84 0 0 0-.43-1.806 3.569 3.569 0 0 0-1.143-1.313 2.714 2.714 0 0 0-1.573-.492h-36.47v23.149h9.725c1.144 0 2.145.492 3.004 1.478.858.985 1.287 2.134 1.287 3.447v29.553c0 .876-.191 1.696-.573 2.463-.38.766-.905 1.368-1.573 1.806a3.84 3.84 0 0 1-2.145.656H51.915a3.84 3.84 0 0 1-2.145-.656c-.668-.438-1.216-1.04-1.645-1.806a4.96 4.96 0 0 1-.644-2.463V93.47c0-1.313.43-2.462 1.288-3.447.858-.986 1.907-1.478 3.146-1.478h9.582v-23.15h-37.9c-.953 0-1.74.356-2.359 1.068-.62.711-.93 1.56-.93 2.544v19.538h9.726c1.239 0 2.264.492 3.074 1.478.81.985 1.216 2.134 1.216 3.447v29.553c0 1.423-.405 2.6-1.216 3.53-.81.93-1.835 1.395-3.074 1.395H4.29c-.476 0-.93-.082-1.358-.246a4.1 4.1 0 0 1-1.144-.657 4.658 4.658 0 0 1-.93-1.067 5.186 5.186 0 0 1-.643-1.395 5.566 5.566 0 0 1-.215-1.56V93.47c0-.437.048-.875.143-1.313a3.95 3.95 0 0 1 .429-1.15c.19-.328.429-.656.715-.984.286-.329.572-.602.858-.821.286-.22.62-.383 1.001-.493.382-.11.763-.164 1.144-.164h9.726V61.619c0-.985.31-1.833.93-2.544.619-.712 1.358-1.068 2.216-1.068h44.335V39.62h-9.582c-1.24 0-2.288-.492-3.146-1.477a5.09 5.09 0 0 1-1.287-3.448V5.14c0-1.423.429-2.627 1.287-3.612.858-.985 1.907-1.477 3.146-1.477h25.743c.763 0 1.478.246 2.145.739a5.17 5.17 0 0 1 1.573 1.888c.382.766.573 1.587.573 2.462v29.553c0 1.313-.43 2.463-1.287 3.448-.859.985-1.86 1.477-3.004 1.477h-9.725v18.389h42.762c.954 0 1.74.355 2.36 1.067.62.711.93 1.56.93 2.545v26.925h9.582c1.239 0 2.288.492 3.146 1.478z" /></symbol>'});r.a.add(o);t["default"]=o},"0ee3":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-select",use:"icon-select-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-select"><defs><style type="text/css"></style></defs><path d="M62 511.97954521C62 263.86590869 263.90681826 62 511.97954521 62s449.97954521 201.825 449.97954521 449.97954521c0 248.19545479-201.90681826 449.97954521-449.97954521 449.97954521C263.90681826 962 62 760.175 62 511.97954521M901.98636348 511.97954521c0-215.24318174-175.00909131-390.41590869-390.00681827-390.41590869-215.03863652 0-389.96590869 175.17272695-389.96590868 390.41590869 0 215.28409131 175.00909131 390.45681826 389.96590868 390.45681826C727.01818174 902.47727305 901.98636348 727.30454521 901.98636348 511.97954521M264.17272695 430.28409131c0-5.76818174 2.12727305-11.51590869 6.64772696-15.87272696 8.71363652-8.75454521 22.88863652-8.75454521 31.725 0l209.4340913 208.22727305L721.45454521 414.53409131c8.75454521-8.71363652 22.97045479-8.71363652 31.90909132 0 8.71363652 8.75454521 8.71363652 22.88863652 0 31.60227304L511.97954521 685.74090869 270.71818174 446.01363653C266.27954521 441.77954521 264.17272695 436.05227305 264.17272695 430.28409131" p-id="805" /></symbol>'});r.a.add(o);t["default"]=o},"0ee4":function(e,t,a){"use strict";a.r(t);var n=a("2bd3"),s=a("c561");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("3399");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"4f8d91be",null);t["default"]=o.exports},"0f20":function(e,t,a){},"0f23":function(e,t,a){},"0f9a":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d9e2"),a("b0c0"),a("d3b7"),a("498a");var s=a("7ded"),i=a("5f87"),r=n(a("2b0e")),o=n(a("b775")),l={state:{token:(0,i.getToken)(),id:"",name:"",avatar:"",roles:[],permissions:[]},mutations:{SET_TOKEN:function(e,t){e.token=t},SET_ID:function(e,t){e.id=t},SET_NAME:function(e,t){e.name=t},SET_AVATAR:function(e,t){e.avatar=t},SET_ROLES:function(e,t){e.roles=t},SET_PERMISSIONS:function(e,t){e.permissions=t}},actions:{Login:function(e,t){var a=e.commit,n=t.username.trim(),o=t.password;return new Promise((function(e,t){(0,s.login)(n,o).then((function(n){var s=n.code,o=n.msg,l=n.data;if(1===s&&"success"===o){console.log("Login successful, token:",l);var c=l;(0,i.setToken)(c),a("SET_TOKEN",c),e()}else"用户不存在"===o?(t(new Error("用户不存在")),r.default.prototype.$message.error("用户不存在")):"密码错误"===o?(t(new Error("密码错误")),r.default.prototype.$message.error("密码错误")):(t(new Error(o||"登录失败")),r.default.prototype.$message.error("登录失败"))})).catch((function(e){t(e)}))}))},GetInfo:function(e){var t=e.commit;e.state;return new Promise((function(e,n){(0,s.getInfo)().then((function(n){var s=n.data,i=""==s.avatar||null==s.avatar?a("ebad"):"/api"+s.avatar,r=[];r=1===s.roleId?["admin"]:2===s.roleId?["common"]:["ROLE_DEFAULT"],t("SET_ROLES",r),t("SET_ID",s.userId),t("SET_NAME",s.nickName),t("SET_AVATAR",i),e(n)})).catch((function(e){n(e)}))}))},CasLogin:function(e,t){var a=e.commit,n=t.ticket;return new Promise((function(e,t){(0,o.default)({url:"/login?ticket=".concat(n),method:"post"}).then((function(n){if(1===n.code){var s=n.data;(0,i.setToken)(s),a("SET_TOKEN",s),e()}else t(n.msg)})).catch((function(e){t(e)}))}))},FedLogOut:function(e){var t=e.commit;return new Promise((function(e){t("SET_TOKEN",""),(0,i.removeToken)(),e()}))}}};t.default=l},"0fc0":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("7db0"),a("d81d"),a("14d9"),a("13d5"),a("e9c4"),a("d3b7"),a("3ca3"),a("4d90"),a("0643"),a("fffc"),a("a573"),a("9d4a"),a("ddb0");var s=n(a("7ec2")),i=n(a("c973")),r=n(a("ded3")),o=a("e1ef"),l=a("2f62");t.default={data:function(){return{tasks:[]}},computed:(0,r.default)({},(0,l.mapGetters)(["userId"])),created:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchTasks();case 2:case"end":return t.stop()}}),t)})))()},methods:{fetchTasks:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){var a,n;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,o.getSubmissionsByStuId)(e.userId);case 3:if(a=t.sent,1!==a.code){t.next=10;break}return e.originalSubmissions=a.data.rows,n=a.data.rows.map(function(){var e=(0,i.default)((0,s.default)().mark((function e(t){var a,n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.getTaskInfoById)(t.taskId);case 2:return a=e.sent,n=a.data,n.submitId=t.id,n.taskId=t.taskId,n.ownerName=n.ownerName||"无",n.completionStatus=t.finished?"已完成":"未完成",e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.next=9,Promise.all(n);case 9:e.tasks=t.sent;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.error("获取任务数据失败：",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},viewTaskDetails:function(e){var t=e.submitId,a=e.taskId,n=this.originalSubmissions.find((function(e){return e.id===t}));if(n&&n.taskInfos){var s=n.taskInfos.reduce((function(e,t){return e[t.submissionType]=t.fileName,e}),{});this.$router.push({name:"MachineEvaluation",params:{submitId:t,taskId:a},query:{fileNames:JSON.stringify(s)}})}else this.$message.error("无法获取作业信息")},formatDeadline:function(e){var t=new Date(e),a=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),o=String(t.getSeconds()).padStart(2,"0");return"".concat(a,"-").concat(n,"-").concat(s," ").concat(i,":").concat(r,":").concat(o)}}}},1:function(e,t){},10:function(e,t){},11:function(e,t){},1124:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"application-list"},[a("h2",[e._v("班级 "+e._s(e.classId)+" 的申请列表")]),a("div",{staticStyle:{"margin-bottom":"20px"}},[a("el-button",{attrs:{type:"success"},on:{click:e.batchApprove}},[e._v("批量同意")]),a("el-button",{attrs:{type:"danger"},on:{click:e.batchReject}},[e._v("批量拒绝")])],1),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.applications}},[a("el-table-column",{attrs:{label:"学号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.studentInfo.studentId)+" ")]}}])}),a("el-table-column",{attrs:{label:"姓名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.studentInfo.nickName)+" ")]}}])}),a("el-table-column",{attrs:{label:"邮箱",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.studentInfo.userName)+" ")]}}])}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["approved"===t.row.applicationStatus?a("div",[e._v(" 已同意 ")]):"rejected"===t.row.applicationStatus?a("div",[e._v(" 已拒绝 ")]):a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:t.row.updatedStatus,callback:function(a){e.$set(t.row,"updatedStatus",a)},expression:"scope.row.updatedStatus"}},[a("el-option",{attrs:{label:"批准",value:"approved"}}),a("el-option",{attrs:{label:"拒绝",value:"rejected"}})],1)]}}])})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitApplicationChanges}},[e._v("提交更改")])],1)],1)},s=[]},"114b":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("14d9"),a("e9c4"),a("d3b7"),a("ac1f"),a("25f0"),a("5319");var s=n(a("852e")),i=a("21f2");t.default={name:"Login",data:function(){return{loginForm:{username:"",password:"",rememberMe:!1},loginRules:{username:[{required:!0,trigger:"blur",message:"请输入您的账号"}],password:[{required:!0,trigger:"blur",message:"请输入您的密码"}]},loading:!1,captchaEnabled:!1,register:!0,redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){this.getCookie()},methods:{getCookie:function(){var e=s.default.get("username"),t=s.default.get("password"),a=s.default.get("rememberMe");this.loginForm={username:void 0===e?this.loginForm.username:e,password:void 0===t?this.loginForm.password:(0,i.decrypt)(t),rememberMe:void 0!==a&&Boolean(a)}},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){t&&(e.loading=!0,e.loginForm.rememberMe?(s.default.set("username",e.loginForm.username,{expires:30}),s.default.set("password",(0,i.encrypt)(e.loginForm.password),{expires:30}),s.default.set("rememberMe",e.loginForm.rememberMe,{expires:30})):(s.default.remove("username"),s.default.remove("password"),s.default.remove("rememberMe")),e.$store.dispatch("Login",e.loginForm).then((function(){console.log("Redirecting to: ",e.redirect||"/"),e.$router.push({path:e.redirect||"/"}).catch((function(e){return console.error(e)}))})).catch((function(t){console.log("Full Error: ",JSON.stringify(t,null,2)),t.response&&(console.log("Error Response: ",t.response),console.log("Error Status: ",t.response.status),console.log("Error Data: ",t.response.data)),e.loading=!1})))}))},handleCasLogin:function(){var e="https://auth.bupt.edu.cn/authserver/login";function t(e){return e.replace(/[;/?:@&=+$,]/g,(function(e){var t=e.charCodeAt(0).toString(16).toLowerCase();return"%"+(1===t.length?"0"+t:t)}))}var a=t("http://123.56.183.160:8081/cas/callback");console.log("编码前service:","http://123.56.183.160:8081/cas/callback"),console.log("编码后service:",a),window.location.href="".concat(e,"?service=").concat(a)}}}},"116f":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._l(e.options,(function(t,n){return[e.values.includes(t.value)?["default"!=t.raw.listClass&&""!=t.raw.listClass||""!=t.raw.cssClass&&null!=t.raw.cssClass?a("el-tag",{key:t.value,class:t.raw.cssClass,attrs:{"disable-transitions":!0,index:n,type:"primary"==t.raw.listClass?"":t.raw.listClass}},[e._v(" "+e._s(t.label+" ")+" ")]):a("span",{key:t.value,class:t.raw.cssClass,attrs:{index:n}},[e._v(e._s(t.label+" "))])]:e._e()]})),e.unmatch&&e.showValue?[e._v(" "+e._s(e._f("handleArray")(e.unmatchArray))+" ")]:e._e()],2)},s=[]},"119c":function(e,t,a){"use strict";a.r(t);var n=a("69ab"),s=a("e00b");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},"11cc":function(e,t,a){},12:function(e,t){},1269:function(e,t,a){},"126b":function(e,t,a){"use strict";a.r(t);var n=a("b7cd"),s=a("b8d5");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("3010");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},13:function(e,t){},1389:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("b0c0");var s=n(a("4360")),i=a("7e79"),r=a("c0c7"),o=a("ed08");t.default={components:{VueCropper:i.VueCropper},data:function(){return{open:!1,visible:!1,title:"修改头像",options:{img:s.default.getters.avatar,autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0,outputType:"png",filename:"avatar"},previews:{},resizeHandler:null}},methods:{editCropper:function(){this.open=!0},modalOpened:function(){var e=this;this.visible=!0,this.resizeHandler||(this.resizeHandler=(0,o.debounce)((function(){e.refresh()}),100)),window.addEventListener("resize",this.resizeHandler)},refresh:function(){this.$refs.cropper.refresh()},requestUpload:function(){},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},beforeUpload:function(e){var t=this;if(-1==e.type.indexOf("image/"))this.$modal.msgError("文件格式错误，请上传图片类型,如：JPG，PNG后缀的文件。");else{var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t.options.img=a.result,t.options.filename=e.name}}},uploadImg:function(){var e=this;this.$refs.cropper.getCropBlob((function(t){var a=new FormData;a.append("avatarfile",t,e.options.filename),(0,r.uploadAvatar)(a).then((function(t){e.open=!1,e.options.img="/api"+t.imgUrl,s.default.commit("SET_AVATAR",e.options.img),e.$modal.msgSuccess("修改成功"),e.visible=!1}))}))},realTime:function(e){this.previews=e},closeDialog:function(){this.options.img=s.default.getters.avatar,this.visible=!1,window.removeEventListener("resize",this.resizeHandler)}}}},"13a0":function(e,t,a){"use strict";a.r(t);var n=a("f49b"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},14:function(e,t){},"144c":function(e,t,a){"use strict";a.r(t);var n=a("86ba"),s=a("3de4");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("6f35");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"31f5eddc",null);t["default"]=o.exports},"14a3":function(e,t,a){"use strict";a("532a")},"14ff":function(e,t,a){"use strict";a("a762")},15:function(e,t){},1525:function(e,t,a){"use strict";a.r(t);var n=a("8352"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},1598:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[]},"15ae":function(e,t,a){"use strict";var n=a("dbce").default,s=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(a("6374")),r=s(a("9523")),o=s(a("7ec2")),l=s(a("c973"));a("d9e2"),a("99af"),a("cb29"),a("4de4"),a("7db0"),a("0481"),a("caad"),a("a15b"),a("d81d"),a("14d9"),a("13d5"),a("4069"),a("e9c4"),a("b64b"),a("d3b7"),a("8a79"),a("2532"),a("3ca3"),a("498a"),a("0643"),a("76d6"),a("2382"),a("fffc"),a("4e3e"),a("a573"),a("9d4a"),a("159b"),a("ddb0"),a("2b3d"),a("bf19"),a("9861"),a("88a7"),a("271a"),a("5494");var c=a("5a2f"),u=n(a("313e")),d=a("5c96"),f=s(a("c343")),p=s(a("f02e")),m=s(a("5d2d"));t.default={name:"mutualReview",directives:{loading:d.Loading},props:{taskId:{type:String,required:!0},homeworkTitle:{type:String,required:!0},submitter:{type:String,required:!0},currentProcess:{type:String,required:!0},reviewerId:{type:String,required:!0},studentId:{type:String,required:!0}},data:function(){return{reviewer:"匿名",activeTab:"视频",submissionTypes:[],submitting:!1,evaluationData:{video:[],audio:[],ppt:[],word:[]},ratings:{video:[],audio:[],ppt:[],word:[]},comments:{video:"",audio:"",ppt:"",word:""},typeMapping:{"视频":"video","音频":"audio",PPT:"ppt","演讲稿":"word"},radarChart:null,radarCharts:{},dimensionScores:{"视频":0,"音频":0,PPT:0,"演讲稿":0},fileUrls:{video:"",audio:"",ppt:"",word:""},loading:{video:!1,audio:!1,ppt:!1,word:!1},currentTaskInfo:null,_blobUrls:[],wordContent:"",convertLoading:!1,isPlaying:!1,pdfData:null}},computed:{radarData:function(){var e=this;return this.submissionTypes.map((function(t){var a=e.typeMapping[t];return{name:t,value:e.calculateTotalScore(a)}}))},radarIndicator:function(){return this.submissionTypes.map((function(e){return{name:e,max:100}}))}},watch:{activeTab:{handler:function(e){var t=this;this.$nextTick((function(){t.initRadarChart(e)}))}},immediate:!0,ratings:{deep:!0,handler:function(e){var t=this;this.submissionTypes.forEach((function(e){t.updateDimensionScore(e)}))}}},mounted:function(){},components:{AudioVisualizer:p.default,"pdf-viewer":m.default},methods:{fetchTaskData:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){var a,n,s;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.getTaskInfoById)(e.taskId);case 3:if(a=t.sent,a&&a.data){t.next=7;break}return e.$message.error("获取任务信息失败"),t.abrupt("return");case 7:n=a.data,s=["视频","音频","PPT","演讲稿"],e.submissionTypes=s.filter((function(e){var t;return null===(t=n.submissionTypes)||void 0===t?void 0:t.includes(e)})),n.evaluationDimensions&&e.initializeEvaluationData(n),e.activeTab=e.submissionTypes[0]||"",e.$nextTick((function(){e.initRadarChart()})),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](0),console.error("获取任务信息失败：",t.t0),e.$message.error("获取任务信息失败");case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()},nextTab:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){var a,n;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.saveCurrentEvaluation();case 2:a=e.submissionTypes.indexOf(e.activeTab),n=(a+1)%e.submissionTypes.length,e.activeTab=e.submissionTypes[n];case 5:case"end":return t.stop()}}),t)})))()},handleNextTab:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){var a,n,s;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.saveCurrentTabEvaluation(),a){t.next=4;break}return e.$message({message:"请完成所有评分项并填写评语",type:"warning",duration:2e3}),t.abrupt("return");case 4:n=e.submissionTypes.indexOf(e.activeTab),s=(n+1)%e.submissionTypes.length,e.activeTab=e.submissionTypes[s],e.checkAllEvaluationsComplete()&&e.$message({message:"所有评分已完成，可以提交总评",type:"success",duration:2e3});case 8:case"end":return t.stop()}}),t)})))()},initializeEvaluationData:function(e){var t=this;if(null!==e&&void 0!==e&&e.evaluationDimensions){var a=e.evaluationDimensions.find((function(e){return"自评"===(null===e||void 0===e?void 0:e.evaluationMethods)}));null!==a&&void 0!==a&&a.evaluationTypes&&a.evaluationTypes.forEach((function(e){var a=t.typeMapping[e.evaluationContent];if(a){t.$set(t.evaluationData,a,e.evaluationTitles||[]);var n=e.evaluationTitles.map((function(e){return e.evaluationInfos?Array(e.evaluationInfos.length).fill(0):[]}));t.$set(t.ratings,a,n),t.$set(t.comments,a,"")}}))}},calculateTotalScore:function(e){var t=this;if(!this.ratings[e]||!this.ratings[e].length)return 0;var a=this.ratings[e].flat().reduce((function(e,t){return e+t}),0),n=this.ratings[e].flat().length,s=n>0?Math.round(a/(5*n)*100):0,i=Object.keys(this.typeMapping).find((function(a){return t.typeMapping[a]===e}));return i&&(this.$set(this.dimensionScores,i,s),Object.keys(this.radarCharts).forEach((function(e){t.updateRadarChart(e)}))),s},saveCurrentTabEvaluation:function(){var e=this.activeTab,t=this.checkTypeComplete(e);return t&&this.$message({message:"当前评分已保存",type:"success",duration:2e3}),t},checkTypeComplete:function(e){var t=this.typeMapping[e],a=this.ratings[t]&&this.ratings[t].every((function(e){return e.every((function(e){return e>0&&e<=5}))})),n=this.comments[t]&&this.comments[t].trim().length>0;return a&&n},checkAllEvaluationsComplete:function(){var e=this,t=this.submissionTypes.filter((function(t){return!e.checkTypeComplete(t)}));return!(t.length>0)||(this.$message.warning("以下内容的评分未完成：".concat(t.join("、"),"\n")+"请确保：\n1. 所有评分维度都已评星\n2. 已填写评语"),!1)},handleSubmitAll:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkAllEvaluationsComplete()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.$confirm("确认提交所有评分和评语？\n提交后将无法修改。\n\n各部分得分：\n".concat(e.submissionTypes.map((function(t){return"".concat(t,"：").concat(e.calculateTotalScore(e.typeMapping[t]),"分")})).join("\n")),"提交确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 5:return t.next=7,e.submitEvaluations();case 7:t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),"cancel"!==t.t0&&(console.error("提交评分失败：",t.t0),e.$message.error("提交失败，请重试"));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},submitEvaluations:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){var a,n;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.submitting=!0,a=e.submissionTypes.map((function(t){var a=e.typeMapping[t],n=e.evaluationData[a],s=[];return n.forEach((function(t,n){t.evaluationInfos.forEach((function(t,i){var o=e.ratings[a][n][i];s.push((0,r.default)({},t,o))}))})),{evaluationContent:t,finished:!0,evaluationTitle:e.comments[a],grade:e.calculateTotalScore(a),evaluationDimensions:s}})),n={taskId:e.taskId,stuId:e.studentId,evaluationType:{evaluationMethod:"互评",reviewerId:e.reviewerId,evaluationContents:a}},console.log("Submitting evaluation data:",JSON.stringify(n,null,2)),t.next=7,(0,c.submitEvaluation)(n);case 7:e.$message.success("评分提交成功！"),e.$emit("evaluation-submitted"),setTimeout((function(){e.$router.back()}),1500),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),console.error("提交评分失败：",t.t0),e.$message.error("提交失败，请重试");case 16:return t.prev=16,e.submitting=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,12,16,19]])})))()},initRadarChart:function(e){var t,a=null===(t=this.$refs["radarContainer-".concat(e)])||void 0===t?void 0:t[0];a&&(this.radarCharts[e]&&this.radarCharts[e].dispose(),this.radarCharts[e]=u.init(a),this.updateRadarChart(e))},updateRadarChart:function(e){var t=this,a=this.radarCharts[e];if(a){var n={title:{text:"能力评分雷达图",left:"center",top:10,textStyle:{fontSize:14,color:"#666"}},tooltip:{trigger:"item",formatter:function(e){var a=t.submissionTypes[e.dimensionIndex];return"".concat(a,": ").concat(t.dimensionScores[a],"分")}},radar:{indicator:this.submissionTypes.map((function(e){return{name:e,max:100}})),shape:"circle",radius:"65%",splitNumber:5,name:{textStyle:{color:"#666",fontSize:12}},splitArea:{areaStyle:{color:["#f3f6f9","#e9ecf2"]}}},series:[{type:"radar",name:"能力评分",data:[{value:this.submissionTypes.map((function(e){return t.dimensionScores[e]})),name:"当前评分",symbol:"circle",symbolSize:6,lineStyle:{width:2,color:"#409EFF"},areaStyle:{color:new u.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(64, 158, 255, 0.3)"},{offset:1,color:"rgba(64, 158, 255, 0.1)"}])},itemStyle:{color:"#409EFF"}}]}]};a.setOption(n)}},updateDimensionScore:function(e){var t=this,a=this.typeMapping[e],n=this.calculateTotalScore(a);this.$set(this.dimensionScores,e,n),Object.keys(this.radarCharts).forEach((function(e){t.updateRadarChart(e)}))},handleScoreChange:function(){var e=this;this.$nextTick((function(){e.updateRadarChart(e.activeTab)}))},getMimeType:function(e,t){var a={video:"video/mp4",audio:"audio/mpeg",ppt:"application/vnd.openxmlformats-officedocument.presentationml.presentation",word:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};return"word"!==e&&"ppt"!==e||!t.toLowerCase().endsWith(".pdf")?a[e]||"application/octet-stream":"application/pdf"},loadFiles:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){var a,n,s,r,l,u,d,p,m,v,h;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.getSubmissionsByStuId)(e.studentId);case 3:if(n=t.sent,s=n.data,null!==s&&void 0!==s&&null!==(a=s.rows)&&void 0!==a&&a.length){t.next=7;break}throw new Error("No submissions found");case 7:if(r=s.rows.find((function(t){return t.taskId===e.taskId})),null!==r&&void 0!==r&&r.taskInfos){t.next=10;break}throw new Error("Task ".concat(e.taskId," not found"));case 10:l=[],u=[],d=(0,i.default)(e.submissionTypes),t.prev=13,m=(0,o.default)().mark((function t(){var a,n,s,i,d,m,v,h,g,b,w;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=p.value,n=e.typeMapping[a],e.loading[n]=!0,t.prev=3,s=r.taskInfos.find((function(e){return e.submissionType===a})),s&&s.fileName){t.next=8;break}return l.push(a),t.abrupt("return",0);case 8:if(s.finished){t.next=11;break}return u.push(a),t.abrupt("return",0);case 11:if(!s.fileName){t.next=41;break}return t.next=14,(0,c.showFile)(n,s.fileName);case 14:if(i=t.sent,d=e.getMimeType(n,s.fileName),"word"!==n){t.next=40;break}return e.convertLoading=!0,t.prev=18,t.next=21,f.default.convertToHtml({arrayBuffer:i},{styleMap:["p[style-name='Title'] => h1:fresh","p[style-name='Heading 1'] => h2:fresh","p[style-name='Heading 2'] => h3:fresh","p[style-name='Quote'] => blockquote:fresh","r[style-name='Strong'] => strong","r[style-name='Emphasis'] => em"]});case 21:m=t.sent,e.wordContent=m.value,v=new Blob([i],{type:d}),h=URL.createObjectURL(v),e._blobUrls=e._blobUrls||[],e._blobUrls.push(h),e.$set(e.fileUrls,n,h),t.next=35;break;case 30:t.prev=30,t.t0=t["catch"](18),console.error("Word conversion failed:",t.t0),e.$message.error("Word文档转换失败"),e.wordContent="";case 35:return t.prev=35,e.convertLoading=!1,t.finish(35);case 38:t.next=41;break;case 40:"ppt"===n?e.pdfData=i:(g=new Blob([i],{type:d}),b=URL.createObjectURL(g),e._blobUrls=e._blobUrls||[],e._blobUrls.push(b),e.$set(e.fileUrls,n,b),w=e.$refs["".concat(n,"Element")],w&&(w.src=b));case 41:t.next=46;break;case 43:t.prev=43,t.t1=t["catch"](3),console.error("Error loading ".concat(a," file:"),t.t1);case 46:return t.prev=46,e.loading[n]=!1,t.finish(46);case 49:case"end":return t.stop()}}),t,null,[[3,43,46,49],[18,30,35,38]])})),d.s();case 16:if((p=d.n()).done){t.next=23;break}return t.delegateYield(m(),"t0",18);case 18:if(v=t.t0,0!==v){t.next=21;break}return t.abrupt("continue",21);case 21:t.next=16;break;case 23:t.next=28;break;case 25:t.prev=25,t.t1=t["catch"](13),d.e(t.t1);case 28:return t.prev=28,d.f(),t.finish(28);case 31:h=[],l.length>0&&h.push("未提交：".concat(l.join("、"))),u.length>0&&h.push("未完成：".concat(u.join("、"))),h.length>0&&e.$message({message:h.join("\n"),type:"warning",duration:5e3}),t.next=40;break;case 37:t.prev=37,t.t2=t["catch"](0),console.error("Error loading submissions:",t.t2);case 40:case"end":return t.stop()}}),t,null,[[0,37],[13,25,28,31]])})))()},handleFileError:function(e){this.loading[e]=!1},clearBlobUrls:function(){this._blobUrls.forEach((function(e){return URL.revokeObjectURL(e)})),this._blobUrls=[]},handlePlay:function(){this.isPlaying=!0},handlePause:function(){this.isPlaying=!1}},created:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchTaskData().then((function(){if(!e.activeTab){var t=Object.keys(e.evaluationData)[0];e.activeTab=t||"视频"}e.submissionTypes.forEach((function(t){e.$set(e.dimensionScores,t,0)})),e.$nextTick((function(){e.initRadarChart(e.activeTab)}))}));case 2:if(0!==e.submissionTypes.length){t.next=5;break}return e.$message.warning("未找到可评价的内容"),t.abrupt("return");case 5:return t.next=7,e.loadFiles();case 7:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){var e=this;this.radarCharts&&Object.keys(this.radarCharts).forEach((function(t){e.radarCharts[t]&&e.radarCharts[t].dispose()})),this._blobUrls&&Array.isArray(this._blobUrls)&&(this._blobUrls.forEach((function(e){return URL.revokeObjectURL(e)})),this._blobUrls=[])}}},"15cd":function(e,t,a){},"15e8":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-message",use:"icon-message-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-message"><path d="M0 20.967v59.59c0 11.59 8.537 20.966 19.075 20.966h28.613l1 26.477L76.8 101.523h32.125c10.538 0 19.075-9.377 19.075-20.966v-59.59C128 9.377 119.463 0 108.925 0h-89.85C8.538 0 0 9.377 0 20.967zm82.325 33.1c0-5.524 4.013-9.935 9.037-9.935 5.026 0 9.038 4.41 9.038 9.934 0 5.524-4.025 9.934-9.038 9.934-5.024 0-9.037-4.41-9.037-9.934zm-27.613 0c0-5.524 4.013-9.935 9.038-9.935s9.037 4.41 9.037 9.934c0 5.524-4.025 9.934-9.037 9.934-5.025 0-9.038-4.41-9.038-9.934zm-27.1 0c0-5.524 4.013-9.935 9.038-9.935s9.038 4.41 9.038 9.934c0 5.524-4.026 9.934-9.05 9.934-5.013 0-9.025-4.41-9.025-9.934z" /></symbol>'});r.a.add(o);t["default"]=o},16:function(e,t){},17:function(e,t){},"192d":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("a15b"),a("d81d"),a("14d9"),a("fb6a"),a("a434"),a("b0c0"),a("a9e3"),a("a573");var n=a("5f87");t.default={name:"FileUpload",props:{value:[String,Object,Array],limit:{type:Number,default:5},fileSize:{type:Number,default:5},fileType:{type:Array,default:function(){return["doc","xls","ppt","txt","pdf"]}},isShowTip:{type:Boolean,default:!0}},data:function(){return{number:0,uploadList:[],baseUrl:"/api",uploadFileUrl:"/api/common/upload",headers:{Authorization:"Bearer "+(0,n.getToken)()},fileList:[]}},watch:{value:{handler:function(e){if(!e)return this.fileList=[],[];var t=1,a=Array.isArray(e)?e:this.value.split(",");this.fileList=a.map((function(e){return"string"===typeof e&&(e={name:e,url:e}),e.uid=e.uid||(new Date).getTime()+t++,e}))},deep:!0,immediate:!0}},computed:{showTip:function(){return this.isShowTip&&(this.fileType||this.fileSize)}},methods:{handleBeforeUpload:function(e){if(this.fileType){var t=e.name.split("."),a=t[t.length-1],n=this.fileType.indexOf(a)>=0;if(!n)return this.$modal.msgError("文件格式不正确, 请上传".concat(this.fileType.join("/"),"格式文件!")),!1}if(this.fileSize){var s=e.size/1024/1024<this.fileSize;if(!s)return this.$modal.msgError("上传文件大小不能超过 ".concat(this.fileSize," MB!")),!1}return this.$modal.loading("正在上传文件，请稍候..."),this.number++,!0},handleExceed:function(){this.$modal.msgError("上传文件数量不能超过 ".concat(this.limit," 个!"))},handleUploadError:function(e){this.$modal.msgError("上传文件失败，请重试"),this.$modal.closeLoading()},handleUploadSuccess:function(e,t){200===e.code?(this.uploadList.push({name:e.fileName,url:e.fileName}),this.uploadedSuccessfully()):(this.number--,this.$modal.closeLoading(),this.$modal.msgError(e.msg),this.$refs.fileUpload.handleRemove(t),this.uploadedSuccessfully())},handleDelete:function(e){this.fileList.splice(e,1),this.$emit("input",this.listToString(this.fileList))},uploadedSuccessfully:function(){this.number>0&&this.uploadList.length===this.number&&(this.fileList=this.fileList.concat(this.uploadList),this.uploadList=[],this.number=0,this.$emit("input",this.listToString(this.fileList)),this.$modal.closeLoading())},getFileName:function(e){return e.lastIndexOf("/")>-1?e.slice(e.lastIndexOf("/")+1):e},listToString:function(e,t){var a="";for(var n in t=t||",",e)a+=e[n].url+t;return""!=a?a.substr(0,a.length-1):""}}}},"198d":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-password",use:"icon-password-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-password"><defs><style type="text/css"></style></defs><path d="M868.593046 403.832442c-30.081109-28.844955-70.037123-44.753273-112.624057-44.753273L265.949606 359.079168c-42.554188 0-82.510202 15.908318-112.469538 44.690852-30.236652 28.782533-46.857191 67.222007-46.857191 108.198258l0 294.079782c0 40.977273 16.619516 79.414701 46.702672 108.136859 29.959336 28.844955 70.069869 44.814672 112.624057 44.814672l490.019383 0c42.585911 0 82.696444-15.969717 112.624057-44.814672 30.082132-28.844955 46.579875-67.222007 46.579875-108.136859L915.172921 511.968278C915.171897 471.053426 898.675178 432.677397 868.593046 403.832442zM841.821309 806.049083c0 22.098297-8.882298 42.772152-25.099654 58.306964-16.154935 15.661701-37.81935 24.203238-60.752666 24.203238L265.949606 888.559285c-22.934339 0-44.567032-8.54256-60.877509-24.264637-16.186657-15.474436-25.067932-36.148291-25.067932-58.246589L180.004165 511.968278c0-22.035876 8.881274-42.772152 25.192775-58.307987 16.186657-15.536858 37.81935-24.139793 60.753689-24.139793l490.019383 0c22.933315 0 44.597731 8.602935 60.752666 24.139793 16.21838 15.535835 25.099654 36.272112 25.099654 58.307987L841.822332 806.049083zM510.974136 135.440715c114.914216 0 208.318536 89.75214 208.318536 200.055338l73.350588 0c0-149.113109-126.366036-270.496667-281.669124-270.496667-155.333788 0-281.699824 121.383558-281.699824 270.496667l73.350588 0C302.623877 225.193879 396.059919 135.440715 510.974136 135.440715zM474.299865 747.244792l73.350588 0L547.650453 629.576859l-73.350588 0L474.299865 747.244792z" p-id="2751" /></symbol>'});r.a.add(o);t["default"]=o},"1a4e":function(e,t,a){"use strict";a.r(t);var n=a("2cf5"),s=a("b769");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("bdc0"),a("036c");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"af3ec4e6",null);t["default"]=o.exports},"1ad8":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-color-picker",{staticClass:"theme-picker",attrs:{predefine:["#409EFF","#1890ff","#304156","#212121","#11a983","#13c2c2","#6959CD","#f5222d"],"popper-class":"theme-picker-dropdown"},model:{value:e.theme,callback:function(t){e.theme=t},expression:"theme"}})},s=[]},"1af0":function(e,t,a){"use strict";a.r(t);var n=a("a678"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"1c03":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"RightPanel",props:{clickNotClose:{default:!1,type:Boolean}},computed:{show:{get:function(){return this.$store.state.settings.showSettings},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"showSettings",value:e})}}},watch:{show:function(e){e&&!this.clickNotClose&&this.addEventClick()}},mounted:function(){this.addEventClick()},beforeDestroy:function(){var e=this.$refs.rightPanel;e.remove()},methods:{addEventClick:function(){window.addEventListener("click",this.closeSidebar)},closeSidebar:function(e){var t=e.target.closest(".el-drawer__body");t||(this.show=!1,window.removeEventListener("click",this.closeSidebar))}}}},"1c8b":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-tag",{staticStyle:{"font-size":"16px"}},[e._v(e._s(e.user.nickName))])],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-tag",{staticStyle:{"font-size":"16px"}},[e._v(e._s(e.user.mobile))])],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-tag",{staticStyle:{"font-size":"16px"}},[e._v(e._s(e.user.userName))])],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-tag",{staticStyle:{"font-size":"16px"}},[e._v(e._s(e.user.sex))])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.close}},[e._v("关闭")])],1)],1)},s=[]},"1d6d":function(e,t,a){},"1e4b":function(e,t,a){"use strict";a.r(t);var n=a("8fac"),s=a("2d7b");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("5ac3");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"3fb1777e",null);t["default"]=o.exports},"1e5b":function(e,t,a){"use strict";a("4de5")},"1e6f":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("c740");var n=4;t.default={name:"ScrollPane",data:function(){return{left:0}},computed:{scrollWrapper:function(){return this.$refs.scrollContainer.$refs.wrap}},mounted:function(){this.scrollWrapper.addEventListener("scroll",this.emitScroll,!0)},beforeDestroy:function(){this.scrollWrapper.removeEventListener("scroll",this.emitScroll)},methods:{handleScroll:function(e){var t=e.wheelDelta||40*-e.deltaY,a=this.scrollWrapper;a.scrollLeft=a.scrollLeft+t/4},emitScroll:function(){this.$emit("scroll")},moveToTarget:function(e){var t=this.$refs.scrollContainer.$el,a=t.offsetWidth,s=this.scrollWrapper,i=this.$parent.$refs.tag,r=null,o=null;if(i.length>0&&(r=i[0],o=i[i.length-1]),r===e)s.scrollLeft=0;else if(o===e)s.scrollLeft=s.scrollWidth-a;else{var l=i.findIndex((function(t){return t===e})),c=i[l-1],u=i[l+1],d=u.$el.offsetLeft+u.$el.offsetWidth+n,f=c.$el.offsetLeft-n;d>s.scrollLeft+a?s.scrollLeft=d-a:f<s.scrollLeft&&(s.scrollLeft=f)}}}}},"1e8b":function(e,t,a){"use strict";a.r(t);var n=a("1c8b"),s=a("6c85");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},"1ed5":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,"pager-count":e.pagerCount,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},s=[]},2:function(e,t){},"20e7":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-chart",use:"icon-chart-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-chart"><path d="M0 54.857h36.571V128H0V54.857zM91.429 27.43H128V128H91.429V27.429zM45.714 0h36.572v128H45.714V0z" /></symbol>'});r.a.add(o);t["default"]=o},2184:function(e,t,a){"use strict";a("0876")},"21f2":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.decrypt=l,t.encrypt=o;var s=n(a("24e5")),i="MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAKoR8mX0rGKLqzcWmOzbfj64K8ZIgOdH\nnzkXSOVOZbFu/TJhZ7rFAN+eaGkl3C4buccQd/EjEsj9ir7ijT7h96MCAwEAAQ==",r="MIIBVAIBADANBgkqhkiG9w0BAQEFAASCAT4wggE6AgEAAkEAqhHyZfSsYourNxaY\n7Nt+PrgrxkiA50efORdI5U5lsW79MmFnusUA355oaSXcLhu5xxB38SMSyP2KvuKN\nPuH3owIDAQABAkAfoiLyL+Z4lf4Myxk6xUDgLaWGximj20CUf+5BKKnlrK+Ed8gA\nkM0HqoTt2UZwA5E2MzS4EI2gjfQhz5X28uqxAiEA3wNFxfrCZlSZHb0gn2zDpWow\ncSxQAgiCstxGUoOqlW8CIQDDOerGKH5OmCJ4Z21v+F25WaHYPxCFMvwxpcw99Ecv\nDQIgIdhDTIqD2jfYjPTY8Jj3EDGPbH2HHuffvflECt3Ek60CIQCFRlCkHpi7hthh\nYhovyloRYsM+IS9h/0BzlEAuO0ktMQIgSPT3aFAgJYwKpqRYKlLDVcflZFCKY7u3\nUP8iWi1Qw0Y=";function o(e){var t=new s.default;return t.setPublicKey(i),t.encrypt(e)}function l(e){var t=new s.default;return t.setPrivateKey(r),t.decrypt(e)}},"223d":function(e,t,a){"use strict";var n=a("4ea4").default,s=n(a("ded3"));a("99af"),a("14d9");var i=n(a("a18c")),r=n(a("4360")),o=a("5c96"),l=n(a("323e"));a("a5d8");var c=a("5f87"),u=a("b775");l.default.configure({showSpinner:!1});var d="/cas/callback",f=(window.location.origin,!0),p=["/login","/register"];function m(e,t){var a=e.query.ticket;if(!a)return o.Message.error("未获取到有效的认证票据"),void t("/login");var n=window.location.origin+"/cas/callback",s=(0,o.Message)({message:"正在验证您的身份...",duration:0,type:"info"});r.default.dispatch("CasLogin",{ticket:a,service:n}).then((function(){s.close(),t({path:"/index",replace:!0})})).catch((function(e){s.close(),o.Message.error(e||"认证失败，请重新登录"),t("/login")}))}f&&p.push(d),i.default.beforeEach((function(e,t,a){l.default.start(),!f||e.path!==d&&!e.query.ticket?((0,c.getToken)()?(e.meta.title&&r.default.dispatch("settings/setTitle",e.meta.title),"/login"===e.path?(a({path:"/"}),l.default.done()):-1!==p.indexOf(e.path)?a():0===r.default.getters.roles.length?(u.isRelogin.show=!0,r.default.dispatch("GetInfo").then((function(){u.isRelogin.show=!1;var t=r.default.getters.roles;r.default.dispatch("GenerateRoutes",t).then((function(t){i.default.addRoutes(t),a((0,s.default)((0,s.default)({},e),{},{replace:!0}))}))})).catch((function(e){r.default.dispatch("FedLogOut").then((function(){o.Message.error(e),a({path:"/"})}))}))):a()):-1!==p.indexOf(e.path)?a():a("/login?redirect=".concat(encodeURIComponent(e.fullPath))),l.default.done()):m(e,a)})),i.default.afterEach((function(){l.default.done()}))},2309:function(e,t,a){"use strict";a("ef41")},2361:function(e,t,a){"use strict";a.r(t);var n=a("2cca"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},2369:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-education",use:"icon-education-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-education"><path d="M88.883 119.565c-7.284 0-19.434 2.495-21.333 8.25v.127c-4.232.13-5.222 0-7.108 0-1.895-5.76-14.045-8.256-21.333-8.256H0V0h42.523c9.179 0 17.109 5.47 21.47 13.551C68.352 5.475 76.295 0 85.478 0H128v119.57l-39.113-.005h-.004zM60.442 24.763c0-9.651-8.978-16.507-17.777-16.507H7.108V111.43H39.11c7.054-.14 18.177.082 21.333 6.12v-4.628c-.134-5.722-.004-13.522 0-13.832V27.413l.004-2.655-.004.005zm60.442-16.517h-35.55c-8.802 0-17.78 6.856-17.78 16.493v74.259c.004.32.138 8.115 0 13.813v4.627c3.155-6.022 14.279-6.26 21.333-6.114h32V8.25l-.003-.005z" /></symbol>'});r.a.add(o);t["default"]=o},"23f1":function(e,t,a){var n={"./404.svg":"49be","./bug.svg":"937c","./build.svg":"b88c","./button.svg":"c292","./cascader.svg":"737d","./chart.svg":"20e7","./checkbox.svg":"9ec1","./clipboard.svg":"5aa7","./code.svg":"d7a0","./color.svg":"e218","./component.svg":"02b8","./dashboard.svg":"7154","./date-range.svg":"ad41","./date.svg":"a2bfe","./dict.svg":"da75","./documentation.svg":"ed00","./download.svg":"039a","./drag.svg":"a2f6","./druid.svg":"bc7b","./edit.svg":"2fb0","./education.svg":"2369","./email.svg":"caf7","./example.svg":"b6f9","./excel.svg":"e3ff","./exit-fullscreen.svg":"f22e","./eye-open.svg":"74a24","./eye.svg":"57fa","./form.svg":"4576","./fullscreen.svg":"72e5","./github.svg":"cda1","./guide.svg":"72d1","./icon.svg":"9f4c","./input.svg":"0b37","./international.svg":"a601","./job.svg":"e82a","./language.svg":"a17a","./link.svg":"5fda","./list.svg":"3561","./lock.svg":"a012","./log.svg":"9cb5","./logininfor.svg":"9b2c","./message.svg":"15e8","./money.svg":"4955","./monitor.svg":"f71f","./nested.svg":"91be","./number.svg":"a1ac","./online.svg":"575e","./password.svg":"198d","./pdf.svg":"8989","./people.svg":"ae6e","./peoples.svg":"dc13","./phone.svg":"b470","./post.svg":"482c","./qq.svg":"39e1","./question.svg":"5d9e","./radio.svg":"9a4c","./rate.svg":"04ad","./redis-list.svg":"badf","./redis.svg":"0c4f","./row.svg":"0c16","./search.svg":"679a","./select.svg":"0ee3","./selfpractise.svg":"69d8","./selfpractise2.svg":"2e96","./server.svg":"47382","./shopping.svg":"98ab","./size.svg":"879b","./skill.svg":"a263","./slider.svg":"df36","./star.svg":"4e5a","./swagger.svg":"84e5","./switch.svg":"243e","./system.svg":"922f","./tab.svg":"2723","./table.svg":"dc78","./textarea.svg":"7234d","./theme.svg":"7271","./time-range.svg":"99c3","./time.svg":"f8e6","./tool.svg":"06b3","./tree-table.svg":"4d24","./tree.svg":"0e8f","./upload.svg":"068c","./user.svg":"d88a","./validCode.svg":"67bd","./wechat.svg":"2ba1","./zip.svg":"a75d","./客户档案.svg":"811c","./绩效设置汇总.svg":"ea3a","./菜单设置.svg":"2cdd"};function s(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=i,e.exports=s,s.id="23f1"},"243e":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-switch",use:"icon-switch-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-switch"><defs><style type="text/css"></style></defs><path d="M692 792H332c-150 0-270-120-270-270s120-270 270-270h360c150 0 270 120 270 270 0 147-120 270-270 270zM332 312c-117 0-210 93-210 210s93 210 210 210h360c117 0 210-93 210-210s-93-210-210-210H332z" p-id="1111" /><path d="M341 522m-150 0a150 150 0 1 0 300 0 150 150 0 1 0-300 0Z" p-id="1112" /></symbol>'});r.a.add(o);t["default"]=o},"244f":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d9e2"),a("14d9"),a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),a("9861"),a("88a7"),a("271a"),a("5494");var n=a("7ded");t.default={name:"Register",data:function(){var e=this,t=function(t,a,n){e.registerForm.password!==a?n(new Error("两次输入的密码不一致")):n()};return{registerForm:{username:"",nickname:"",mobile:"",studentId:"",classId:"",major:"",dept:"",school:"",sex:"",password:"",confirmPassword:"",secretKey:"",isStudent:!0,isTeacher:!1,isAdmin:!1},classIds:[{value:"英语演讲1班",label:"英语演讲1班"},{value:"英语演讲2班",label:"英语演讲2班"}],majors:[{value:"计算机技术",label:"计算机技术"}],depts:[{value:"计算机科学与技术",label:"计算机科学与技术"}],schools:[{value:"BUPT",label:"BUPT"}],registerRules:{username:[{required:!0,trigger:"blur",message:"请输入您的邮箱"},{type:"email",message:"请输入正确的邮箱格式",trigger:["blur","change"]},{min:2,max:20,message:"邮箱长度必须介于 2 和 20 之间",trigger:"blur"}],nickName:[{required:!0,trigger:"blur",message:"请输入您的昵称"},{min:2,max:20,message:"用户账号长度必须介于 2 和 20 之间",trigger:"blur"}],mobile:[{required:!0,trigger:"blur",message:"请输入您的手机号"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号格式",trigger:["blur","change"]}],studentId:[{required:!0,trigger:"blur",message:"请输入您的学号"},{pattern:/^\d{6,12}$/,message:"学号应为6到12位数字",trigger:["blur","change"]}],major:[{required:!0,trigger:"change",message:"请选择专业"}],dept:[{required:!0,trigger:"change",message:"请选择系"}],school:[{required:!0,trigger:"change",message:"请选择学校"}],classId:[{required:!0,trigger:"change",message:"请选择班级"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],password:[{required:!0,trigger:"blur",message:"请输入您的密码"},{min:5,max:20,message:"用户密码长度必须介于 5 和 20 之间",trigger:"blur"},{pattern:/^[^<>"'|\\]+$/,message:"不能包含非法字符：< > \" ' \\ |",trigger:"blur"}],confirmPassword:[{required:!0,trigger:"blur",message:"请再次输入您的密码"},{required:!0,validator:t,trigger:"blur"}],secretKey:[{required:!0,message:"请输入秘钥",trigger:"blur"}]},loading:!1}},watch:{"registerForm.isStudent":function(e){e&&(this.registerForm.isTeacher=!1,this.registerForm.isAdmin=!1)},"registerForm.isTeacher":function(e){e&&(this.registerForm.isStudent=!1,this.registerForm.isAdmin=!1)},"registerForm.isAdmin":function(e){e&&(this.registerForm.isStudent=!1,this.registerForm.isTeacher=!1)},"registerForm.sex":function(e){this.registerForm.gender="男"===e||"女"===e?e:""}},methods:{handleRegister:function(){var e=this;this.$refs.registerForm.validate((function(t){if(t){e.loading=!0;var a=new URLSearchParams({userName:e.registerForm.username,nickName:e.registerForm.nickname,mobile:e.registerForm.mobile,studentId:e.registerForm.studentId,classId:e.registerForm.classId,major:e.registerForm.major,dept:e.registerForm.dept,school:e.registerForm.school,sex:e.registerForm.sex,password:e.registerForm.password}).toString();console.log("datatosend",a),e.registerForm.isStudent?(0,n.registerStudent)(a).then((function(t){1===t.code&&"success"===t.msg?e.$alert("<font color='red'>恭喜你，您的学生账号 "+e.registerForm.username+" 注册成功！</font>","系统提示",{dangerouslyUseHTMLString:!0,type:"success"}).then((function(){e.$router.push("/login")})):0===t.code&&"用户名已存在!"===t.msg?e.$alert('<font color="red">用户名 '+e.registerForm.username+" 已存在，请选择其他用户名。</font>","系统提示",{confirmButtonText:"确定",type:"warning",dangerouslyUseHTMLString:!0}):e.$message.error(t.msg||"注册失败")})).catch((function(){e.loading=!1})):e.registerForm.isTeacher&&"123"===e.registerForm.secretKey?(0,n.registerTeacher)(a).then((function(t){1===t.code&&"success"===t.msg?e.$alert("<font color='red'>恭喜你，您的教师账号 "+e.registerForm.username+" 注册成功！</font>","系统提示",{dangerouslyUseHTMLString:!0,type:"success"}).then((function(){e.$router.push("/login")})):0===t.code&&"用户名已存在!"===t.msg?e.$alert('<font color="red">用户名 '+e.registerForm.username+" 已存在，请选择其他用户名。</font>","系统提示",{confirmButtonText:"确定",type:"warning",dangerouslyUseHTMLString:!0}):e.$message.error(t.msg||"注册失败")})).catch((function(){e.loading=!1})):e.registerForm.isAdmin&&"123"===e.registerForm.secretKey?(0,n.registerAdmin)(a).then((function(t){1===t.code&&"success"===t.msg?e.$alert("<font color='red'>恭喜你，您的管理员账号 "+e.registerForm.username+" 注册成功！</font>","系统提示",{dangerouslyUseHTMLString:!0,type:"success"}).then((function(){e.$router.push("/login")})):0===t.code&&"用户名已存在!"===t.msg?e.$alert('<font color="red">用户名 '+e.registerForm.username+" 已存在，请选择其他用户名。</font>","系统提示",{confirmButtonText:"确定",type:"warning",dangerouslyUseHTMLString:!0}):e.$message.error(t.msg||"注册失败")})).catch((function(){e.loading=!1})):(e.$message.error("秘钥错误或角色未选择"),e.loading=!1)}}))}}}},2456:function(e,t,a){},2587:function(e,t,a){},"25ca":function(e,t,a){"use strict";a.r(t);var n=a("4c35"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"25ec":function(e,t,a){"use strict";a.r(t);var n=a("3567"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},2686:function(e,t,a){},"26fc":function(e,t,a){e.exports=a.p+"static/img/404_cloud.0f4bc32b.png"},2723:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-tab",use:"icon-tab-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-tab"><path d="M78.921.052H49.08c-1.865 0-3.198 1.599-3.198 3.464v6.661c0 1.865 1.6 3.464 3.198 3.464h29.84c1.865 0 3.198-1.599 3.198-3.464V3.516C82.385 1.65 80.786.052 78.92.052zm45.563 0H94.642c-1.865 0-3.464 1.599-3.464 3.464v6.661c0 1.865 1.599 3.464 3.464 3.464h29.842c1.865-.266 3.464-1.599 3.464-3.464V3.516c0-1.865-1.599-3.464-3.464-3.464zm0 22.382H40.02c-1.866 0-3.464-1.599-3.464-3.464V3.516c0-1.865-1.599-3.464-3.464-3.464H3.516C1.65.052.052 1.651.052 3.516V124.75c0 1.598 1.599 3.197 3.464 3.197h120.968c1.865 0 3.464-1.599 3.464-3.464V25.898c0-1.865-1.599-3.464-3.464-3.464z" /></symbol>'});r.a.add(o);t["default"]=o},2754:function(e,t,a){"use strict";a.r(t);var n=a("36f9"),s=a("8b20");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("44bf");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"279ea4b2",null);t["default"]=o.exports},2923:function(e,t,a){"use strict";a.r(t);var n=a("64aa"),s=a("2361");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("b3d9");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"2cc0434e",null);t["default"]=o.exports},"29aa":function(e,t,a){},"29b1":function(e,t,a){},"29d0":function(e,t,a){"use strict";a.r(t);var n=a("8ea0"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"29da":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"audio-assessment-container"},[a("div",{staticClass:"card-container"},[a("el-card",{staticClass:"box-card script-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card-title"},[e._v("音频脚本")])]),a("div",{staticClass:"content"},[a("div",{staticClass:"script-tabs"},[a("el-tabs",{model:{value:e.activeScriptTab,callback:function(t){e.activeScriptTab=t},expression:"activeScriptTab"}},[a("el-tab-pane",{attrs:{label:"预设脚本",name:"preset"}},[a("div",{staticClass:"preset-scripts"},e._l(e.presetScripts,(function(t){return a("div",{key:t.id,staticClass:"script-item"},[a("el-button",{staticClass:"script-select-button",attrs:{type:e.selectedScriptId===t.id?"primary":"text"},on:{click:function(a){return e.selectScript(t.id)}}},[e._v(" "+e._s(t.title)+" ")])],1)})),0),e.selectedScript?a("div",{staticClass:"script-content"},[a("h4",[e._v(e._s(e.selectedScript.title))]),a("p",[e._v(e._s(e.selectedScript.content))])]):e._e(),a("div",{staticClass:"preset-script-fixed-action"},[a("el-button",{attrs:{size:"small",type:"primary",disabled:!e.selectedScript},on:{click:e.submitPresetScript}},[e._v("提交脚本")])],1)]),a("el-tab-pane",{attrs:{label:"自定义脚本",name:"custom"}},[a("div",{staticClass:"custom-script"},[a("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入您的自定义脚本内容..."},on:{input:e.checkWordCount},model:{value:e.customScriptContent,callback:function(t){e.customScriptContent=t},expression:"customScriptContent"}}),a("div",{staticClass:"word-count",class:{"word-count-warning":e.isWordCountExceeded}},[e._v(" 已输入 "+e._s(e.wordCount)+" 个单词，最多允许 1000 个单词 ")]),a("div",{staticClass:"script-actions"},[a("el-button",{attrs:{size:"small",type:"primary",disabled:!e.customScriptContent.trim()||e.isWordCountExceeded},on:{click:e.submitCustomScript}},[e._v("提交脚本")]),a("el-button",{attrs:{size:"small",disabled:!e.customScriptContent.trim()},on:{click:e.clearCustomScript}},[e._v("清空")])],1)],1)])],1)],1)])]),a("el-card",{staticClass:"box-card upload-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card-title"},[e._v("音频上传")])]),a("div",{staticClass:"content"},[a("div",{staticClass:"upload-section"},[a("el-upload",{staticClass:"audio-uploader",attrs:{action:"#","auto-upload":!1,"on-change":e.handleAudioChange,"show-file-list":!1,accept:".wav,.pcm"}},[a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),a("div",{staticClass:"upload-text"},[e._v("点击上传音频文件")]),a("div",{staticClass:"upload-tip"},[e._v("仅支持未压缩的PCM或WAV格式音频")])]),e.audioUrl?a("div",{staticClass:"audio-preview"},[a("audio",{ref:"audioPlayer",attrs:{controls:"",src:e.audioUrl}}),a("div",{staticClass:"file-info"},[a("span",[e._v(e._s(e.audioName))]),a("span",[e._v(e._s(e.audioSize))])])]):e._e()],1),a("div",{staticClass:"controls"},[a("el-button",{attrs:{type:"primary",disabled:!e.audioUrl},on:{click:e.startAssessment}},[e._v(" 开始评估 ")]),a("el-button",{attrs:{disabled:!e.audioUrl},on:{click:e.resetAudio}},[e._v("重置")])],1),e.isAssessing?a("div",{staticClass:"assessment-progress"},[a("el-progress",{attrs:{percentage:e.assessmentProgress,format:e.progressFormat}}),a("div",{staticClass:"progress-text"},[e._v("正在评估音频，请稍候...")])],1):e._e()])]),a("el-card",{staticClass:"box-card result-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card-title"},[e._v("评估结果")])]),a("div",{staticClass:"content"},[e.assessmentResult?[e.assessmentResult.isRejected?a("div",{staticClass:"result-rejected"},[a("el-alert",{attrs:{title:e.assessmentResult.feedback,type:"error",closable:!1,"show-icon":""}}),a("div",{staticClass:"rejection-explanation"},[a("p",[a("strong",[e._v("提示：")]),e._v("引擎检测到乱读，分值不能作为参考。请确保按照文本内容准确朗读，不要添加、省略或替换单词。")]),a("p",[e._v("建议重新录制音频并确保：")]),a("ul",[a("li",[e._v("在安静的环境中录音")]),a("li",[e._v("清晰地朗读所有文本内容")]),a("li",[e._v("不要在朗读过程中添加额外的内容")])])])],1):[a("div",{staticClass:"result-item"},[a("span",{staticClass:"item-label"},[e._v("发音准确度：")]),a("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value}"},model:{value:e.assessmentResult.pronunciation,callback:function(t){e.$set(e.assessmentResult,"pronunciation",t)},expression:"assessmentResult.pronunciation"}})],1),a("div",{staticClass:"result-item"},[a("span",{staticClass:"item-label"},[e._v("语调自然度：")]),a("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value}"},model:{value:e.assessmentResult.intonation,callback:function(t){e.$set(e.assessmentResult,"intonation",t)},expression:"assessmentResult.intonation"}})],1),a("div",{staticClass:"result-item"},[a("span",{staticClass:"item-label"},[e._v("流利度：")]),a("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value}"},model:{value:e.assessmentResult.fluency,callback:function(t){e.$set(e.assessmentResult,"fluency",t)},expression:"assessmentResult.fluency"}})],1),a("div",{staticClass:"result-item"},[a("span",{staticClass:"item-label"},[e._v("总体评分：")]),a("span",{staticClass:"total-score"},[e._v(e._s(e.assessmentResult.totalScore))])]),a("div",{staticClass:"result-feedback"},[a("h4",[e._v("评估反馈：")]),a("p",[e._v(e._s(e.assessmentResult.feedback))])]),a("div",{staticClass:"pronunciation-tips",staticStyle:{"max-height":"none",overflow:"visible"}},[a("h4",[e._v("发音建议")]),a("ul",e._l(e.assessmentResult.pronunciationTips,(function(t,n){return a("li",{key:n},[e._v(" "+e._s(t)+" ")])})),0)])]]:a("div",{staticClass:"empty-result"},[a("i",{staticClass:"el-icon-data-analysis empty-icon"}),a("p",{staticClass:"empty-text"},[e._v("请上传音频并开始评估以查看结果")])])],2)]),a("el-card",{staticClass:"box-card analysis-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card-title"},[e._v("详细分析")])]),a("div",{staticClass:"content"},[e.assessmentResult&&!e.assessmentResult.isRejected?[e.assessmentResult.detailedFeedback&&e.assessmentResult.detailedFeedback.length>0?a("div",{staticClass:"suggestions-section improved-suggestions"},[a("h4",[a("i",{staticClass:"el-icon-star-on suggestion-title-icon"}),e._v("个性化学习建议")]),a("div",{staticClass:"suggestions-cards"},e._l(e.filteredSuggestions,(function(t,n){return a("div",{key:n,staticClass:"suggestion-card"},[a("i",{staticClass:"el-icon-s-opportunity suggestion-icon"}),a("p",[e._v(e._s(t))])])})),0)]):e._e(),a("div",{staticClass:"analysis-legend"},[a("h4",[e._v("标记说明")]),a("div",{staticClass:"legend-items"},[a("div",{staticClass:"legend-item"},[a("span",{staticClass:"legend-color word-good"},[e._v("示例")]),a("span",{staticClass:"legend-text"},[e._v("发音良好")])]),a("div",{staticClass:"legend-item"},[a("span",{staticClass:"legend-color word-medium-score"},[e._v("示例")]),a("span",{staticClass:"legend-text"},[e._v("发音一般")])]),a("div",{staticClass:"legend-item"},[a("span",{staticClass:"legend-color word-low-score"},[e._v("示例")]),a("span",{staticClass:"legend-text"},[e._v("发音较差")])]),a("div",{staticClass:"legend-item"},[a("span",{staticClass:"legend-color word-missed"},[e._v("示例")]),a("span",{staticClass:"legend-text"},[e._v("漏读")])]),a("div",{staticClass:"legend-item"},[a("span",{staticClass:"legend-color word-added"},[e._v("示例")]),a("span",{staticClass:"legend-text"},[e._v("增读")])]),a("div",{staticClass:"legend-item"},[a("span",{staticClass:"legend-color word-repeated"},[e._v("示例")]),a("span",{staticClass:"legend-text"},[e._v("回读")])]),a("div",{staticClass:"legend-item"},[a("span",{staticClass:"legend-color word-substituted"},[e._v("示例")]),a("span",{staticClass:"legend-text"},[e._v("替换")])]),a("div",{staticClass:"legend-item"},[a("span",{staticClass:"legend-color sil-mark"},[e._v("sil")]),a("span",{staticClass:"legend-text"},[e._v("静音/停顿")])])]),a("div",{staticClass:"legend-explanation"},[a("p",[a("strong",[e._v("注意：")]),e._v('"sil" 表示静音或停顿，是语音评测系统检测到的朗读过程中的自然停顿。适当的停顿是正常的，但过多或过长的停顿可能影响流利度评分。')])])]),a("div",{staticClass:"scrollable-content"},[e.assessmentResult.wordAnalysis&&e.assessmentResult.wordAnalysis.length>0?a("div",{staticClass:"word-analysis"},[a("h4",[e._v("朗读文本分析")]),a("div",{staticClass:"scrollable-section"},[a("div",{staticClass:"text-visualization"},e._l(e.assessmentResult.wordAnalysis,(function(t,n){return a("span",{key:n,class:e.getWordClass(t),on:{mouseover:function(a){return e.showWordError(t)},mouseleave:e.hideWordError}},[e._v(" "+e._s(t.content)+" ")])})),0),e.currentWordError?a("div",{staticClass:"word-error-tooltip"},[a("p",[a("strong",[e._v(e._s(e.currentWordError.content))]),e._v(": "+e._s(e.translateErrorMessage(e.currentWordError)))])]):e._e()])]):e._e(),e.sentenceAnalysisData&&e.sentenceAnalysisData.length>0?a("div",{staticClass:"sentence-analysis-section"},[a("h4",[e._v("句子分析")]),a("div",{staticClass:"scrollable-section"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.sentenceAnalysisData,border:""}},[a("el-table-column",{attrs:{prop:"index",label:"序号",width:"60"}}),a("el-table-column",{attrs:{prop:"content",label:"句子内容","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"accuracyScore",label:"发音准确度",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-progress",{attrs:{percentage:t.row.accuracyScore,color:e.getScoreColor(t.row.accuracyScore)}})]}}],null,!1,3279801537)}),a("el-table-column",{attrs:{prop:"fluencyScore",label:"流利度",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-progress",{attrs:{percentage:t.row.fluencyScore,color:e.getScoreColor(t.row.fluencyScore)}})]}}],null,!1,1008928449)}),a("el-table-column",{attrs:{prop:"standardScore",label:"语调自然度",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-progress",{attrs:{percentage:t.row.standardScore,color:e.getScoreColor(t.row.standardScore)}})]}}],null,!1,1950383617)})],1)],1)]):e._e(),e.wordProblemGroups&&Object.keys(e.wordProblemGroups).length>0?a("div",{staticClass:"word-problems-section"},[a("h4",[e._v("单词问题汇总")]),a("div",{staticClass:"scrollable-section"},[a("el-collapse",e._l(e.wordProblemGroups,(function(t,n){return a("el-collapse-item",{key:n,attrs:{title:n+"问题 ("+t.length+"个)"}},[e._l(t,(function(t,n){return a("el-tag",{key:n,staticClass:"word-tag",attrs:{type:e.getTagType(t.score),effect:"plain"},on:{click:function(a){return e.showWordDetail(t)}}},[e._v(" "+e._s(t.content)+" ")])})),e.selectedWord?a("div",{staticClass:"word-detail"},[a("p",[a("strong",[e._v(e._s(e.selectedWord.content))]),e._v(" - 得分: "+e._s(e.selectedWord.score))]),e.selectedWord.syllProblems&&e.selectedWord.syllProblems.length>0?a("p",[e._v(" 音节问题: "),e._l(e.selectedWord.syllProblems,(function(t,n){return a("span",{key:n,staticClass:"syll-problem"},[e._v(" "+e._s(t.content)+e._s(n<e.selectedWord.syllProblems.length-1?", ":"")+" ")])}))],2):e._e()]):e._e()],2)})),1)],1)]):e._e(),e._e()])]:a("div",{staticClass:"empty-analysis"},[a("i",{staticClass:"el-icon-s-data empty-icon"}),a("p",{staticClass:"empty-text"},[e._v("完成评估后查看详细分析结果")])])],2)])],1)])},s=[]},"29e7":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14d9"),a("a434");var n={dict:new Array},s={SET_DICT:function(e,t){var a=t.key,n=t.value;null!==a&&""!==a&&e.dict.push({key:a,value:n})},REMOVE_DICT:function(e,t){try{for(var a=0;a<e.dict.length;a++)if(e.dict[a].key==t)return e.dict.splice(a,1),!0}catch(n){}},CLEAN_DICT:function(e){e.dict=new Array}},i={setDict:function(e,t){var a=e.commit;a("SET_DICT",t)},removeDict:function(e,t){var a=e.commit;a("REMOVE_DICT",t)},cleanDict:function(e){var t=e.commit;t("CLEAN_DICT")}};t.default={namespaced:!0,state:n,mutations:s,actions:i}},"2a32":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("ded3"));a("4de4"),a("b64b"),a("d3b7"),a("0643"),a("2382");var i=n(a("df7c")),r=a("61f7"),o=n(a("837c")),l=n(a("a6e1")),c=n(a("5c70"));t.default={name:"SidebarItem",components:{Item:o.default,AppLink:l.default},mixins:[c.default],props:{item:{type:Object,required:!0},isNest:{type:Boolean,default:!1},basePath:{type:String,default:""}},data:function(){return this.onlyOneChild=null,{}},methods:{hasOneShowingChild:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;t||(t=[]);var n=t.filter((function(t){return!t.hidden&&(e.onlyOneChild=t,!0)}));return 1===n.length||0===n.length&&(this.onlyOneChild=(0,s.default)((0,s.default)({},a),{},{path:"",noShowingChildren:!0}),!0)},resolvePath:function(e,t){if((0,r.isExternal)(e))return e;if((0,r.isExternal)(this.basePath))return this.basePath;if(t){var a=JSON.parse(t);return{path:i.default.resolve(this.basePath,e),query:a}}return i.default.resolve(this.basePath,e)}}}},"2a75":function(e,t,a){"use strict";a.r(t);var n=a("aacd"),s=a("8884");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("c101");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"32a6e73a",null);t["default"]=o.exports},"2abd":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d9e2"),a("caad"),a("d3b7"),a("2532"),a("0643"),a("9a9a");var s=n(a("4360"));t.default={inserted:function(e,t,a){var n=t.value,i="*:*:*",r=s.default.getters&&s.default.getters.permissions;if(!(n&&n instanceof Array&&n.length>0))throw new Error("请设置操作权限标签值");var o=n,l=r.some((function(e){return i===e||o.includes(e)}));l||e.parentNode&&e.parentNode.removeChild(e)}}},"2ba1":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-wechat",use:"icon-wechat-usage",viewBox:"0 0 128 110",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 110" id="icon-wechat"><path d="M86.635 33.334c1.467 0 2.917.113 4.358.283C87.078 14.392 67.58.111 45.321.111 20.44.111.055 17.987.055 40.687c0 13.104 6.781 23.863 18.115 32.209l-4.527 14.352 15.82-8.364c5.666 1.182 10.207 2.395 15.858 2.395 1.42 0 2.829-.073 4.227-.189-.886-3.19-1.398-6.53-1.398-9.996 0-20.845 16.98-37.76 38.485-37.76zm-24.34-12.936c3.407 0 5.665 2.363 5.665 5.954 0 3.576-2.258 5.97-5.666 5.97-3.392 0-6.795-2.395-6.795-5.97 0-3.591 3.403-5.954 6.795-5.954zM30.616 32.323c-3.393 0-6.818-2.395-6.818-5.971 0-3.591 3.425-5.954 6.818-5.954 3.392 0 5.65 2.363 5.65 5.954 0 3.576-2.258 5.97-5.65 5.97z" /><path d="M127.945 70.52c0-19.075-18.108-34.623-38.448-34.623-21.537 0-38.5 15.548-38.5 34.623 0 19.108 16.963 34.622 38.5 34.622 4.508 0 9.058-1.2 13.584-2.395l12.414 7.167-3.404-11.923c9.087-7.184 15.854-16.712 15.854-27.471zm-50.928-5.97c-2.254 0-4.53-2.362-4.53-4.773 0-2.378 2.276-4.771 4.53-4.771 3.422 0 5.665 2.393 5.665 4.771 0 2.41-2.243 4.773-5.665 4.773zm24.897 0c-2.24 0-4.498-2.362-4.498-4.773 0-2.378 2.258-4.771 4.498-4.771 3.392 0 5.665 2.393 5.665 4.771 0 2.41-2.273 4.773-5.665 4.773z" /></symbol>'});r.a.add(o);t["default"]=o},"2bb1":function(e,t,a){},"2bb9":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-image",{style:"width:"+e.realWidth+";height:"+e.realHeight+";",attrs:{src:""+e.realSrc,fit:"cover","preview-src-list":e.realSrcList}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])},s=[]},"2bd1":function(e,t,a){"use strict";var n=a("dbce").default,s=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(a("6374")),r=s(a("7ec2")),o=s(a("ded3")),l=s(a("c973"));a("d9e2"),a("99af"),a("4de4"),a("7db0"),a("caad"),a("d81d"),a("14d9"),a("a9e3"),a("b64b"),a("d3b7"),a("07ac"),a("8a79"),a("2532"),a("3ca3"),a("0643"),a("2382"),a("fffc"),a("4e3e"),a("a573"),a("9a9a"),a("159b"),a("ddb0"),a("2b3d"),a("bf19"),a("9861"),a("88a7"),a("271a"),a("5494");var c=a("5a2f"),u=n(a("313e")),d=a("5c96"),f=s(a("c343")),p=s(a("09ad")),m=a("cc43");t.default={name:"showTeacherReview",directives:{loading:d.Loading},props:{taskId:{type:String,required:!0},submitId:{type:String,required:!0},taskDetails:{type:Object,required:!0}},data:function(){return{activeTab:"视频",submissionTypes:[],submitting:!1,evaluationData:{video:[],audio:[],ppt:[],word:[]},ratings:{video:[],audio:[],ppt:[],word:[]},comments:{video:"",audio:"",ppt:"",word:""},grades:{video:0,audio:0,ppt:0,word:0},typeMapping:{"视频":"video","音频":"audio",PPT:"ppt","演讲稿":"word"},radarChart:null,radarCharts:{},dimensionScores:{"视频":0,"音频":0,PPT:0,"演讲稿":0},fileUrls:{video:"",audio:"",ppt:"",word:""},loading:{video:!1,audio:!1,ppt:!1,word:!1},currentTaskInfo:null,_blobUrls:[],wordContent:"",convertLoading:!1,isPlaying:!1,pdfData:null,fixedTabOrder:["视频","音频","PPT","演讲稿"]}},computed:{radarData:function(){var e=this;return this.submissionTypes.map((function(t){var a=e.typeMapping[t];return{name:t,value:e.calculateTotalScore(a)}}))},radarIndicator:function(){return this.submissionTypes.map((function(e){return{name:e,max:100}}))}},watch:{activeTab:{handler:function(e){var t=this;this.$nextTick((function(){t.initRadarChart(e)}))}},immediate:!0},mounted:function(){},components:{"pdf-viewer":p.default},methods:{fetchTaskData:function(){var e=this;return(0,l.default)((0,r.default)().mark((function t(){var a,n,s;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.getEvaluationByTaskIdAndStuId)(e.taskId,e.taskDetails.ownerId);case 3:if(n=t.sent,null!==n&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.evaluationTypes){t.next=7;break}return e.$message.error("获取评价数据失败"),t.abrupt("return");case 7:if(s=n.data.evaluationTypes.find((function(e){return"师评"===e.evaluationMethod})),s){t.next=11;break}return e.$message.error("未找到自评数据"),t.abrupt("return");case 11:e.submissionTypes=e.fixedTabOrder.filter((function(e){return s.evaluationContents.some((function(t){return t.evaluationContent===e}))})),s.evaluationContents.forEach((function(t){var a=e.typeMapping[t.evaluationContent];if(a){e.$set(e.evaluationData,a,t.evaluationDimensions.map((function(e){var t=Object.keys(e)[0],a=Number(e[t]);return{evaluationTitle:t,evaluationInfos:[t],score:a}})));var n=t.evaluationDimensions.map((function(e){return[Number(Object.values(e)[0])]}));e.$set(e.ratings,a,n),e.$set(e.comments,a,t.evaluationTitle),console.log("Before update - Current dimensionScores:",(0,o.default)({},e.dimensionScores)),console.log("Setting grade for type:",t.evaluationContent,"grade:",t.grade),e.$set(e.dimensionScores,t.evaluationContent,t.grade),e.$nextTick((function(){console.log("After update - dimensionScores:",(0,o.default)({},e.dimensionScores))}))}})),e.activeTab=e.submissionTypes[0]||"",e.$nextTick((function(){e.initRadarChart(e.activeTab)})),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error("获取评价数据失败：",t.t0),e.$message.error("获取评价数据失败");case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},calculateTotalScore:function(e){var t=this,a=Object.keys(this.typeMapping).find((function(a){return t.typeMapping[a]===e})),n=this.dimensionScores[a]||0;return Object.keys(this.radarCharts).forEach((function(e){t.updateRadarChart(e)})),n},initRadarChart:function(e){var t,a=null===(t=this.$refs["radarContainer-".concat(e)])||void 0===t?void 0:t[0];a&&(this.radarCharts[e]&&this.radarCharts[e].dispose(),this.radarCharts[e]=u.init(a),this.updateRadarChart(e))},updateRadarChart:function(e){var t=this,a=this.radarCharts[e];if(a){var n={title:{text:"能力评分雷达图",left:"center",top:10,textStyle:{fontSize:14,color:"#666"}},tooltip:{trigger:"item",formatter:function(e){var a=t.submissionTypes[e.dimensionIndex];return"".concat(a,": ").concat(t.dimensionScores[a],"分")}},radar:{indicator:this.submissionTypes.map((function(e){return{name:e,max:100}})),shape:"circle",radius:"65%",splitNumber:5,name:{textStyle:{color:"#666",fontSize:12}},splitArea:{areaStyle:{color:["#f3f6f9","#e9ecf2"]}}},series:[{type:"radar",name:"能力评分",data:[{value:this.submissionTypes.map((function(e){return t.dimensionScores[e]})),name:"当前评分",symbol:"circle",symbolSize:6,lineStyle:{width:2,color:"#409EFF"},areaStyle:{color:new u.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(64, 158, 255, 0.3)"},{offset:1,color:"rgba(64, 158, 255, 0.1)"}])},itemStyle:{color:"#409EFF"}}]}]};a.setOption(n)}},getMimeType:function(e,t){var a={video:"video/mp4",audio:"audio/mpeg",ppt:"application/vnd.openxmlformats-officedocument.presentationml.presentation",word:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};return"word"!==e&&"ppt"!==e||!t.toLowerCase().endsWith(".pdf")?a[e]||"application/octet-stream":"application/pdf"},loadFiles:function(){var e=this;return(0,l.default)((0,r.default)().mark((function t(){var a,n,s,o,l,u,d,p,v,h,g,b,w,y,C,x,k,_;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,m.getSubmissionInfoById)(e.submitId);case 3:if(n=t.sent,s=n.data,null!==s&&void 0!==s&&null!==(a=s.taskInfos)&&void 0!==a&&a.length){t.next=7;break}throw new Error("No submissions found");case 7:o=s.taskInfos.filter((function(e){return e.finished})),l=o.map((function(e){return e.submissionType})),e.submissionTypes=e.fixedTabOrder.filter((function(e){return l.includes(e)})),u=(0,i.default)(o),t.prev=11,u.s();case 13:if((d=u.n()).done){t.next=59;break}if(p=d.value,v=p.submissionType,h=e.typeMapping[v],e.loading[h]=!0,t.prev=18,!p.fileName){t.next=49;break}return t.next=22,(0,c.showFile)(h,p.fileName);case 22:if(g=t.sent,b=e.getMimeType(h,p.fileName),"word"!==h){t.next=48;break}return e.convertLoading=!0,t.prev=26,t.next=29,f.default.convertToHtml({arrayBuffer:g},{styleMap:["p[style-name='Title'] => h1:fresh","p[style-name='Heading 1'] => h2:fresh","p[style-name='Heading 2'] => h3:fresh","p[style-name='Quote'] => blockquote:fresh","r[style-name='Strong'] => strong","r[style-name='Emphasis'] => em"]});case 29:w=t.sent,e.wordContent=w.value,y=new Blob([g],{type:b}),C=URL.createObjectURL(y),e._blobUrls=e._blobUrls||[],e._blobUrls.push(C),e.$set(e.fileUrls,h,C),t.next=43;break;case 38:t.prev=38,t.t0=t["catch"](26),console.error("Word conversion failed:",t.t0),e.$message.error("Word文档转换失败"),e.wordContent="";case 43:return t.prev=43,e.convertLoading=!1,t.finish(43);case 46:t.next=49;break;case 48:"ppt"===h?e.pdfData=g:(x=new Blob([g],{type:b}),k=URL.createObjectURL(x),e._blobUrls=e._blobUrls||[],e._blobUrls.push(k),e.$set(e.fileUrls,h,k),_=e.$refs["".concat(h,"Element")],_&&(_.src=k));case 49:t.next=54;break;case 51:t.prev=51,t.t1=t["catch"](18),console.error("Error loading ".concat(v," file:"),t.t1);case 54:return t.prev=54,e.loading[h]=!1,t.finish(54);case 57:t.next=13;break;case 59:t.next=64;break;case 61:t.prev=61,t.t2=t["catch"](11),u.e(t.t2);case 64:return t.prev=64,u.f(),t.finish(64);case 67:e.submissionTypes.length>0&&(e.activeTab=e.submissionTypes[0]),t.next=73;break;case 70:t.prev=70,t.t3=t["catch"](0),console.error("Error loading submissions:",t.t3);case 73:case"end":return t.stop()}}),t,null,[[0,70],[11,61,64,67],[18,51,54,57],[26,38,43,46]])})))()},handleFileError:function(e){this.loading[e]=!1},clearBlobUrls:function(){this._blobUrls.forEach((function(e){return URL.revokeObjectURL(e)})),this._blobUrls=[]},handlePlay:function(){this.isPlaying=!0},handlePause:function(){this.isPlaying=!1}},created:function(){var e=this;return(0,l.default)((0,r.default)().mark((function t(){return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchTaskData().then((function(){if(!e.activeTab){var t=Object.keys(e.evaluationData)[0];e.activeTab=t||"视频"}e.$nextTick((function(){e.initRadarChart(e.activeTab)}))}));case 2:return t.next=4,e.loadFiles();case 4:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){var e=this;this.radarCharts&&Object.keys(this.radarCharts).forEach((function(t){e.radarCharts[t]&&e.radarCharts[t].dispose()})),this._blobUrls&&Array.isArray(this._blobUrls)&&(this._blobUrls.forEach((function(e){return URL.revokeObjectURL(e)})),this._blobUrls=[])}}},"2bd3":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"task-detail"},[a("el-card",{staticClass:"task-card"},[a("div",{staticClass:"task-header",on:{click:e.toggleDetails}},[a("h4",[e._v("作业信息")]),a("i",{class:["el-icon-arrow-down",{"rotate-icon":e.showDetails}]})]),a("el-collapse-transition",[e.showDetails&&e.taskDetails?a("div",{staticClass:"task-info-grid"},[a("div",[a("strong",[e._v("作业名称:")]),e._v(" "+e._s(e.taskDetails.taskName))]),a("div",[a("strong",[e._v("截止时间:")]),e._v(" "+e._s(e.formatDeadline(e.taskDetails.deadline)))]),a("div",[a("strong",[e._v("提交内容:")]),e._v(" "+e._s(e.taskDetails.submissionTypes.join(", ")))]),a("div",[a("strong",[e._v("评价流程:")]),e._v(" "+e._s(e.taskDetails.evaluationMethods.join("-")))]),a("div",[a("strong",[e._v("分值:")]),e._v(" 总分 100分")]),a("div",[a("strong",[e._v("其中:")]),e._v(" 视频 权重 "+e._s(e.taskDetails.weights[0])+"%、 音频 权重 "+e._s(e.taskDetails.weights[1])+"%、 演讲稿 权重 "+e._s(e.taskDetails.weights[2])+"%、 PPT 权重 "+e._s(e.taskDetails.weights[3])+"% ")]),a("div",[a("strong",[e._v("作业要求:")]),e._v(" "+e._s(e.taskDetails.taskRequirements||"无"))])]):e._e()])],1),e.taskDetails?a("el-card",{staticClass:"upload-card"},[a("div",{staticClass:"card-header"},[a("h4",[e._v("提交作业")]),e.remainingTime?a("el-tag",{attrs:{type:e.isNearDeadline?"danger":"warning"}},[e._v(" 距离截止还有 "+e._s(e.remainingTime)+" ")]):e._e(),e.isOverdue?e._e():a("div",{staticClass:"submit-section"},[a("el-button",{attrs:{type:"primary",size:"large"},on:{click:e.submitAllFiles}},[e._v(" "+e._s(e.isSubmitted?"已提交":e.isSubmitting?"提交中...":"提交所有文件")+" ")])],1)],1),a("div",{staticClass:"upload-grid"},[e.taskDetails.submissionTypes.includes("视频")?a("div",{staticClass:"upload-item"},[a("div",{staticClass:"upload-title"},[a("i",{staticClass:"el-icon-video-camera"}),a("span",[e._v("视频文件")]),a("el-tag",{attrs:{size:"mini",type:"info"}},[e._v("权重 "+e._s(e.taskDetails.weights[0])+"%")]),e.submissionHistory.submittedFiles.video.submitted?a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v(" 已提交 ")]):e._e()],1),e.submissionHistory.submittedFiles.video.submitted?a("div",{staticClass:"file-history"},[a("p",[e._v("提交时间："+e._s(e.formatTime(e.submissionHistory.submittedFiles.video.submitTime)))])]):e._e(),a("el-upload",{staticClass:"upload-area",attrs:{drag:"",action:"#","http-request":e.handleHttpRequest,"before-upload":e.beforeFileUpload,"on-progress":function(t){return e.handleProgress(t,"视频")},"on-error":e.handleError,accept:".mp4,.avi,.mov",disabled:e.isSubmitted||e.isOverdue}},[e.isOverdue||e.uploadStatus.video?a("div",{staticClass:"upload-disabled-tip"},[a("i",{staticClass:"el-icon-warning"}),a("span",[e._v(e._s(e.isOverdue?"作业已截止":"作业已提交"))])]):[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v(" 将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip"},[e._v("支持 mp4/avi/mov 格式，大小不超过500MB")]),e.uploadProgress.video>0&&e.uploadProgress.video<100?a("el-progress",{attrs:{percentage:e.uploadProgress.video,"stroke-width":4}}):e._e()]],2)],1):e._e(),e.taskDetails.submissionTypes.includes("音频")?a("div",{staticClass:"upload-item"},[a("div",{staticClass:"upload-title"},[a("i",{staticClass:"el-icon-headset"}),a("span",[e._v("音频文件")]),a("el-tag",{attrs:{size:"mini",type:"info"}},[e._v("权重 "+e._s(e.taskDetails.weights[1])+"%")]),e.submissionHistory.submittedFiles.audio.submitted?a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v(" 已提交 ")]):e._e()],1),e.submissionHistory.submittedFiles.audio.submitted?a("div",{staticClass:"file-history"},[a("p",[e._v("提交时间："+e._s(e.formatTime(e.submissionHistory.submittedFiles.audio.submitTime)))])]):e._e(),e.isVideoRequired?[a("div",{staticClass:"no-upload-needed"},[a("i",{staticClass:"el-icon-info"}),a("span",[e._v("作业包含视频提交要求，无需提交音频")])])]:[a("el-upload",{staticClass:"upload-area",attrs:{drag:"",action:"#","http-request":e.handleHttpRequest,"before-upload":e.beforeFileUpload,"on-progress":function(t){return e.handleProgress(t,"音频")},"on-error":e.handleError,accept:".mp3,.wav",disabled:e.isSubmitted||e.isOverdue}},[e.isOverdue||e.uploadStatus.audio?a("div",{staticClass:"upload-disabled-tip"},[a("i",{staticClass:"el-icon-warning"}),a("span",[e._v(e._s(e.isOverdue?"作业已截止":"作业已提交"))])]):[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v(" 将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip"},[e._v("支持 mp3/wav 格式，大小不超过200MB")]),e.uploadProgress.audio>0&&e.uploadProgress.audio<100?a("el-progress",{attrs:{percentage:e.uploadProgress.audio,"stroke-width":4}}):e._e()]],2)]],2):e._e(),e.taskDetails.submissionTypes.includes("演讲稿")?a("div",{staticClass:"upload-item"},[a("div",{staticClass:"upload-title"},[a("i",{staticClass:"el-icon-document"}),a("span",[e._v("演讲稿")]),a("el-tag",{attrs:{size:"mini",type:"info"}},[e._v("权重 "+e._s(e.taskDetails.weights[2])+"%")]),e.submissionHistory.submittedFiles.word.submitted?a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v(" 已提交 ")]):e._e()],1),e.submissionHistory.submittedFiles.word.submitted?a("div",{staticClass:"file-history"},[a("p",[e._v("提交时间："+e._s(e.formatTime(e.submissionHistory.submittedFiles.word.submitTime)))])]):e._e(),a("el-upload",{staticClass:"upload-area",attrs:{drag:"",action:"#","http-request":e.handleHttpRequest,"before-upload":e.beforeFileUpload,"on-progress":function(t){return e.handleProgress(t,"演讲稿")},"on-error":e.handleError,accept:".doc,.docx",disabled:e.isSubmitted||e.isOverdue}},[e.isOverdue||e.uploadStatus.word?a("div",{staticClass:"upload-disabled-tip"},[a("i",{staticClass:"el-icon-warning"}),a("span",[e._v(e._s(e.isOverdue?"作业已截止":"作业已提交"))])]):[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v(" 将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip"},[e._v("支持 doc/docx 格式，大小不超过100MB")]),e.uploadProgress.word>0&&e.uploadProgress.word<100?a("el-progress",{attrs:{percentage:e.uploadProgress.word,"stroke-width":4}}):e._e()]],2)],1):e._e(),e.taskDetails.submissionTypes.includes("PPT")?a("div",{staticClass:"upload-item"},[a("div",{staticClass:"upload-title"},[a("i",{staticClass:"el-icon-picture"}),a("span",[e._v("PPT文件")]),a("el-tag",{attrs:{size:"mini",type:"info"}},[e._v("权重 "+e._s(e.taskDetails.weights[3])+"%")]),e.submissionHistory.submittedFiles.ppt.submitted?a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v(" 已提交 ")]):e._e()],1),e.submissionHistory.submittedFiles.ppt.submitted?a("div",{staticClass:"file-history"},[a("p",[e._v("提交时间："+e._s(e.formatTime(e.submissionHistory.submittedFiles.ppt.submitTime)))])]):e._e(),a("el-upload",{staticClass:"upload-area",attrs:{drag:"",action:"#","http-request":e.handleHttpRequest,"before-upload":e.beforeFileUpload,"on-progress":function(t){return e.handleProgress(t,"PPT")},"on-error":e.handleError,accept:".pdf",disabled:e.isSubmitted||e.isOverdue}},[e.isOverdue||e.uploadStatus.ppt?a("div",{staticClass:"upload-disabled-tip"},[a("i",{staticClass:"el-icon-warning"}),a("span",[e._v(e._s(e.isOverdue?"作业已截止":"作业已提交"))])]):[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v(" 将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip"},[e._v("仅支持pdf格式，大小不超过200MB")]),e.uploadProgress.ppt>0&&e.uploadProgress.ppt<100?a("el-progress",{attrs:{percentage:e.uploadProgress.ppt,"stroke-width":4}}):e._e()]],2)],1):e._e()]),e.hasPreviewFiles?a("div",{staticClass:"preview-section"},[a("div",{staticClass:"modal-container"},[e.previewFiles.video?a("div",{staticClass:"modal-card"},[a("div",{staticClass:"modal-header"},[a("h4",[e._v("视频文件")])]),a("div",{staticClass:"preview-content"},[a("div",{staticClass:"preview-file-info"},[a("i",{class:e.getFileIcon("video")}),a("span",[e._v(e._s(e.previewFiles.video.name))]),a("span",{staticClass:"preview-file-size"},[e._v(e._s(e.formatFileSize(e.previewFiles.video.size)))])]),a("div",{staticClass:"file-actions"},[a("el-button",{attrs:{type:"text",disabled:e.isSubmitted},on:{click:function(t){return e.handlePreview(e.previewFiles.video,"video")}}},[a("i",{staticClass:"el-icon-view"}),e._v(" 预览 ")]),a("el-button",{attrs:{type:"text",disabled:e.isSubmitted},on:{click:function(t){return e.removePreviewFile("video")}}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 删除 ")])],1)])]):e._e(),e.previewFiles.audio?a("div",{staticClass:"modal-card"},[a("div",{staticClass:"modal-header"},[a("h4",[e._v("音频文件")])]),a("div",{staticClass:"preview-content"},[a("div",{staticClass:"preview-file-info"},[a("i",{class:e.getFileIcon("audio")}),a("span",[e._v(e._s(e.previewFiles.audio.name))]),a("span",{staticClass:"preview-file-size"},[e._v(e._s(e.formatFileSize(e.previewFiles.audio.size)))])]),a("div",{staticClass:"file-actions"},[a("el-button",{attrs:{type:"text",disabled:e.isSubmitted},on:{click:function(t){return e.handlePreview(e.previewFiles.audio,"audio")}}},[a("i",{staticClass:"el-icon-view"}),e._v(" 预览 ")]),a("el-button",{attrs:{type:"text",disabled:e.isSubmitted},on:{click:function(t){return e.removePreviewFile("audio")}}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 删除 ")])],1)])]):e._e(),e.previewFiles.word?a("div",{staticClass:"modal-card"},[a("div",{staticClass:"modal-header"},[a("h4",[e._v("演讲稿")])]),a("div",{staticClass:"preview-content"},[a("div",{staticClass:"preview-file-info"},[a("i",{class:e.getFileIcon("word")}),a("span",[e._v(e._s(e.previewFiles.word.name))]),a("span",{staticClass:"preview-file-size"},[e._v(e._s(e.formatFileSize(e.previewFiles.word.size)))])]),a("div",{staticClass:"file-actions"},[a("el-button",{attrs:{type:"text",disabled:e.isSubmitted},on:{click:function(t){return e.handlePreview(e.previewFiles.word,"word")}}},[a("i",{staticClass:"el-icon-view"}),e._v(" 预览 ")]),a("el-button",{attrs:{type:"text",disabled:e.isSubmitted},on:{click:function(t){return e.removePreviewFile("word")}}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 删除 ")])],1)])]):e._e(),e.previewFiles.ppt?a("div",{staticClass:"modal-card"},[a("div",{staticClass:"modal-header"},[a("h4",[e._v("PPT文件")])]),a("div",{staticClass:"preview-content"},[a("div",{staticClass:"preview-file-info"},[a("i",{class:e.getFileIcon("ppt")}),a("span",[e._v(e._s(e.previewFiles.ppt.name))]),a("span",{staticClass:"preview-file-size"},[e._v(e._s(e.formatFileSize(e.previewFiles.ppt.size)))])]),a("div",{staticClass:"file-actions"},[a("el-button",{attrs:{type:"text",disabled:e.isSubmitted},on:{click:function(t){return e.handlePreview(e.previewFiles.ppt,"ppt")}}},[a("i",{staticClass:"el-icon-view"}),e._v(" 预览 ")]),a("el-button",{attrs:{type:"text",disabled:e.isSubmitted},on:{click:function(t){return e.removePreviewFile("ppt")}}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 删除 ")])],1)])]):e._e()])]):e._e()]):e._e(),a("score-table",{attrs:{"task-id":e.taskId,"submission-status":e.submissionStatus,"task-details":e.taskDetails,submitId:e.submitId},on:{"grading-completed":e.handleGradingCompleted}}),a("el-dialog",{staticClass:"preview-dialog",attrs:{visible:e.previewDialogVisible,width:"70%","before-close":e.handlePreviewClose},on:{"update:visible":function(t){e.previewDialogVisible=t}}},[a("div",{staticClass:"preview-content"},["video"===e.currentPreviewType?a("div",{staticClass:"video-preview"},[e.previewUrl?a("video",{staticClass:"preview-video",attrs:{controls:"",src:e.previewUrl}},[e._v(" 您的浏览器不支持视频预览 ")]):e._e()]):"audio"===e.currentPreviewType?a("div",{staticClass:"audio-preview"},[e.previewUrl?a("audio",{attrs:{controls:"",src:e.previewUrl}},[e._v(" 您的浏览器不支持音频预览 ")]):e._e()]):"ppt"===e.currentPreviewType?a("div",{staticClass:"pdf-preview"},[e.previewUrl?a("iframe",{staticClass:"preview-pdf",attrs:{src:e.previewUrl,frameborder:"0"}}):e._e()]):"word"===e.currentPreviewType?a("div",{staticClass:"word-preview"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.previewLoading,expression:"previewLoading"}],staticClass:"preview-word"},[a("div",{domProps:{innerHTML:e._s(e.wordContent)}})])]):e._e()]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handlePreviewClose}},[e._v("关闭")])],1)])],1)},s=[]},"2bf7":function(e,t,a){"use strict";a("d444")},"2c41":function(e,t,a){},"2c5a":function(e,t,a){"use strict";a.r(t);var n=a("df33"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"2c99":function(e,t,a){},"2cc0":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.uploadTaskAssignment=i;var s=n(a("b775"));function i(e){return(0,s.default)({url:"/task/uploadTask",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return console.log("作业上传成功",e),e})).catch((function(e){throw console.error("作业上传失败",e),e}))}},"2cca":function(e,t,a){"use strict";var n=a("dbce").default,s=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(a("6374")),r=s(a("9523")),o=s(a("7ec2")),l=s(a("c973"));a("d9e2"),a("99af"),a("cb29"),a("4de4"),a("7db0"),a("0481"),a("caad"),a("a15b"),a("d81d"),a("14d9"),a("13d5"),a("4069"),a("e9c4"),a("b64b"),a("d3b7"),a("8a79"),a("2532"),a("3ca3"),a("498a"),a("0643"),a("76d6"),a("2382"),a("fffc"),a("4e3e"),a("a573"),a("9d4a"),a("159b"),a("ddb0"),a("2b3d"),a("bf19"),a("9861"),a("88a7"),a("271a"),a("5494");var c=a("5a2f"),u=n(a("313e")),d=a("5c96"),f=s(a("c343")),p=s(a("f02e")),m=s(a("5d2d"));t.default={name:"selfReview",directives:{loading:d.Loading},props:{taskId:{type:String,required:!0},homeworkTitle:{type:String,required:!0},submitter:{type:String,required:!0},currentProcess:{type:String,required:!0},reviewerId:{type:String,required:!0},studentId:{type:String,required:!0}},data:function(){return{reviewer:"匿名",activeTab:"视频",submissionTypes:[],submitting:!1,evaluationData:{video:[],audio:[],ppt:[],word:[]},ratings:{video:[],audio:[],ppt:[],word:[]},comments:{video:"",audio:"",ppt:"",word:""},typeMapping:{"视频":"video","音频":"audio",PPT:"ppt","演讲稿":"word"},radarChart:null,radarCharts:{},dimensionScores:{"视频":0,"音频":0,PPT:0,"演讲稿":0},fileUrls:{video:"",audio:"",ppt:"",word:""},loading:{video:!1,audio:!1,ppt:!1,word:!1},currentTaskInfo:null,_blobUrls:[],wordContent:"",convertLoading:!1,isPlaying:!1,pdfData:null}},computed:{radarData:function(){var e=this;return this.submissionTypes.map((function(t){var a=e.typeMapping[t];return{name:t,value:e.calculateTotalScore(a)}}))},radarIndicator:function(){return this.submissionTypes.map((function(e){return{name:e,max:100}}))}},watch:{activeTab:{handler:function(e){var t=this;this.$nextTick((function(){t.initRadarChart(e)}))}},immediate:!0,ratings:{deep:!0,handler:function(e){var t=this;this.submissionTypes.forEach((function(e){t.updateDimensionScore(e)}))}}},mounted:function(){},components:{AudioVisualizer:p.default,"pdf-viewer":m.default},methods:{fetchTaskData:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){var a,n,s;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.getTaskInfoById)(e.taskId);case 3:if(a=t.sent,a&&a.data){t.next=7;break}return e.$message.error("获取任务信息失败"),t.abrupt("return");case 7:n=a.data,s=["视频","音频","PPT","演讲稿"],e.submissionTypes=s.filter((function(e){var t;return null===(t=n.submissionTypes)||void 0===t?void 0:t.includes(e)})),n.evaluationDimensions&&e.initializeEvaluationData(n),e.activeTab=e.submissionTypes[0]||"",e.$nextTick((function(){e.initRadarChart()})),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](0),console.error("获取任务信息失败：",t.t0),e.$message.error("获取任务信息失败");case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()},nextTab:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){var a,n;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.saveCurrentEvaluation();case 2:a=e.submissionTypes.indexOf(e.activeTab),n=(a+1)%e.submissionTypes.length,e.activeTab=e.submissionTypes[n];case 5:case"end":return t.stop()}}),t)})))()},handleNextTab:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){var a,n,s;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.saveCurrentTabEvaluation(),a){t.next=4;break}return e.$message({message:"请完成所有评分项并填写评语",type:"warning",duration:2e3}),t.abrupt("return");case 4:n=e.submissionTypes.indexOf(e.activeTab),s=(n+1)%e.submissionTypes.length,e.activeTab=e.submissionTypes[s],e.checkAllEvaluationsComplete()&&e.$message({message:"所有评分已完成，可以提交总评",type:"success",duration:2e3});case 8:case"end":return t.stop()}}),t)})))()},initializeEvaluationData:function(e){var t=this;if(null!==e&&void 0!==e&&e.evaluationDimensions){var a=e.evaluationDimensions.find((function(e){return"自评"===(null===e||void 0===e?void 0:e.evaluationMethods)}));null!==a&&void 0!==a&&a.evaluationTypes&&a.evaluationTypes.forEach((function(e){var a=t.typeMapping[e.evaluationContent];if(a){t.$set(t.evaluationData,a,e.evaluationTitles||[]);var n=e.evaluationTitles.map((function(e){return e.evaluationInfos?Array(e.evaluationInfos.length).fill(0):[]}));t.$set(t.ratings,a,n),t.$set(t.comments,a,"")}}))}},calculateTotalScore:function(e){var t=this;if(!this.ratings[e]||!this.ratings[e].length)return 0;var a=this.ratings[e].flat().reduce((function(e,t){return e+t}),0),n=this.ratings[e].flat().length,s=n>0?Math.round(a/(5*n)*100):0,i=Object.keys(this.typeMapping).find((function(a){return t.typeMapping[a]===e}));return i&&(this.$set(this.dimensionScores,i,s),Object.keys(this.radarCharts).forEach((function(e){t.updateRadarChart(e)}))),s},saveCurrentTabEvaluation:function(){var e=this.activeTab,t=this.checkTypeComplete(e);return t&&this.$message({message:"当前评分已保存",type:"success",duration:2e3}),t},checkTypeComplete:function(e){var t=this.typeMapping[e],a=this.ratings[t]&&this.ratings[t].every((function(e){return e.every((function(e){return e>0&&e<=5}))})),n=this.comments[t]&&this.comments[t].trim().length>0;return a&&n},checkAllEvaluationsComplete:function(){var e=this,t=this.submissionTypes.filter((function(t){return!e.checkTypeComplete(t)}));return!(t.length>0)||(this.$message.warning("以下内容的评分未完成：".concat(t.join("、"),"\n")+"请确保：\n1. 所有评分维度都已评星\n2. 已填写评语"),!1)},handleSubmitAll:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkAllEvaluationsComplete()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.$confirm("确认提交所有评分和评语？\n提交后将无法修改。\n\n各部分得分：\n".concat(e.submissionTypes.map((function(t){return"".concat(t,"：").concat(e.calculateTotalScore(e.typeMapping[t]),"分")})).join("\n")),"提交确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 5:return t.next=7,e.submitEvaluations();case 7:t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),"cancel"!==t.t0&&(console.error("提交评分失败：",t.t0),e.$message.error("提交失败，请重试"));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},submitEvaluations:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){var a,n;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.submitting=!0,a=e.submissionTypes.map((function(t){var a=e.typeMapping[t],n=e.evaluationData[a],s=[];return n.forEach((function(t,n){t.evaluationInfos.forEach((function(t,i){var o=e.ratings[a][n][i];s.push((0,r.default)({},t,o))}))})),{evaluationContent:t,finished:!0,evaluationTitle:e.comments[a],grade:e.calculateTotalScore(a),evaluationDimensions:s}})),n={taskId:e.taskId,stuId:e.studentId,evaluationType:{evaluationMethod:"自评",reviewerId:e.reviewerId,evaluationContents:a}},console.log("Submitting evaluation data:",JSON.stringify(n,null,2)),t.next=7,(0,c.submitEvaluation)(n);case 7:e.$message.success("评分提交成功！"),e.$emit("evaluation-submitted"),setTimeout((function(){e.$router.back()}),1500),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),console.error("提交评分失败：",t.t0),e.$message.error("提交失败，请重试");case 16:return t.prev=16,e.submitting=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,12,16,19]])})))()},initRadarChart:function(e){var t,a=null===(t=this.$refs["radarContainer-".concat(e)])||void 0===t?void 0:t[0];a&&(this.radarCharts[e]&&this.radarCharts[e].dispose(),this.radarCharts[e]=u.init(a),this.updateRadarChart(e))},updateRadarChart:function(e){var t=this,a=this.radarCharts[e];if(a){var n={title:{text:"能力评分雷达图",left:"center",top:10,textStyle:{fontSize:14,color:"#666"}},tooltip:{trigger:"item",formatter:function(e){var a=t.submissionTypes[e.dimensionIndex];return"".concat(a,": ").concat(t.dimensionScores[a],"分")}},radar:{indicator:this.submissionTypes.map((function(e){return{name:e,max:100}})),shape:"circle",radius:"65%",splitNumber:5,name:{textStyle:{color:"#666",fontSize:12}},splitArea:{areaStyle:{color:["#f3f6f9","#e9ecf2"]}}},series:[{type:"radar",name:"能力评分",data:[{value:this.submissionTypes.map((function(e){return t.dimensionScores[e]})),name:"当前评分",symbol:"circle",symbolSize:6,lineStyle:{width:2,color:"#409EFF"},areaStyle:{color:new u.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(64, 158, 255, 0.3)"},{offset:1,color:"rgba(64, 158, 255, 0.1)"}])},itemStyle:{color:"#409EFF"}}]}]};a.setOption(n)}},updateDimensionScore:function(e){var t=this,a=this.typeMapping[e],n=this.calculateTotalScore(a);this.$set(this.dimensionScores,e,n),Object.keys(this.radarCharts).forEach((function(e){t.updateRadarChart(e)}))},handleScoreChange:function(){var e=this;this.$nextTick((function(){e.updateRadarChart(e.activeTab)}))},getMimeType:function(e,t){var a={video:"video/mp4",audio:"audio/mpeg",ppt:"application/vnd.openxmlformats-officedocument.presentationml.presentation",word:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};return"word"!==e&&"ppt"!==e||!t.toLowerCase().endsWith(".pdf")?a[e]||"application/octet-stream":"application/pdf"},loadFiles:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){var a,n,s,r,l,u,d,p,m,v,h;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.getSubmissionsByStuId)(e.studentId);case 3:if(n=t.sent,s=n.data,null!==s&&void 0!==s&&null!==(a=s.rows)&&void 0!==a&&a.length){t.next=7;break}throw new Error("No submissions found");case 7:if(r=s.rows.find((function(t){return t.taskId===e.taskId})),null!==r&&void 0!==r&&r.taskInfos){t.next=10;break}throw new Error("Task ".concat(e.taskId," not found"));case 10:l=[],u=[],d=(0,i.default)(e.submissionTypes),t.prev=13,m=(0,o.default)().mark((function t(){var a,n,s,i,d,m,v,h,g,b,w;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=p.value,n=e.typeMapping[a],e.loading[n]=!0,t.prev=3,s=r.taskInfos.find((function(e){return e.submissionType===a})),s&&s.fileName){t.next=8;break}return l.push(a),t.abrupt("return",0);case 8:if(s.finished){t.next=11;break}return u.push(a),t.abrupt("return",0);case 11:if(!s.fileName){t.next=41;break}return t.next=14,(0,c.showFile)(n,s.fileName);case 14:if(i=t.sent,d=e.getMimeType(n,s.fileName),"word"!==n){t.next=40;break}return e.convertLoading=!0,t.prev=18,t.next=21,f.default.convertToHtml({arrayBuffer:i},{styleMap:["p[style-name='Title'] => h1:fresh","p[style-name='Heading 1'] => h2:fresh","p[style-name='Heading 2'] => h3:fresh","p[style-name='Quote'] => blockquote:fresh","r[style-name='Strong'] => strong","r[style-name='Emphasis'] => em"]});case 21:m=t.sent,e.wordContent=m.value,v=new Blob([i],{type:d}),h=URL.createObjectURL(v),e._blobUrls=e._blobUrls||[],e._blobUrls.push(h),e.$set(e.fileUrls,n,h),t.next=35;break;case 30:t.prev=30,t.t0=t["catch"](18),console.error("Word conversion failed:",t.t0),e.$message.error("Word文档转换失败"),e.wordContent="";case 35:return t.prev=35,e.convertLoading=!1,t.finish(35);case 38:t.next=41;break;case 40:"ppt"===n?e.pdfData=i:(g=new Blob([i],{type:d}),b=URL.createObjectURL(g),e._blobUrls=e._blobUrls||[],e._blobUrls.push(b),e.$set(e.fileUrls,n,b),w=e.$refs["".concat(n,"Element")],w&&(w.src=b));case 41:t.next=46;break;case 43:t.prev=43,t.t1=t["catch"](3),console.error("Error loading ".concat(a," file:"),t.t1);case 46:return t.prev=46,e.loading[n]=!1,t.finish(46);case 49:case"end":return t.stop()}}),t,null,[[3,43,46,49],[18,30,35,38]])})),d.s();case 16:if((p=d.n()).done){t.next=23;break}return t.delegateYield(m(),"t0",18);case 18:if(v=t.t0,0!==v){t.next=21;break}return t.abrupt("continue",21);case 21:t.next=16;break;case 23:t.next=28;break;case 25:t.prev=25,t.t1=t["catch"](13),d.e(t.t1);case 28:return t.prev=28,d.f(),t.finish(28);case 31:h=[],l.length>0&&h.push("未提交：".concat(l.join("、"))),u.length>0&&h.push("未完成：".concat(u.join("、"))),h.length>0&&e.$message({message:h.join("\n"),type:"warning",duration:5e3}),t.next=40;break;case 37:t.prev=37,t.t2=t["catch"](0),console.error("Error loading submissions:",t.t2);case 40:case"end":return t.stop()}}),t,null,[[0,37],[13,25,28,31]])})))()},handleFileError:function(e){this.loading[e]=!1},clearBlobUrls:function(){this._blobUrls.forEach((function(e){return URL.revokeObjectURL(e)})),this._blobUrls=[]},handlePlay:function(){this.isPlaying=!0},handlePause:function(){this.isPlaying=!1}},created:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchTaskData().then((function(){if(!e.activeTab){var t=Object.keys(e.evaluationData)[0];e.activeTab=t||"视频"}e.submissionTypes.forEach((function(t){e.$set(e.dimensionScores,t,0)})),e.$nextTick((function(){e.initRadarChart(e.activeTab)}))}));case 2:return t.next=4,e.loadFiles();case 4:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){var e=this;this.radarCharts&&Object.keys(this.radarCharts).forEach((function(t){e.radarCharts[t]&&e.radarCharts[t].dispose()})),this._blobUrls&&Array.isArray(this._blobUrls)&&(this._blobUrls.forEach((function(e){return URL.revokeObjectURL(e)})),this._blobUrls=[])}}},"2cdd":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-菜单设置",use:"icon-菜单设置-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-菜单设置"><path d="M341.12 725.12h597.12c47.36 0 85.12 38.4 85.12 85.12 0.64 47.36-37.76 85.76-84.48 85.76H341.12a85.504 85.504 0 0 1 0-170.88z m0-298.24h597.12a85.12 85.12 0 1 1 0.64 170.24H341.12a85.12 85.12 0 1 1 0-170.24z m0-298.88h597.12C985.6 128 1024 166.4 1024 213.12c0 47.36-38.4 85.12-85.12 85.12H341.12C294.4 298.88 256 260.48 256 213.12 256 166.4 294.4 128 341.12 128z m-256 597.12a85.12 85.12 0 1 1 0 170.24A84.48 84.48 0 0 1 0 810.88c0-47.36 38.4-85.76 85.12-85.76z m0-298.24a85.12 85.12 0 1 1 0.064 170.176A85.12 85.12 0 0 1 85.12 426.88z m0-298.88a85.12 85.12 0 1 1 0 170.24C38.4 298.88 0 260.48 0 213.12 0 166.4 38.4 128 85.12 128z" p-id="1584" /></symbol>'});r.a.add(o);t["default"]=o},"2cf5":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"app-main"},[a("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[a("keep-alive",{attrs:{include:e.cachedViews}},[e.$route.meta.link?e._e():a("router-view",{key:e.key})],1)],1),a("iframe-toggle")],1)},s=[]},"2d0e":function(e,t,a){"use strict";a.r(t);var n=a("1c03"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"2d7b":function(e,t,a){"use strict";a.r(t);var n=a("e620"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"2dc1":function(e,t,a){"use strict";a("a285")},"2e1b":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("div",{staticClass:"overlay"}),e._v(" "),n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules}},[n("img",{staticClass:"logo-img",attrs:{src:a("9ab3"),alt:"Utalk Logo"}}),n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{staticClass:"input-custom",attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[n("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{staticClass:"input-custom",attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[n("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),n("el-checkbox",{staticClass:"checkbox-custom",staticStyle:{margin:"0px 0px 25px 0px"},model:{value:e.loginForm.rememberMe,callback:function(t){e.$set(e.loginForm,"rememberMe",t)},expression:"loginForm.rememberMe"}},[e._v("记住密码")]),n("el-form-item",{staticStyle:{width:"100%"}},[n("el-button",{staticClass:"login-button",staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e.loading?n("span",[e._v("登 录 中...")]):n("span",[e._v("登 录")])]),n("el-button",{staticClass:"login-button cas-button",staticStyle:{width:"100%","margin-top":"15px"},attrs:{size:"medium",type:"primary"},on:{click:e.handleCasLogin}},[e._v(" 统一认证登录 ")]),e.register?n("div",{staticStyle:{float:"right"}},[n("router-link",{staticClass:"link-type",attrs:{to:"/register"}},[e._v("立即注册")])],1):e._e()],1)],1)],1)},s=[]},"2e96":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-selfpractise2",use:"icon-selfpractise2-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-selfpractise2"><path d="M561.92 201.6H250.24c-33.92 0-61.44 23.04-61.44 51.2 0 28.16 27.52 51.2 61.44 51.2h311.04c33.92 0 61.44-23.04 61.44-51.2 0.64-28.16-26.88-51.2-60.8-51.2zM436.48 449.92H250.24c-33.92 0-61.44 23.04-61.44 51.2 0 28.16 27.52 51.2 61.44 51.2h186.24c33.92 0 61.44-23.04 61.44-51.2 0.64-28.16-27.52-51.2-61.44-51.2z m469.12 124.16c7.68 0 14.72 2.56 19.84 8.32l64.64 64.64c5.12 5.12 8.32 12.8 8.32 19.84 0 7.68-2.56 14.72-8.32 19.84l-48 54.4-107.52-107.52 51.2-51.2c5.12-5.12 12.8-8.32 19.84-8.32zM744.96 0c82.56 0 149.76 67.2 150.4 149.76v215.68L476.16 793.6c-60.16 61.44-94.08 144-94.08 230.4H174.72C92.16 1024 24.96 956.8 24.96 874.24V149.76C24.96 67.2 92.16 0 174.72 0h570.24z m55.68 661.76l108.16 108.16L645.12 1024H537.6v-108.16l263.04-254.08z" p-id="1114" /></symbol>'});r.a.add(o);t["default"]=o},"2fb0":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-edit",use:"icon-edit-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-edit"><path d="M106.133 67.2a4.797 4.797 0 0 0-4.8 4.8c0 .187.014.36.027.533h-.027V118.4H9.6V26.667h50.133c2.654 0 4.8-2.147 4.8-4.8 0-2.654-2.146-4.8-4.8-4.8H9.6a9.594 9.594 0 0 0-9.6 9.6V118.4c0 5.307 4.293 9.6 9.6 9.6h91.733c5.307 0 9.6-4.293 9.6-9.6V72.533h-.026c.013-.173.026-.346.026-.533 0-2.653-2.146-4.8-4.8-4.8z" /><path d="M125.16 13.373L114.587 2.8c-3.747-3.747-9.854-3.72-13.6.027l-52.96 52.96a4.264 4.264 0 0 0-.907 1.36L33.813 88.533c-.746 1.76-.226 3.534.907 4.68 1.133 1.147 2.92 1.667 4.693.92l31.4-13.293c.507-.213.96-.52 1.36-.907l52.96-52.96c3.747-3.746 3.774-9.853.027-13.6zM66.107 72.4l-18.32 7.76 7.76-18.32L92.72 24.667l10.56 10.56L66.107 72.4zm52.226-52.227l-8.266 8.267-10.56-10.56 8.266-8.267.027-.026 10.56 10.56-.027.026z" /></symbol>'});r.a.add(o);t["default"]=o},3:function(e,t){},3010:function(e,t,a){"use strict";a("2686")},3160:function(e,t,a){"use strict";a.r(t);var n=a("6cbc"),s=a("708a");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("6d58");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"a1e0242e",null);t["default"]=o.exports},"318f":function(e,t,a){"use strict";a("0f20")},"31ba":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("7ec2")),i=n(a("c973")),r=n(a("6374"));a("d9e2"),a("99af"),a("7db0"),a("d81d"),a("14d9"),a("a434"),a("e9c4"),a("b64b"),a("d3b7"),a("498a"),a("0643"),a("fffc"),a("a573"),a("9a9a");var o=n(a("2ef0")),l=n(a("f81e")),c=a("839b");t.default={name:"SetEvaluationDimensions",props:{taskId:{type:String,required:!0}},data:function(){return{loading:!1,activeMethod:"师评",evaluationMethods:["师评","互评","自评","机评"],modalTypes:["视频","音频","PPT","演讲稿"],evaluationData:[]}},created:function(){this.initializeData()},methods:{initializeData:function(){var e=localStorage.getItem("evaluation_".concat(this.taskId));e?this.evaluationData=JSON.parse(e):this.applyTemplate("basic")},getDimensionsByType:function(e){var t=this,a=this.evaluationData.find((function(e){return e.evaluationMethods===t.activeMethod}));if(!a)return[];var n=a.evaluationTypes.find((function(t){return t.evaluationContent===e}));return n?n.evaluationTitles:[]},applyBasicTemplate:function(){this.evaluationData=o.default.cloneDeep(l.default),this.saveToLocal(),this.$message.success("已应用基础模板")},startCustomTemplate:function(){var e=this;this.evaluationData=this.evaluationMethods.map((function(t){return{evaluationMethods:t,evaluationTypes:e.modalTypes.map((function(e){return{evaluationContent:e,evaluationTitles:[]}}))}})),this.saveToLocal(),this.$message.success("已切换到自定义模板模式")},saveToLocal:function(){localStorage.setItem("evaluation_".concat(this.taskId),JSON.stringify(this.evaluationData))},addDimension:function(e){var t=this,a=this.evaluationData.find((function(e){return e.evaluationMethods===t.activeMethod})),n=a.evaluationTypes.find((function(t){return t.evaluationContent===e}));n.evaluationTitles.push({evaluationTitle:"",evaluationInfos:[]})},removeDimension:function(e,t){var a=this;this.$confirm("确认删除此评价维度？","提示",{type:"warning"}).then((function(){var n=a.evaluationData.find((function(e){return e.evaluationMethods===a.activeMethod})),s=n.evaluationTypes.find((function(t){return t.evaluationContent===e}));s.evaluationTitles.splice(t,1)})).catch((function(){}))},addPoint:function(e){e.evaluationInfos.push("")},removePoint:function(e,t){this.$confirm("确认删除此评价点？","提示",{type:"warning"}).then((function(){e.evaluationInfos.splice(t,1)})).catch((function(){}))},validateData:function(){var e,t=!0,a="",n=(0,r.default)(this.evaluationData);try{for(n.s();!(e=n.n()).done;){var s=e.value;if("机评"!==s.evaluationMethods){var i,o=(0,r.default)(s.evaluationTypes);try{for(o.s();!(i=o.n()).done;){var l,c=i.value,u=(0,r.default)(c.evaluationTitles);try{for(u.s();!(l=u.n()).done;){var d,f,p=l.value;if(null===(d=p.evaluationTitle)||void 0===d||!d.trim()){t=!1,a="".concat(s.evaluationMethods,"的").concat(c.evaluationContent,"中存在未填写的维度标题");break}if(null===(f=p.evaluationInfos)||void 0===f||!f.length){t=!1,a="".concat(s.evaluationMethods,"的").concat(c.evaluationContent,'中的"').concat(p.evaluationTitle,'"没有评价点');break}if(p.evaluationInfos.some((function(e){return!(null!==e&&void 0!==e&&e.trim())}))){t=!1,a="".concat(s.evaluationMethods,"的").concat(c.evaluationContent,'中的"').concat(p.evaluationTitle,'"存在空的评价点');break}}}catch(m){u.e(m)}finally{u.f()}if(!t)break}}catch(m){o.e(m)}finally{o.f()}if(!t)break}}}catch(m){n.e(m)}finally{n.f()}return{isValid:t,message:a}},submitEvaluationDimensions:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){var a,n,i,r,o,l;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a=e.validateData(),n=a.isValid,i=a.message,n){t.next=5;break}return e.$message.error(i),t.abrupt("return");case 5:return e.loading=!0,r={taskId:e.taskId,evaluationDimensions:e.evaluationData},t.next=9,(0,c.setTaskEvaluation)(r);case 9:if(o=t.sent,1!==o.code){t.next=15;break}e.$message.success("提交成功"),o.data&&o.data.evaluationDimensions&&(l=e.activeMethod,e.evaluationData=o.data.evaluationDimensions,e.activeMethod=l),t.next=16;break;case 15:throw new Error(o.msg||"提交失败");case 16:t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](0),e.$message.error("提交失败："+t.t0.message);case 21:return t.prev=21,e.loading=!1,t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[0,18,21,24]])})))()}}}},"31c2":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("ded3"));a("99af"),a("caad"),a("14d9"),a("e9c4"),a("b64b"),a("d3b7"),a("2532"),a("0643"),a("4e3e"),a("9a9a"),a("159b");var i=a("a18c"),r={state:{routes:[],addRoutes:[],sidebarRouters:[]},mutations:{SET_ROUTES:function(e,t){e.addRoutes=t,e.routes=i.constantRoutes.concat(t)},SET_SIDEBAR_ROUTERS:function(e,t){e.sidebarRouters=i.constantRoutes.concat(t)}},actions:{GenerateRoutes:function(e,t){var a=e.commit;return new Promise((function(e){var n;console.log("Inside GenerateRoutes, roles:",t),n=t.includes("admin")?i.dynamicRoutes:o(i.dynamicRoutes,t),console.log(" accessedRoutes:",JSON.parse(JSON.stringify(n))),a("SET_ROUTES",n),a("SET_SIDEBAR_ROUTERS",n),e(n)}))}}};function o(e,t){var a=[];return e.forEach((function(e){var n=(0,s.default)({},e);l(t,n)&&(n.children&&(n.children=o(n.children,t)),a.push(n))})),console.log("Filtered Routes:",a),a}function l(e,t){return!t.meta||!t.meta.roles||e.some((function(e){return t.meta.roles.includes(e)}))}t.default=r},3338:function(e,t,a){"use strict";a.r(t);var n=a("dcde"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"333dc":function(e,t,a){"use strict";a.r(t);var n=a("1ed5"),s=a("d331");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("8bb3");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"cf1facd6",null);t["default"]=o.exports},3399:function(e,t,a){"use strict";a("404e")},"33ce":function(e,t,a){"use strict";a.r(t);var n=a("7189"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"33e3":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"genInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"tplCategory"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("生成模板")]),a("el-select",{on:{change:e.tplSelectChange},model:{value:e.info.tplCategory,callback:function(t){e.$set(e.info,"tplCategory",t)},expression:"info.tplCategory"}},[a("el-option",{attrs:{label:"单表（增删改查）",value:"crud"}}),a("el-option",{attrs:{label:"树表（增删改查）",value:"tree"}}),a("el-option",{attrs:{label:"主子表（增删改查）",value:"sub"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"tplWebType"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("前端类型")]),a("el-select",{model:{value:e.info.tplWebType,callback:function(t){e.$set(e.info,"tplWebType",t)},expression:"info.tplWebType"}},[a("el-option",{attrs:{label:"Vue2 Element UI 模版",value:"element-ui"}}),a("el-option",{attrs:{label:"Vue3 Element Plus 模版",value:"element-plus"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"packageName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 生成包路径 "),a("el-tooltip",{attrs:{content:"生成在哪个java包下，例如 com.ruoyi.system",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{model:{value:e.info.packageName,callback:function(t){e.$set(e.info,"packageName",t)},expression:"info.packageName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"moduleName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 生成模块名 "),a("el-tooltip",{attrs:{content:"可理解为子系统名，例如 system",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{model:{value:e.info.moduleName,callback:function(t){e.$set(e.info,"moduleName",t)},expression:"info.moduleName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"businessName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 生成业务名 "),a("el-tooltip",{attrs:{content:"可理解为功能英文名，例如 user",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{model:{value:e.info.businessName,callback:function(t){e.$set(e.info,"businessName",t)},expression:"info.businessName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"functionName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 生成功能名 "),a("el-tooltip",{attrs:{content:"用作类描述，例如 用户",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{model:{value:e.info.functionName,callback:function(t){e.$set(e.info,"functionName",t)},expression:"info.functionName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"genType"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 生成代码方式 "),a("el-tooltip",{attrs:{content:"默认为zip压缩包下载，也可以自定义生成路径",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-radio",{attrs:{label:"0"},model:{value:e.info.genType,callback:function(t){e.$set(e.info,"genType",t)},expression:"info.genType"}},[e._v("zip压缩包")]),a("el-radio",{attrs:{label:"1"},model:{value:e.info.genType,callback:function(t){e.$set(e.info,"genType",t)},expression:"info.genType"}},[e._v("自定义路径")])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 上级菜单 "),a("el-tooltip",{attrs:{content:"分配到指定菜单下，例如 系统管理",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("treeselect",{attrs:{"append-to-body":!0,options:e.menus,normalizer:e.normalizer,"show-count":!0,placeholder:"请选择系统菜单"},model:{value:e.info.parentMenuId,callback:function(t){e.$set(e.info,"parentMenuId",t)},expression:"info.parentMenuId"}})],1)],1),"1"==e.info.genType?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"genPath"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 自定义路径 "),a("el-tooltip",{attrs:{content:"填写磁盘绝对路径，若不填写，则生成到当前Web项目下",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-input",{model:{value:e.info.genPath,callback:function(t){e.$set(e.info,"genPath",t)},expression:"info.genPath"}},[a("el-dropdown",{attrs:{slot:"append"},slot:"append"},[a("el-button",{attrs:{type:"primary"}},[e._v(" 最近路径快速选择 "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(t){e.info.genPath="/"}}},[e._v("恢复默认的生成基础路径")])],1)],1)],1)],1)],1):e._e()],1),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"tree"==e.info.tplCategory,expression:"info.tplCategory == 'tree'"}]},[a("h4",{staticClass:"form-header"},[e._v("其他信息")]),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 树编码字段 "),a("el-tooltip",{attrs:{content:"树显示的编码字段名， 如：dept_id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeCode,callback:function(t){e.$set(e.info,"treeCode",t)},expression:"info.treeCode"}},e._l(e.info.columns,(function(e,t){return a("el-option",{key:t,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 树父编码字段 "),a("el-tooltip",{attrs:{content:"树显示的父编码字段名， 如：parent_Id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeParentCode,callback:function(t){e.$set(e.info,"treeParentCode",t)},expression:"info.treeParentCode"}},e._l(e.info.columns,(function(e,t){return a("el-option",{key:t,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 树名称字段 "),a("el-tooltip",{attrs:{content:"树节点的显示名称字段名， 如：dept_name",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeName,callback:function(t){e.$set(e.info,"treeName",t)},expression:"info.treeName"}},e._l(e.info.columns,(function(e,t){return a("el-option",{key:t,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1)],1),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"sub"==e.info.tplCategory,expression:"info.tplCategory == 'sub'"}]},[a("h4",{staticClass:"form-header"},[e._v("关联信息")]),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 关联子表的表名 "),a("el-tooltip",{attrs:{content:"关联子表的表名， 如：sys_user",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.subSelectChange},model:{value:e.info.subTableName,callback:function(t){e.$set(e.info,"subTableName",t)},expression:"info.subTableName"}},e._l(e.tables,(function(e,t){return a("el-option",{key:t,attrs:{label:e.tableName+"："+e.tableComment,value:e.tableName}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 子表关联的外键名 "),a("el-tooltip",{attrs:{content:"子表关联的外键名， 如：user_id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.subTableFkName,callback:function(t){e.$set(e.info,"subTableFkName",t)},expression:"info.subTableFkName"}},e._l(e.subColumns,(function(e,t){return a("el-option",{key:t,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1)],1)],1)},s=[]},"34f0":function(e,t,a){},3528:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addRole=o,t.allocatedUserList=f,t.authUserCancel=m,t.authUserCancelAll=v,t.authUserSelectAll=h,t.changeRoleStatus=u,t.dataScope=c,t.delRole=d,t.deptTreeSelect=g,t.getRole=r,t.listRole=i,t.unallocatedUserList=p,t.updateRole=l;var s=n(a("b775"));function i(e){return(0,s.default)({url:"/system/role/list",method:"get",params:e})}function r(e){return(0,s.default)({url:"/system/role/"+e,method:"get"})}function o(e){return(0,s.default)({url:"/system/role",method:"post",data:e})}function l(e){return(0,s.default)({url:"/system/role",method:"put",data:e})}function c(e){return(0,s.default)({url:"/system/role/dataScope",method:"put",data:e})}function u(e,t){var a={roleId:e,status:t};return(0,s.default)({url:"/system/role/changeStatus",method:"put",data:a})}function d(e){return(0,s.default)({url:"/system/role/"+e,method:"delete"})}function f(e){return(0,s.default)({url:"/system/role/authUser/allocatedList",method:"get",params:e})}function p(e){return(0,s.default)({url:"/system/role/authUser/unallocatedList",method:"get",params:e})}function m(e){return(0,s.default)({url:"/system/role/authUser/cancel",method:"put",data:e})}function v(e){return(0,s.default)({url:"/system/role/authUser/cancelAll",method:"put",params:e})}function h(e){return(0,s.default)({url:"/system/role/authUser/selectAll",method:"put",params:e})}function g(e){return(0,s.default)({url:"/system/role/deptTree/"+e,method:"get"})}},3561:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-list",use:"icon-list-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-list"><path d="M1.585 12.087c0 6.616 3.974 11.98 8.877 11.98 4.902 0 8.877-5.364 8.877-11.98 0-6.616-3.975-11.98-8.877-11.98-4.903 0-8.877 5.364-8.877 11.98zM125.86.107H35.613c-1.268 0-2.114 1.426-2.114 2.852v18.255c0 1.712 1.057 2.853 2.114 2.853h90.247c1.268 0 2.114-1.426 2.114-2.853V2.96c0-1.711-1.057-2.852-2.114-2.852zM.106 62.86c0 6.615 3.974 11.979 8.876 11.979 4.903 0 8.877-5.364 8.877-11.98 0-6.616-3.974-11.98-8.877-11.98-4.902 0-8.876 5.364-8.876 11.98zM124.17 50.88H33.921c-1.268 0-2.114 1.425-2.114 2.851v18.256c0 1.711 1.057 2.852 2.114 2.852h90.247c1.268 0 2.114-1.426 2.114-2.852V53.73c0-1.426-.846-2.852-2.114-2.852zM.106 115.913c0 6.616 3.974 11.98 8.876 11.98 4.903 0 8.877-5.364 8.877-11.98 0-6.616-3.974-11.98-8.877-11.98-4.902 0-8.876 5.364-8.876 11.98zm124.064-11.98H33.921c-1.268 0-2.114 1.426-2.114 2.853v18.255c0 1.711 1.057 2.852 2.114 2.852h90.247c1.268 0 2.114-1.426 2.114-2.852v-18.255c0-1.427-.846-2.853-2.114-2.853z" /></symbol>'});r.a.add(o);t["default"]=o},3567:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("9ab3")),i=n(a("8df1"));t.default={name:"SidebarLogo",props:{collapse:{type:Boolean,required:!0}},computed:{variables:function(){return i.default},sideTheme:function(){return this.$store.state.settings.sideTheme}},data:function(){return{title:"言之邮理",logo:s.default}}}},3665:function(e,t,a){"use strict";a("34f0")},"36db":function(e,t,a){"use strict";a.r(t);var n=a("f9bf"),s=a("6474");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("b613");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"2b42fc2c",null);t["default"]=o.exports},"36f9":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v(" 404错误! ")]),a("div",{staticClass:"bullshit__headline"},[e._v(" "+e._s(e.message)+" ")]),a("div",{staticClass:"bullshit__info"},[e._v(" 对不起，您正在寻找的页面不存在。尝试检查URL的错误，然后按浏览器上的刷新按钮或尝试在我们的应用程序中找到其他内容。 ")]),a("router-link",{staticClass:"bullshit__return-home",attrs:{to:"/"}},[e._v(" 返回首页 ")])],1)])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pic-404"},[n("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),n("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),n("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),n("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])}]},"378f":function(e,t,a){"use strict";a.r(t);var n=a("47ca"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"37de":function(e,t,a){"use strict";a("adb3")},"37e1":function(e,t,a){"use strict";a.r(t);var n=a("60cf"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},3873:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"top-right-btn",style:e.style},[a("el-row",[e.search?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.showSearch?"隐藏搜索":"显示搜索",placement:"top"}},[a("el-button",{attrs:{size:"mini",circle:"",icon:"el-icon-search"},on:{click:function(t){return e.toggleSearch()}}})],1):e._e(),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"刷新",placement:"top"}},[a("el-button",{attrs:{size:"mini",circle:"",icon:"el-icon-refresh"},on:{click:function(t){return e.refresh()}}})],1),e.columns?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"显隐列",placement:"top"}},["transfer"==e.showColumnsType?a("el-button",{attrs:{size:"mini",circle:"",icon:"el-icon-menu"},on:{click:function(t){return e.showColumn()}}}):e._e(),"checkbox"==e.showColumnsType?a("el-dropdown",{staticStyle:{"padding-left":"12px"},attrs:{trigger:"click","hide-on-click":!1}},[a("el-button",{attrs:{size:"mini",circle:"",icon:"el-icon-menu"}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e._l(e.columns,(function(t){return[a("el-dropdown-item",{key:t.key},[a("el-checkbox",{attrs:{checked:t.visible,label:t.label},on:{change:function(a){return e.checkboxChange(a,t.label)}}})],1)]}))],2)],1):e._e()],1):e._e()],1),a("el-dialog",{attrs:{title:e.title,visible:e.open,"append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-transfer",{attrs:{titles:["显示","隐藏"],data:e.columns},on:{change:e.dataChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)},s=[]},"395d":function(e,t,a){"use strict";a("de52")},"398c":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("svg-icon",{attrs:{"icon-class":"question"},on:{click:e.goto}})],1)},s=[]},"39b5":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"student-class-application"},[a("h2",{staticClass:"title"},[e._v("申请加入班级")]),a("div",{staticClass:"search-bar"},[a("el-input",{staticClass:"search-input",attrs:{placeholder:"搜索教师姓名",clearable:""},on:{input:e.filterClasses},model:{value:e.filters.teacherName,callback:function(t){e.$set(e.filters,"teacherName",t)},expression:"filters.teacherName"}}),a("el-input",{staticClass:"search-input",attrs:{placeholder:"搜索班级名称",clearable:""},on:{input:e.filterClasses},model:{value:e.filters.className,callback:function(t){e.$set(e.filters,"className",t)},expression:"filters.className"}})],1),e._l(e.filteredClasses,(function(t,n){return a("div",{key:n,staticClass:"teacher-section"},[a("h3",{staticClass:"teacher-name"},[e._v(e._s(n))]),a("div",{staticClass:"class-cards"},[e._m(0,!0),e._l(t,(function(t){return a("el-card",{key:t.classId,staticClass:"class-card"},[a("div",{staticClass:"class-row"},[a("span",[e._v(e._s(t.className))]),a("span",[e._v(e._s(t.classIntroduction))]),a("span",[e._v(e._s(t.classTarget))]),a("span",[e._v(e._s(t.term))]),a("span",[e._v(e._s(e.formatDate(t.startTime)))]),a("span",[e._v(e._s(e.formatDate(t.deadline)))]),a("span",{staticClass:"actions"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.viewMembers(t.classId)}}},[e._v("查看成员")]),a("el-button",{attrs:{type:e.getButtonType(t.classId),size:"small",disabled:e.isButtonDisabled(t.classId)},on:{click:function(a){return e.applyClass(t.classId,t.teacherId)}}},[e._v(" "+e._s(e.getButtonText(t.classId))+" ")])],1)])])}))],2)])})),a("el-dialog",{attrs:{title:"班级成员",visible:e.membersDialogVisible,width:"50%"},on:{"update:visible":function(t){e.membersDialogVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.members}},[a("el-table-column",{attrs:{prop:"studentId",label:"学号",align:"center"}}),a("el-table-column",{attrs:{prop:"nickName",label:"姓名",align:"center"}}),a("el-table-column",{attrs:{prop:"userName",label:"邮箱",align:"center"}}),a("el-table-column",{attrs:{prop:"mobile",label:"手机号",align:"center"}}),a("el-table-column",{attrs:{prop:"school",label:"学校",align:"center"}}),a("el-table-column",{attrs:{prop:"major",label:"专业",align:"center"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.membersDialogVisible=!1}}},[e._v("关闭")])],1)],1)],2)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"class-table-header"},[a("span",[e._v("班级名称")]),a("span",[e._v("班级介绍")]),a("span",[e._v("班级目标")]),a("span",[e._v("学期")]),a("span",[e._v("开始时间")]),a("span",[e._v("截止日期")]),a("span",[e._v("操作")])])}]},"39e1":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-qq",use:"icon-qq-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-qq"><path d="M18.448 57.545l-.244-.744-.198-.968-.132-.53v-2.181l.236-.859.24-.908.317-.953.428-1.06.561-1.103.794-1.104v-.773l.077-.724.123-.984.34-1.106.313-1.194.25-.548.289-.511.371-.569.405-.423v-2.73l.234-1.407.236-1.633.42-1.955.577-2.035.43-1.118.426-1.217.468-1.135.559-1.216.57-1.332.655-1.247.737-1.331.929-1.33.43-.762.457-.624.995-1.406 1.025-1.403 1.163-1.444 1.246-1.405 1.352-1.384 1.41-1.423 1.708-1.536 1.083-.934 1.322-1.008 1.34-.89 1.448-.855 1.392-.76 1.57-.63 1.667-.775 1.657-.532 1.653-.552 1.787-.548 1.785-.417 1.876-.347L59.128.68l1.879-.245 1.876-.252 2.002-.106h5.912l1.97.243 1.981.231 2.019.207 1.874.441 1.979.413 1.857.475 2.035.53 1.862.646 1.782.738 1.904.78 1.736.853 1.689.95 1.655 1.044 1.425.971.662.548.693.401 1.323 1.1 1.115 1.064 1.112 1.1 1.083 1.214.894 1.178 1.064 1.217.74 1.306.752 1.162.798 1.352.661 1.175 1.113 2.489.546 1.286.428 1.192.428 1.294.384 1.217.267 1.047.347 1.231.607 2.198.388 1.924.253 1.861.217 1.497.342 2.28.077.362.274.41.737 1.18.473.8.42.832.534.892.472 1.07.307 1.093.334 1.2.252 1.232.115.605.106.746v.648l-.106.643v.8l-.192.774-.35 1.5-.403.76-.299.852v.213l.142.264.4.623 1.746 2.53 1.377 1.9.66 1.267.889 1.389.774 1.52.893 1.627.894 1.828 1.006 2.069.567 1.268.518 1.239.447 1.307.44 1.175.336 1.235.342 1.16.432 2.261.343 2.31.235 2.05v2.891l-.158 1.025-.226 1.768-.308 1.59-.48 1.44-.18.588-.336.707-.28.493-.375.607-.33.383-.42.494-.375.4-.401.34-.48.207-.432.207-.355.114h-.543l-.346-.114-.66-.32-.302-.212-.317-.223-.347-.304-.35-.342-.579-.63-.684-.89-.539-.917-.538-.734-.526-.855-.741-1.517-.833-1.579-.098-.055h-.138l-.338.247-.196.415-.326.516-.567 1.533-.856 2.182-1.096 2.626-.824 1.308-.864 1.366-1.027 1.536-1.09 1.503-.557.68-.676.743-1.555 1.497.136.135.21.214.777.446 3.235 1.524 1.41.779 1.347.756 1.332.953 1.187.982.574.443.432.511.445.593.367.643.198.533.242.64.105.554.115.647-.115.433v.44l-.105.454-.242.415-.092.325-.22.394-.587.784-.543.627-.42.47-.35.348-.893.638-1.01.556-1.077.532-1.155.511-1.287.495-.693.207-.608.167-1.496.342-1.545.325-1.552.323-1.689.27-1.74.072-1.785.21h-5.539l-1.998-.114-1.86-.168-2.005-.27-1.99-.209-2.095-.286-2.03-.495-1.981-.374-1.968-.552-2.019-.707-1.98-.585-1.044-.342-.927-.323-.586-.223-.582-.12h-1.647l-1.904-.131-.962-.096-1.24-.135-.795.705-1.085.665-1.471.701-1.628.875-.99.475-1.033.376-2.281.914-1.24.305-1.3.343-1.803.344-1.13.086-1.193.1-1.246.135-1.45.053h-5.926l-3.346-.053-3.25-.321-1.644-.23-1.589-.23-1.546-.227-1.547-.305-1.442-.456-1.434-.325-1.294-.51-1.223-.474-1.142-.533-.99-.583-.984-.71-.336-.343-.44-.415-.334-.362-.3-.417-.278-.415-.215-.42-.311-.89-.109-.46-.138-.51v-.473l.138-.533v-.53l.109-.53v-1.069l.052-.564.259-.647.215-.646.39-.779.286-.3.236-.348.615-.738.49-.38.464-.266.428-.338.676-.21.543-.324.676-.341.77-.227.775-.231.897-.192.85-.11 1.008-.13 1.093-.081.284-.092h.063l.137-.115v-.13l-.2-.266-.58-.27-1.45-1.231-.975-.761-1.127-.967-1.136-1.082-1.181-1.382-1.36-1.558-.508-.843-.672-.87-.58-1.007-.522-1.1-.704-1.047-.459-1.194-.547-1.192-.546-1.33-.397-1.273-.378-1.575-.112-.057h-.115l-.059-.113h-.14l-.23.113-.114.057-.158.264-.057.321-.119.286-.206.477-.664 1.157-.345.701-.546.612-.58.736-.641.816-.677.724-.795.701-.734.658-.814.524-.89.546-.855.325-1.008.247-.99.095h-.233l-.228-.095-.18-.384-.29-.188-.38-.912-.237-.493-.255-.707-.21-.734-.113-.724-.313-1.648-.12-.972v-3.185l.12-2.379.196-1.214.23-1.252.21-1.347.374-1.254.42-1.443.431-1.407.578-1.448.545-1.38.754-1.4.699-1.52.855-1.425 1.006-1.538 1.023-1.382 1.069-1.538.891-1.071 1.142-1.227 1.202-1.237.56-.59.678-.662.985-.836 1.012-.853 1.647-1.446 1.242-.889z" /></symbol>'});r.a.add(o);t["default"]=o},"39e3":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.mergeOptions=l,t.options=void 0,a("d81d"),a("d3b7"),a("a573");var s=a("c38a"),i=n(a("0553")),r=t.options={metas:{"*":{request:function(e){return console.log("load dict ".concat(e.type)),Promise.resolve([])},responseConverter:o,labelField:"label",valueField:"value"}},DEFAULT_LABEL_FIELDS:["label","name","title"],DEFAULT_VALUE_FIELDS:["value","id","uid","key"]};function o(e,t){var a=e.content instanceof Array?e.content:e;return void 0===a?(console.warn('no dict data of "'.concat(t.type,'" found in the response')),[]):a.map((function(e){return(0,i.default)(e,t)}))}function l(e){(0,s.mergeRecursive)(r,e)}t.default=r},"3a17":function(e,t,a){},"3b46":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7"),a("ac1f"),a("3ca3"),a("5319"),a("ddb0"),a("2b3d"),a("bf19"),a("9861"),a("88a7"),a("271a"),a("5494");var s=n(a("7ec2")),i=n(a("c973")),r=n(a("a381")),o=a("a6bd"),l=n(a("c515"));t.default={name:"DocumentEditor",components:{Editor:r.default},data:function(){return{content:"",prompts:{evaluate:"从以下角度评价演讲稿的总体质量：\n1. 体裁适宜（记叙文、说明文、议论文的文体选择适宜）<literary styles>\n2. 证据充分<evidence>\n3. 论证有力<reasoning>\n4. 语言表达地道<idiomaticity>\n5. 逻辑连贯<logic>\n6. 句子简明扼要<consiceness>\n7. 无拼写错误<spelling>\n8. 无标点错误<punctuation>\n9. 基本无语法错误<grammar>\n10. 整体谋篇布局合理<organization>\n11. 内容切题<relevancy>\n要求：（1）请从0-100分进行打分，分数越高，说明质量越好。\n（2）请给出具体的打分理由。并且给出实例。并且给出对相关语句具体的修改建议。\n演讲稿内容如下：\n{text}",polish:"请对以下演讲稿进行润色，使其更加流畅、专业和富有感染力，同时保持原文的语种（英语/中文）和其核心内容和风格：\n\n{text}\n\n请从以下几个方面进行优化：\n1. 语言表达更加优美流畅\n2. 逻辑结构更加清晰\n3. 用词更加准确专业\n4. 增强演讲感染力\n5. 调整语气和节奏"}}},methods:{handleFileUpload:function(e){var t=this;return(0,i.default)((0,s.default)().mark((function a(){var n,i,r;return(0,s.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,o.handleFile)(e);case 3:return n=a.sent,i=n.value,n.messages,r="<div>".concat(i,"</div>"),t.content=r,a.next=10,t.$nextTick();case 10:t.$message.success("文档上传成功"),a.next=17;break;case 13:a.prev=13,a.t0=a["catch"](0),t.$message.error("文档处理失败"),console.error(a.t0);case 17:case"end":return a.stop()}}),a,null,[[0,13]])})))()},downloadDoc:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){var a,n,i,r,o;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.content,n={margin:{top:1440,right:1440,bottom:1440,left:1440},font:"Times New Roman"},t.next=5,(0,l.default)(a,null,n);case 5:i=t.sent,r=window.URL.createObjectURL(i),o=document.createElement("a"),o.href=r,o.download="document_".concat((new Date).getTime(),".docx"),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(r),e.$message.success("文档下载成功"),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error("下载文档失败:",t.t0),e.$message.error("下载文档失败");case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},handleEvaluate:function(e){var t=this.prompts.evaluate.replace("{text}",e);this.$bus.$emit("sendToAI",t)},handlePolish:function(e){var t=this.prompts.polish.replace("{text}",e);this.$bus.$emit("sendToAI",t)},handleSelectionAction:function(e){this.$bus.$emit("sendToAI",e.prompt)}}}},"3ba1":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"editor-container"},[a("div",{staticClass:"editor-header"},[a("div",{staticClass:"file-operations"},[a("div",{staticClass:"left-buttons"},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"","http-request":e.handleFileUpload,"show-file-list":!1}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("上传文档")])],1),a("el-button",{attrs:{size:"small"},on:{click:e.handleDownload}},[e._v("下载文档")])],1),a("div",{staticClass:"right-buttons"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleEvaluate}},[e._v("一键评估")]),a("el-button",{attrs:{size:"small",type:"success"},on:{click:e.handlePolish}},[e._v("一键润色")])],1)])]),a("div",{staticClass:"editor-body"},[a("quill-editor",{ref:"myQuillEditor",attrs:{options:e.editorOption},on:{change:e.onEditorChange,"selection-change":e.onSelectionChange,blur:e.onEditorBlur,focus:e.onEditorFocus},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),a("div",{staticClass:"editor-footer"},[a("div",{staticClass:"word-count",class:{warning:e.wordCount>e.maxWords}},[a("span",[e._v("字数："+e._s(e.wordCount))]),a("span",{staticClass:"separator"},[e._v("|")]),a("span",[e._v("字符数："+e._s(e.charCount))])])]),a("AISidebar",{attrs:{selection:e.currentSelection},on:{action:e.handleSelectionAction}})],1)},s=[]},"3c57":function(e,t,a){"use strict";a.r(t);var n=a("d359"),s=a("f776");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("a4b0");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"7a8aaf64",null);t["default"]=o.exports},"3de4":function(e,t,a){"use strict";a.r(t);var n=a("0023"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"3dfd":function(e,t,a){"use strict";a.r(t);var n=a("1598"),s=a("42d8");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("94c9");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"45b433ba",null);t["default"]=o.exports},"3e27":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d9e2"),a("caad"),a("d3b7"),a("2532"),a("0643"),a("9a9a");var s=n(a("4360"));t.default={inserted:function(e,t,a){var n=t.value,i="admin",r=s.default.getters&&s.default.getters.roles;if(!(n&&n instanceof Array&&n.length>0))throw new Error('请设置角色权限标签值"');var o=n,l=r.some((function(e){return i===e||o.includes(e)}));l||e.parentNode&&e.parentNode.removeChild(e)}}},"3eff":function(e,t,a){"use strict";a.r(t);var n=a("8756"),s=a("ab03");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("37de");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"5f74266a",null);t["default"]=o.exports},"3f38":function(e,t,a){},4:function(e,t){},4028:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.userForm,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"旧密码",prop:"oldPassword"}},[a("el-input",{attrs:{placeholder:"请输入旧密码",type:"password","show-password":""},model:{value:e.userForm.oldPassword,callback:function(t){e.$set(e.userForm,"oldPassword",t)},expression:"userForm.oldPassword"}})],1),a("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[a("el-input",{attrs:{placeholder:"请输入新密码",type:"password","show-password":""},model:{value:e.userForm.newPassword,callback:function(t){e.$set(e.userForm,"newPassword",t)},expression:"userForm.newPassword"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[a("el-input",{attrs:{placeholder:"请确认新密码",type:"password","show-password":""},model:{value:e.userForm.confirmPassword,callback:function(t){e.$set(e.userForm,"confirmPassword",t)},expression:"userForm.confirmPassword"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.close}},[e._v("关闭")])],1)],1)},s=[]},"404e":function(e,t,a){},"40aa":function(e,t,a){"use strict";a.r(t);var n=a("8d3b"),s=a("8ea2");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},"40cb":function(e,t,a){},"40e6":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("caad"),a("a9e3");var s=n(a("9339"));a("a753"),a("8096"),a("14e1");var i=a("5f87");t.default={name:"Editor",props:{value:{type:String,default:""},height:{type:Number,default:null},minHeight:{type:Number,default:null},readOnly:{type:Boolean,default:!1},fileSize:{type:Number,default:5},type:{type:String,default:"url"}},data:function(){return{uploadUrl:"/api/common/upload",headers:{Authorization:"Bearer "+(0,i.getToken)()},Quill:null,currentValue:"",options:{theme:"snow",bounds:document.body,debug:"warn",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["clean"],["link","image","video"]]},placeholder:"请输入内容",readOnly:this.readOnly}}},computed:{styles:function(){var e={};return this.minHeight&&(e.minHeight="".concat(this.minHeight,"px")),this.height&&(e.height="".concat(this.height,"px")),e}},watch:{value:{handler:function(e){e!==this.currentValue&&(this.currentValue=null===e?"":e,this.Quill&&this.Quill.pasteHTML(this.currentValue))},immediate:!0}},mounted:function(){this.init()},beforeDestroy:function(){this.Quill=null},methods:{init:function(){var e=this,t=this.$refs.editor;if(this.Quill=new s.default(t,this.options),"url"==this.type){var a=this.Quill.getModule("toolbar");a.addHandler("image",(function(t){t?e.$refs.upload.$children[0].$refs.input.click():e.quill.format("image",!1)}))}this.Quill.pasteHTML(this.currentValue),this.Quill.on("text-change",(function(t,a,n){var s=e.$refs.editor.children[0].innerHTML,i=e.Quill.getText(),r=e.Quill;e.currentValue=s,e.$emit("input",s),e.$emit("on-change",{html:s,text:i,quill:r})})),this.Quill.on("text-change",(function(t,a,n){e.$emit("on-text-change",t,a,n)})),this.Quill.on("selection-change",(function(t,a,n){e.$emit("on-selection-change",t,a,n)})),this.Quill.on("editor-change",(function(t){for(var a=arguments.length,n=new Array(a>1?a-1:0),s=1;s<a;s++)n[s-1]=arguments[s];e.$emit.apply(e,["on-editor-change",t].concat(n))}))},handleBeforeUpload:function(e){var t=["image/jpeg","image/jpg","image/png","image/svg"],a=t.includes(e.type);if(!a)return this.$message.error("图片格式错误!"),!1;if(this.fileSize){var n=e.size/1024/1024<this.fileSize;if(!n)return this.$message.error("上传文件大小不能超过 ".concat(this.fileSize," MB!")),!1}return!0},handleUploadSuccess:function(e,t){if(200==e.code){var a=this.Quill,n=a.getSelection().index;a.insertEmbed(n,"image","/api"+e.fileName),a.setSelection(n+1)}else this.$message.error("图片插入失败")},handleUploadError:function(){this.$message.error("图片插入失败")}}}},"413c":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("ded3")),i=n(a("7403")),r=a("cd4a"),o=n(a("72c5")),l=a("2f62"),c=n(a("8df1"));t.default={name:"Layout",components:{AppMain:r.AppMain,Navbar:r.Navbar,RightPanel:i.default,Settings:r.Settings,Sidebar:r.Sidebar,TagsView:r.TagsView},mixins:[o.default],computed:(0,s.default)((0,s.default)({},(0,l.mapState)({theme:function(e){return e.settings.theme},sideTheme:function(e){return e.settings.sideTheme},sidebar:function(e){return e.app.sidebar},device:function(e){return e.app.device},needTagsView:function(e){return e.settings.tagsView},fixedHeader:function(e){return e.settings.fixedHeader}})),{},{classObj:function(){return{hideSidebar:!this.sidebar.opened,openSidebar:this.sidebar.opened,withoutAnimation:this.sidebar.withoutAnimation,mobile:"mobile"===this.device}},variables:function(){return c.default}}),methods:{handleClickOutside:function(){this.$store.dispatch("app/closeSideBar",{withoutAnimation:!1})}}}},"42d8":function(e,t,a){"use strict";a.r(t);var n=a("8533"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},4360:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("2b0e")),i=n(a("2f62")),r=n(a("d9cd")),o=n(a("29e7")),l=n(a("0f9a")),c=n(a("7509")),u=n(a("31c2")),d=n(a("0781")),f=n(a("94d5")),p=n(a("bb4a"));s.default.use(i.default);var m=new i.default.Store({modules:{app:r.default,dict:o.default,user:l.default,tagsView:c.default,permission:u.default,settings:d.default,assignment:p.default},getters:f.default});t.default=m},"43b0":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("4de4"),a("14d9"),a("b0c0"),a("d3b7"),a("0643"),a("2382");var s=n(a("6374")),i=n(a("7ec2")),r=n(a("c973")),o=n(a("ded3")),l=a("f190"),c=a("2f62"),u=a("c0c7");t.default={name:"ClassManagement",data:function(){return{newClass:{className:"",classIntroduction:"",classTarget:"",term:"",startTime:null,deadline:null},classes:[],dialogVisible:!1,members:[],currentClassId:null,filters:{stuIndex:"",name:"",mail:""},applicationsByClass:{}}},computed:(0,o.default)({},(0,c.mapGetters)(["userId","name"])),created:function(){this.userId?(this.fetchClasses(),this.fetchApplications()):this.$message.error("无法获取教师ID，请重新登录！")},methods:{fetchClasses:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,l.getClasses)(e.userId);case 3:a=t.sent,1===a.code?e.classes=a.data.rows:e.$message.error("获取班级信息失败："+a.msg),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$message.error("获取班级信息失败："+t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},createClass:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a,n;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=(0,o.default)((0,o.default)({},e.newClass),{},{teacherId:e.userId,teacherName:e.name}),t.next=4,(0,l.createClass)(a);case 4:n=t.sent,1===n.code?(e.$message.success("班级创建成功！"),e.fetchClasses(),e.resetForm()):e.$message.error("班级创建失败："+n.msg),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$message.error("班级创建失败："+t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},resetForm:function(){this.newClass={className:"",classIntroduction:"",classTarget:"",term:"",startTime:null,deadline:null}},deleteClass:function(e){var t=this;return(0,r.default)((0,i.default)().mark((function a(){var n;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,l.deleteClass)(e);case 3:n=a.sent,1===n.code?(t.$message.success("班级删除成功！"),t.fetchClasses()):t.$message.error("班级删除失败："+n.msg),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),t.$message.error("班级删除失败："+a.t0.message);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},formatDate:function(e){return new Date(e).toLocaleString()},viewMembers:function(e){var t=this;return(0,r.default)((0,i.default)().mark((function a(){return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.currentClassId=e,t.dialogVisible=!0,a.next=4,t.fetchMembers();case 4:case"end":return a.stop()}}),a)})))()},fetchMembers:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,l.getClassMembers)((0,o.default)({classId:e.currentClassId},e.filters));case 3:a=t.sent,1===a.code?e.members=a.data.rows:e.$message.error("获取学生信息失败："+a.msg),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$message.error("获取学生信息失败："+t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},resetFilters:function(){this.filters={stuIndex:"",name:"",mail:""},this.fetchMembers()},fetchApplications:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a,n,r,c,d,f;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,l.listApplications)({teacherId:e.userId});case 3:if(a=t.sent,1!==a.code){t.next=29;break}n={},r=(0,s.default)(a.data.rows),t.prev=7,r.s();case 9:if((c=r.n()).done){t.next=18;break}return d=c.value,n[d.classId]||(n[d.classId]=[]),t.next=14,(0,u.getUserProfile)(d.studentId);case 14:f=t.sent,1===f.code&&n[d.classId].push((0,o.default)((0,o.default)({},d),{},{studentInfo:f.data}));case 16:t.next=9;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](7),r.e(t.t0);case 23:return t.prev=23,r.f(),t.finish(23);case 26:e.applicationsByClass=n,t.next=30;break;case 29:e.$message.error("获取申请列表失败："+a.msg);case 30:t.next=35;break;case 32:t.prev=32,t.t1=t["catch"](0),e.$message.error("获取申请列表时出错："+t.t1.message);case 35:case"end":return t.stop()}}),t,null,[[0,32],[7,20,23,26]])})))()},unprocessedApplicationsCount:function(e){var t=this.applicationsByClass[e]||[];return t.filter((function(e){return"pending"===e.applicationStatus})).length},closeMembersDialog:function(){this.dialogVisible=!1,this.members=[]},viewApplications:function(e){this.$router.push({name:"classapplication",params:{classId:e}})}}}},"444a":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"basic"}},[a("basic-info-form",{ref:"basicInfo",attrs:{info:e.info}})],1),a("el-tab-pane",{attrs:{label:"字段信息",name:"columnInfo"}},[a("el-table",{ref:"dragTable",attrs:{data:e.columns,"row-key":"columnId","max-height":e.tableHeight}},[a("el-table-column",{attrs:{label:"序号",type:"index","min-width":"5%","class-name":"allowDrag"}}),a("el-table-column",{attrs:{label:"字段列名",prop:"columnName","min-width":"10%","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"字段描述","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.columnComment,callback:function(a){e.$set(t.row,"columnComment",a)},expression:"scope.row.columnComment"}})]}}])}),a("el-table-column",{attrs:{label:"物理类型",prop:"columnType","min-width":"10%","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"Java类型","min-width":"11%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.javaType,callback:function(a){e.$set(t.row,"javaType",a)},expression:"scope.row.javaType"}},[a("el-option",{attrs:{label:"Long",value:"Long"}}),a("el-option",{attrs:{label:"String",value:"String"}}),a("el-option",{attrs:{label:"Integer",value:"Integer"}}),a("el-option",{attrs:{label:"Double",value:"Double"}}),a("el-option",{attrs:{label:"BigDecimal",value:"BigDecimal"}}),a("el-option",{attrs:{label:"Date",value:"Date"}}),a("el-option",{attrs:{label:"Boolean",value:"Boolean"}})],1)]}}])}),a("el-table-column",{attrs:{label:"java属性","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.javaField,callback:function(a){e.$set(t.row,"javaField",a)},expression:"scope.row.javaField"}})]}}])}),a("el-table-column",{attrs:{label:"插入","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.row.isInsert,callback:function(a){e.$set(t.row,"isInsert",a)},expression:"scope.row.isInsert"}})]}}])}),a("el-table-column",{attrs:{label:"编辑","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.row.isEdit,callback:function(a){e.$set(t.row,"isEdit",a)},expression:"scope.row.isEdit"}})]}}])}),a("el-table-column",{attrs:{label:"列表","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.row.isList,callback:function(a){e.$set(t.row,"isList",a)},expression:"scope.row.isList"}})]}}])}),a("el-table-column",{attrs:{label:"查询","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.row.isQuery,callback:function(a){e.$set(t.row,"isQuery",a)},expression:"scope.row.isQuery"}})]}}])}),a("el-table-column",{attrs:{label:"查询方式","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.queryType,callback:function(a){e.$set(t.row,"queryType",a)},expression:"scope.row.queryType"}},[a("el-option",{attrs:{label:"=",value:"EQ"}}),a("el-option",{attrs:{label:"!=",value:"NE"}}),a("el-option",{attrs:{label:">",value:"GT"}}),a("el-option",{attrs:{label:">=",value:"GTE"}}),a("el-option",{attrs:{label:"<",value:"LT"}}),a("el-option",{attrs:{label:"<=",value:"LTE"}}),a("el-option",{attrs:{label:"LIKE",value:"LIKE"}}),a("el-option",{attrs:{label:"BETWEEN",value:"BETWEEN"}})],1)]}}])}),a("el-table-column",{attrs:{label:"必填","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.row.isRequired,callback:function(a){e.$set(t.row,"isRequired",a)},expression:"scope.row.isRequired"}})]}}])}),a("el-table-column",{attrs:{label:"显示类型","min-width":"12%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.htmlType,callback:function(a){e.$set(t.row,"htmlType",a)},expression:"scope.row.htmlType"}},[a("el-option",{attrs:{label:"文本框",value:"input"}}),a("el-option",{attrs:{label:"文本域",value:"textarea"}}),a("el-option",{attrs:{label:"下拉框",value:"select"}}),a("el-option",{attrs:{label:"单选框",value:"radio"}}),a("el-option",{attrs:{label:"复选框",value:"checkbox"}}),a("el-option",{attrs:{label:"日期控件",value:"datetime"}}),a("el-option",{attrs:{label:"图片上传",value:"imageUpload"}}),a("el-option",{attrs:{label:"文件上传",value:"fileUpload"}}),a("el-option",{attrs:{label:"富文本控件",value:"editor"}})],1)]}}])}),a("el-table-column",{attrs:{label:"字典类型","min-width":"12%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.row.dictType,callback:function(a){e.$set(t.row,"dictType",a)},expression:"scope.row.dictType"}},e._l(e.dictOptions,(function(t){return a("el-option",{key:t.dictType,attrs:{label:t.dictName,value:t.dictType}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.dictName))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.dictType))])])})),1)]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"生成信息",name:"genInfo"}},[a("gen-info-form",{ref:"genInfo",attrs:{info:e.info,tables:e.tables,menus:e.menus}})],1)],1),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{staticStyle:{"text-align":"center","margin-left":"-100px","margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.close()}}},[e._v("返回")])],1)],1)],1)},s=[]},"44bf":function(e,t,a){"use strict";a("3f38")},4576:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-form",use:"icon-form-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-form"><path d="M84.068 23.784c-1.02 0-1.877-.32-2.572-.96a8.588 8.588 0 0 1-1.738-2.237 11.524 11.524 0 0 1-1.042-2.621c-.232-.895-.348-1.641-.348-2.238V0h.278c.834 0 1.622.085 2.363.256.742.17 1.645.575 2.711 1.214 1.066.64 2.363 1.535 3.892 2.686 1.53 1.15 3.453 2.664 5.77 4.54 2.502 2.045 4.494 3.771 5.977 5.178 1.483 1.406 2.618 2.6 3.406 3.58.787.98 1.274 1.812 1.46 2.494.185.682.277 1.278.277 1.79v2.046H84.068zM127.3 84.01c.278.682.464 1.535.556 2.558.093 1.023-.37 2.003-1.39 2.94-.463.427-.88.832-1.25 1.215-.372.384-.696.704-.974.96a6.69 6.69 0 0 1-.973.767l-11.816-10.741a44.331 44.331 0 0 0 1.877-1.535 31.028 31.028 0 0 1 1.737-1.406c1.112-.938 2.317-1.343 3.615-1.215 1.297.128 2.363.405 3.197.83.927.427 1.923 1.173 2.989 2.239 1.065 1.065 1.876 2.195 2.432 3.388zM78.23 95.902c2.038 0 3.752-.511 5.143-1.534l-26.969 25.83H18.037c-1.761 0-3.684-.47-5.77-1.407a24.549 24.549 0 0 1-5.838-3.709 21.373 21.373 0 0 1-4.518-5.306c-1.204-2.003-1.807-4.07-1.807-6.202V16.495c0-1.79.44-3.665 1.32-5.626A18.41 18.41 0 0 1 5.04 5.562a21.798 21.798 0 0 1 5.213-3.964C12.198.533 14.237 0 16.37 0h53.24v15.984c0 1.62.278 3.367.834 5.242a16.704 16.704 0 0 0 2.572 5.179c1.159 1.577 2.665 2.898 4.518 3.964 1.853 1.066 4.078 1.598 6.673 1.598h20.295v42.325L85.458 92.45c1.02-1.364 1.529-2.856 1.529-4.476 0-2.216-.857-4.113-2.572-5.69-1.714-1.577-3.776-2.366-6.186-2.366H26.1c-2.409 0-4.448.789-6.116 2.366-1.668 1.577-2.502 3.474-2.502 5.69 0 2.217.834 4.092 2.502 5.626 1.668 1.535 3.707 2.302 6.117 2.302h52.13zM26.1 47.951c-2.41 0-4.449.789-6.117 2.366-1.668 1.577-2.502 3.473-2.502 5.69 0 2.216.834 4.092 2.502 5.626 1.668 1.534 3.707 2.302 6.117 2.302h52.13c2.409 0 4.47-.768 6.185-2.302 1.715-1.534 2.572-3.41 2.572-5.626 0-2.217-.857-4.113-2.572-5.69-1.714-1.577-3.776-2.366-6.186-2.366H26.1zm52.407 64.063l1.807-1.663 3.476-3.196a479.75 479.75 0 0 0 4.587-4.284 500.757 500.757 0 0 1 5.004-4.667c3.985-3.666 8.48-7.758 13.485-12.276l11.677 10.741-13.485 12.404-5.004 4.603-4.587 4.22a179.46 179.46 0 0 0-3.267 3.068c-.88.853-1.367 1.322-1.46 1.407-.463.341-.973.703-1.529 1.087-.556.383-1.112.703-1.668.959-.556.256-1.413.575-2.572.959a83.5 83.5 0 0 1-3.545 1.087 72.2 72.2 0 0 1-3.475.895c-1.112.256-1.946.426-2.502.511-1.112.17-1.854.043-2.224-.383-.371-.426-.464-1.151-.278-2.174.092-.511.278-1.279.556-2.302.278-1.023.602-2.067.973-3.132l1.042-3.005c.325-.938.58-1.577.765-1.918a10.157 10.157 0 0 1 2.224-2.941z" /></symbol>'});r.a.add(o);t["default"]=o},"465f":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0}},[a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入手机号码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phonenumber,callback:function(t){e.$set(e.queryParams,"phonenumber",t)},expression:"queryParams.phonenumber"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:add"],expression:"['system:role:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.openSelectUser}},[e._v("添加用户")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-circle-close",size:"mini",disabled:e.multiple},on:{click:e.cancelAuthUserAll}},[e._v("批量取消授权")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-close",size:"mini"},on:{click:e.handleClose}},[e._v("关闭")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"用户名称",prop:"userName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"用户昵称",prop:"nickName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"邮箱",prop:"email","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"手机",prop:"phonenumber","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_normal_disable,value:t.row.status}})]}}])}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-circle-close"},on:{click:function(a){return e.cancelAuthUser(t.row)}}},[e._v("取消授权")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("select-user",{ref:"select",attrs:{roleId:e.queryParams.roleId},on:{ok:e.handleQuery}})],1)},s=[]},"46a8":function(e,t,a){"use strict";a("e7d6")},"46c2":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d9e2"),a("99af"),a("4de4"),a("7db0"),a("d81d"),a("14d9"),a("a434"),a("aff5"),a("d3b7"),a("3ca3"),a("0643"),a("2382"),a("fffc"),a("4e3e"),a("a573"),a("159b"),a("ddb0");var s=n(a("448a")),i=n(a("970b")),r=n(a("5bc3")),o=n(a("2b0e")),l=a("c38a"),c=n(a("574a")),u=n(a("aab3")),d={types:[]};t.default=function(){function e(){(0,i.default)(this,e),this.owner=null,this.label={},this.type={}}return(0,r.default)(e,[{key:"init",value:function(e){var t=this;e instanceof Array&&(e={types:e});var a=(0,l.mergeRecursive)(d,e);if(void 0===a.types)throw new Error("need dict types");var n=[];return this._dictMetas=a.types.map((function(e){return c.default.parse(e)})),this._dictMetas.forEach((function(e){var a=e.type;o.default.set(t.label,a,{}),o.default.set(t.type,a,[]),e.lazy||n.push(f(t,e))})),Promise.all(n)}},{key:"reloadDict",value:function(e){var t=this._dictMetas.find((function(t){return t.type===e}));return void 0===t?Promise.reject("the dict meta of ".concat(e," was not found")):f(this,t)}}])}();function f(e,t){return t.request(t).then((function(a){var n,i=t.type,r=t.responseConverter(a,t);return r instanceof Array?r.filter((function(e){return e instanceof u.default})).length!==r.length&&(console.error("the type of elements in dicts must be DictData"),r=[]):(console.error("the return of responseConverter must be Array.<DictData>"),r=[]),(n=e.type[i]).splice.apply(n,[0,Number.MAX_SAFE_INTEGER].concat((0,s.default)(r))),r.forEach((function(t){o.default.set(e.label[i],t.value,t.label)})),r}))}},"46e9":function(e,t,a){"use strict";a.r(t);var n=a("31ba"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},47382:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-server",use:"icon-server-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-server"><defs><style type="text/css"></style></defs><path d="M890 120H134a70 70 0 0 0-70 70v500a70 70 0 0 0 70 70h756a70 70 0 0 0 70-70V190a70 70 0 0 0-70-70z m-10 520a40 40 0 0 1-40 40H712V448a40 40 0 0 0-80 0v232h-80V368a40 40 0 0 0-80 0v312h-80V512a40 40 0 0 0-80 0v168H184a40 40 0 0 1-40-40V240a40 40 0 0 1 40-40h656a40 40 0 0 1 40 40zM696 824H328a40 40 0 0 0 0 80h368a40 40 0 0 0 0-80z" p-id="6718" /></symbol>'});r.a.add(o);t["default"]=o},"478e":function(e,t,a){"use strict";a("7582")},"47a2":function(e,t,a){"use strict";a("1269")},"47b3":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("caad"),a("14d9"),a("fb6a"),a("b0c0"),a("d3b7"),a("ac1f"),a("5319"),a("0643"),a("4e3e"),a("159b");var s=n(a("4360")),i=n(a("a18c"));t.default={refreshPage:function(e){var t=i.default.currentRoute,a=t.path,n=t.query,r=t.matched;return void 0===e&&r.forEach((function(t){t.components&&t.components.default&&t.components.default.name&&(["Layout","ParentView"].includes(t.components.default.name)||(e={name:t.components.default.name,path:a,query:n}))})),s.default.dispatch("tagsView/delCachedView",e).then((function(){var t=e,a=t.path,n=t.query;i.default.replace({path:"/redirect"+a,query:n})}))},closeOpenPage:function(e){if(s.default.dispatch("tagsView/delView",i.default.currentRoute),void 0!==e)return i.default.push(e)},closePage:function(e){return void 0===e?s.default.dispatch("tagsView/delView",i.default.currentRoute).then((function(e){var t=e.visitedViews,a=t.slice(-1)[0];return a?i.default.push(a.fullPath):i.default.push("/")})):s.default.dispatch("tagsView/delView",e)},closeAllPage:function(){return s.default.dispatch("tagsView/delAllViews")},closeLeftPage:function(e){return s.default.dispatch("tagsView/delLeftTags",e||i.default.currentRoute)},closeRightPage:function(e){return s.default.dispatch("tagsView/delRightTags",e||i.default.currentRoute)},closeOtherPage:function(e){return s.default.dispatch("tagsView/delOthersViews",e||i.default.currentRoute)},openPage:function(e,t,a){var n={path:t,meta:{title:e}};return s.default.dispatch("tagsView/addView",n),i.default.push({path:t,query:a})},updatePage:function(e){return s.default.dispatch("tagsView/updateVisitedView",e)}}},"47ca":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("4de4"),a("caad"),a("14d9"),a("13d5"),a("b64b"),a("d3b7"),a("2532"),a("0643"),a("2382"),a("4e3e"),a("9d4a"),a("159b");var s=n(a("7ec2")),i=n(a("c973")),r=n(a("ded3")),o=a("f140"),l=a("2f62");t.default={data:function(){return{classes:[],filteredClasses:{},filters:{teacherName:"",className:""},membersDialogVisible:!1,selectedClassId:null,members:[],applicationStatus:{}}},created:function(){this.fetchClasses(),this.fetchApplicationStatus()},computed:(0,r.default)({},(0,l.mapGetters)(["userId"])),methods:{fetchClasses:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){var a,n;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,o.getAllClasses)({page:1,pageSize:100});case 2:a=t.sent,1===a.code&&(n=a.data.rows,e.classes=n.reduce((function(e,t){var a=t.teacherName;return e[a]||(e[a]=[]),e[a].push(t),e}),{}),e.filteredClasses=e.classes);case 4:case"end":return t.stop()}}),t)})))()},formatDate:function(e){return new Date(e).toLocaleString()},viewMembers:function(e){var t=this;return(0,i.default)((0,s.default)().mark((function a(){var n;return(0,s.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.selectedClassId=e,t.membersDialogVisible=!0,a.prev=2,a.next=5,(0,o.getClassMembers)({classId:t.selectedClassId,stuIndex:"",name:"",mail:""});case 5:n=a.sent,1===n.code?t.members=n.data.rows:t.$message.error("获取成员信息失败："+n.msg),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](2),t.$message.error("获取成员信息失败："+a.t0.message);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})))()},applyClass:function(e,t){var a=this;return(0,i.default)((0,s.default)().mark((function n(){var i,r;return(0,s.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,i=new FormData,i.append("teacherId",t),i.append("studentId",a.userId),i.append("classId",e),n.next=7,(0,o.applyClass)(i);case 7:r=n.sent,1===r.code?(a.$message.success("申请已发送！"),a.applicationStatus[e]="pending"):a.$message.error("申请发送失败："+r.msg),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](0),a.$message.error("申请发送失败："+n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))()},filterClasses:function(){var e=this,t=this.filters,a=t.teacherName,n=t.className;this.filteredClasses=Object.keys(this.classes).reduce((function(t,s){return s.toLowerCase().includes(a.toLowerCase())&&(t[s]=e.classes[s].filter((function(e){return e.className.toLowerCase().includes(n.toLowerCase())}))),t}),{})},fetchApplicationStatus:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){var a;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,o.searchApplicationStatus)({stuId:e.userId});case 3:a=t.sent,1===a.code&&a.data.forEach((function(t){"pending"!==t.applicationStatus&&"approved"!==t.applicationStatus||(e.applicationStatus[t.classId]=t.applicationStatus)})),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$message.error("获取申请状态失败："+t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getButtonType:function(e){var t=this.applicationStatus[e];return"approved"===t?"default":"pending"===t?"info":"success"},getButtonText:function(e){var t=this.applicationStatus[e];return"approved"===t?"已加入班级":"pending"===t?"已申请等待加入":"加入班级"},isButtonDisabled:function(e){var t=this.applicationStatus[e];return"approved"===t||"pending"===t}}}},"47fc":function(e,t,a){"use strict";a.r(t);var n=a("1389"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"482c":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-post",use:"icon-post-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-post"><defs><style type="text/css"></style></defs><path d="M136.4 434.3h77.7c21.5 0 38.9-17.4 38.9-38.9s-17.4-38.9-38.9-38.9h-77.7c-21.5 0-38.9 17.4-38.9 38.9s17.4 38.9 38.9 38.9zM252.9 628.6c0-21.5-17.4-38.9-38.9-38.9h-77.7c-21.5 0-38.9 17.4-38.9 38.9s17.4 38.9 38.9 38.9H214c21.5-0.1 38.9-17.5 38.9-38.9z" p-id="3999" /><path d="M874.7 97.5H227c-28.6 0-51.8 23.2-51.8 51.8v194.3h38.9c28.6 0 51.8 23.2 51.8 51.8 0 28.6-23.2 51.8-51.8 51.8h-38.9v129.5h38.9c28.6 0 51.8 23.2 51.8 51.8 0 28.6-23.2 51.8-51.8 51.8h-38.9v194.3c0 28.6 23.2 51.8 51.8 51.8h647.7c28.6 0 51.8-23.2 51.8-51.8V149.3c0-28.6-23.2-51.8-51.8-51.8z m-311.3 723c-15.6 0-146.7-71.6-146.7-91 0-19.4 102-368.6 102-368.6l-83.6-104s-12.3-23.1 24.6-23.1h208.9c36.9 0 18.4 23.1 18.4 23.1l-79 104s102 351.3 102 368.6c0.1 17.3-131 91-146.6 91z m169.2-253.6l-27.9 40.2-74.5-240 103.4 171.7c4.6 7.9 4.2 20.6-1 28.1z" p-id="4000" /></symbol>'});r.a.add(o);t["default"]=o},"486e":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("4a02")),i=n(a("36db"));t.default={name:"SplitScreen",components:{DocumentEditor:s.default,Chat:i.default}}},4955:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-money",use:"icon-money-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-money"><path d="M54.122 127.892v-28.68H7.513V87.274h46.609v-12.4H7.513v-12.86h38.003L.099 0h22.6l32.556 45.07c3.617 5.144 6.44 9.611 8.487 13.385 1.788-3.05 4.89-7.779 9.301-14.186L103.93 0h24.01L82.385 62.013h38.34v12.862h-46.41v12.4h46.41v11.937h-46.41v28.68H54.123z" /></symbol>'});r.a.add(o);t["default"]=o},"49be":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-404",use:"icon-404-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-404"><path d="M121.718 73.272v9.953c3.957-7.584 6.199-16.05 6.199-24.995C127.917 26.079 99.273 0 63.958 0 28.644 0 0 26.079 0 58.23c0 .403.028.806.028 1.21l22.97-25.953h13.34l-19.76 27.187h6.42V53.77l13.728-19.477v49.361H22.998V73.272H2.158c5.951 20.284 23.608 36.208 45.998 41.399-1.44 3.3-5.618 11.263-12.565 12.674-8.607 1.764 23.358.428 46.163-13.178 17.519-4.611 31.938-15.849 39.77-30.513h-13.506V73.272H85.02V59.464l22.998-25.977h13.008l-19.429 27.187h6.421v-7.433l13.727-19.402v39.433h-.027zm-78.24 2.822a10.516 10.516 0 0 1-.996-4.535V44.548c0-1.613.332-3.124.996-4.535a11.66 11.66 0 0 1 2.713-3.68c1.134-1.032 2.49-1.864 4.04-2.468 1.55-.605 3.21-.908 4.982-.908h11.292c1.77 0 3.431.303 4.981.908 1.522.604 2.85 1.41 3.986 2.418l-12.26 16.303v-2.898a1.96 1.96 0 0 0-.665-1.512c-.443-.403-.996-.604-1.66-.604-.665 0-1.218.201-1.661.604a1.96 1.96 0 0 0-.664 1.512v9.071L44.364 77.606a10.556 10.556 0 0 1-.886-1.512zm35.73-4.535c0 1.613-.332 3.124-.997 4.535a11.66 11.66 0 0 1-2.712 3.68c-1.134 1.032-2.49 1.864-4.04 2.469-1.55.604-3.21.907-4.982.907H55.185c-1.77 0-3.431-.303-4.981-.907-1.55-.605-2.906-1.437-4.041-2.47a12.49 12.49 0 0 1-1.384-1.512l13.727-18.217v6.375c0 .605.222 1.109.665 1.512.442.403.996.604 1.66.604.664 0 1.218-.201 1.66-.604a1.96 1.96 0 0 0 .665-1.512V53.87L75.97 36.838c.913.932 1.66 1.99 2.214 3.175.664 1.41.996 2.922.996 4.535v27.011h.028z" /></symbol>'});r.a.add(o);t["default"]=o},"49f4":function(e,t,a){e.exports={theme:"#1890ff"}},"4a02":function(e,t,a){"use strict";a.r(t);var n=a("d4e3"),s=a("d8d8");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("d4ce");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"3dc39288",null);t["default"]=o.exports},"4b0e":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("c19f"),a("ace4"),a("2c66"),a("249d"),a("40e9"),a("d3b7"),a("5cc6"),a("907a"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("986a"),a("1d02"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("6ce5"),a("2834"),a("72f7"),a("4ea1");t.default={name:"AudioVisualizer",props:{audioSrc:{type:String,required:!0}},data:function(){return{audioContext:null,analyser:null,dataArray:null,animation:null,canvasCtx:null,barWidth:2,barGap:1,playing:!1}},mounted:function(){this.initCanvas()},beforeDestroy:function(){this.stopVisualization(),this.audioContext&&this.audioContext.close()},methods:{initCanvas:function(){var e=this.$refs.canvas;this.canvasCtx=e.getContext("2d"),e.width=e.offsetWidth,e.height=e.offsetHeight,this.drawStaticBars()},startVisualization:function(){if(!this.audioContext){this.audioContext=new(window.AudioContext||window.webkitAudioContext);var e=this.$refs.audioElement,t=this.audioContext.createMediaElementSource(e);this.analyser=this.audioContext.createAnalyser(),t.connect(this.analyser),this.analyser.connect(this.audioContext.destination),this.analyser.fftSize=256;var a=this.analyser.frequencyBinCount;this.dataArray=new Uint8Array(a)}this.playing=!0,this.draw()},stopVisualization:function(){this.playing=!1,this.animation&&(cancelAnimationFrame(this.animation),this.animation=null),this.drawStaticBars()},draw:function(){if(this.playing){var e=this.$refs.canvas,t=this.canvasCtx,a=e.width,n=e.height;this.animation=requestAnimationFrame(this.draw),this.analyser.getByteFrequencyData(this.dataArray),t.fillStyle="#f5f7fa",t.fillRect(0,0,a,n);for(var s=Math.floor(a/(this.barWidth+this.barGap)),i=Math.floor(this.dataArray.length/s),r=0;r<s;r++){var o=this.dataArray[r*i],l=o/255*n,c=t.createLinearGradient(0,n,0,n-l);c.addColorStop(0,"#409EFF"),c.addColorStop(1,"#53a8ff"),t.fillStyle=c,t.fillRect(r*(this.barWidth+this.barGap),n-l,this.barWidth,l)}}},drawStaticBars:function(){var e=this.$refs.canvas,t=this.canvasCtx,a=e.width,n=e.height;t.fillStyle="#f5f7fa",t.fillRect(0,0,a,n);for(var s=Math.floor(a/(this.barWidth+this.barGap)),i=0;i<s;i++){var r=Math.random()*n*.3+.1*n;t.fillStyle="#e4e7ed",t.fillRect(i*(this.barWidth+this.barGap),n-r,this.barWidth,r)}}}}},"4b38":function(e,t,a){},"4b61":function(e,t,a){"use strict";a.r(t);var n=a("c5b4"),s=a("f22b");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("9936");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"7078f906",null);t["default"]=o.exports},"4b72":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.createTable=u,t.delTable=f,t.genCode=p,t.getGenTable=o,t.importTable=c,t.listDbTable=r,t.listTable=i,t.previewTable=d,t.synchDb=m,t.updateGenTable=l;var s=n(a("b775"));function i(e){return(0,s.default)({url:"/tool/gen/list",method:"get",params:e})}function r(e){return(0,s.default)({url:"/tool/gen/db/list",method:"get",params:e})}function o(e){return(0,s.default)({url:"/tool/gen/"+e,method:"get"})}function l(e){return(0,s.default)({url:"/tool/gen",method:"put",data:e})}function c(e){return(0,s.default)({url:"/tool/gen/importTable",method:"post",params:e})}function u(e){return(0,s.default)({url:"/tool/gen/createTable",method:"post",params:e})}function d(e){return(0,s.default)({url:"/tool/gen/preview/"+e,method:"get"})}function f(e){return(0,s.default)({url:"/tool/gen/"+e,method:"delete"})}function p(e){return(0,s.default)({url:"/tool/gen/genCode/"+e,method:"get"})}function m(e){return(0,s.default)({url:"/tool/gen/synchDb/"+e,method:"get"})}},"4c1b":function(e,t,a){"use strict";a.r(t);var n=a("5250"),s=a("564d");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},"4c35":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("448a")),i=n(a("7ec2")),r=n(a("c973"));a("d9e2"),a("99af"),a("4de4"),a("c740"),a("caad"),a("d81d"),a("d3b7"),a("6062"),a("1e70"),a("79a4"),a("c1a1"),a("8b00"),a("a4e7"),a("1e5a"),a("72c3"),a("2532"),a("3ca3"),a("0643"),a("2382"),a("a573"),a("9a9a"),a("ddb0");var o=a("092f"),l=a("839b"),c=a("c0c7");t.default={name:"TeacherEvaluation",props:{taskId:{type:String,required:!0}},data:function(){return{form:{selectedTeachers:[]},teachers:[],assignedTeachers:[],searchQuery:"",loading:{teachers:!1,submit:!1,table:!1,single:null}}},computed:{filteredTeachers:function(){if(!this.searchQuery)return this.teachers;var e=this.searchQuery.toLowerCase();return this.teachers.filter((function(t){return t.nickName.toLowerCase().includes(e)||t.userName.toLowerCase().includes(e)}))}},created:function(){this.initialize()},methods:{initialize:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.fetchTeachers(),e.fetchAssignedTeachers(),e.fetchTaskInfo()]);case 2:case"end":return t.stop()}}),t)})))()},fetchTaskInfo:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a,n;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,l.getTaskInfoById)(e.taskId);case 3:a=t.sent,1===a.code&&a.data&&(e.totalAssignments=(null===(n=a.data.assignedStudents)||void 0===n?void 0:n.length)||0),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$message.error("获取任务信息失败："+t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},fetchTeachers:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading.teachers=!0,t.next=4,(0,o.getMembers)({});case 4:a=t.sent,e.teachers=a.data.rows.filter((function(e){return 1===e.roleId})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$message.error("获取教师列表失败："+t.t0.message);case 11:return t.prev=11,e.loading.teachers=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()},fetchAssignedTeachers:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a,n,r,o;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading.table=!0,t.next=4,(0,l.getTaskInfoById)(e.taskId);case 4:if(n=t.sent,1!==n.code||null===(a=n.data.reviewTeachers)||void 0===a||!a.length){t.next=13;break}return r=(0,s.default)(new Set(n.data.reviewTeachers)),t.next=9,Promise.all(r.map((function(e){return(0,c.getUserProfile)(e)})));case 9:o=t.sent,e.assignedTeachers=o.map((function(e){return e.data})).filter(Boolean).filter((function(e,t,a){return t===a.findIndex((function(t){return t.userId===e.userId}))})),t.next=14;break;case 13:e.assignedTeachers=[];case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),e.$message.error("获取已分配教师失败："+t.t0.message);case 19:return t.prev=19,e.loading.table=!1,t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[0,16,19,22]])})))()},isTeacherAssigned:function(e){return this.assignedTeachers.some((function(t){return t.userId===e}))},handleSelectionChange:function(e){this.form.selectedTeachers=e.map((function(e){return e.userId}))},handleSearch:function(){this.$refs.teacherTable.clearSelection(),this.form.selectedTeachers=[]},clearSelection:function(){this.$refs.teacherTable&&this.$refs.teacherTable.clearSelection(),this.form.selectedTeachers=[]},handleSingleAssign:function(e){var t=this;return(0,r.default)((0,i.default)().mark((function a(){var n;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.isTeacherAssigned(e.userId)){a.next=2;break}return a.abrupt("return");case 2:return a.prev=2,t.loading.single=e.userId,a.next=6,(0,l.setReviewTeachers)(t.taskId,[].concat((0,s.default)(t.assignedTeachers.map((function(e){return e.userId}))),[e.userId]));case 6:if(n=a.sent,1!==n.code){a.next=13;break}return t.$message.success("已成功分配教师 ".concat(e.nickName)),a.next=11,t.fetchAssignedTeachers();case 11:a.next=14;break;case 13:throw new Error(n.msg||"分配失败");case 14:a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](2),t.$message.error("分配失败："+a.t0.message);case 19:return a.prev=19,t.loading.single=null,a.finish(19);case 22:case"end":return a.stop()}}),a,null,[[2,16,19,22]])})))()},submitTeacherEvaluation:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.form.selectedTeachers&&0!==e.form.selectedTeachers.length){t.next=3;break}return e.$message.warning("请选择要分配的教师"),t.abrupt("return");case 3:return t.prev=3,e.loading.submit=!0,t.next=7,(0,l.setReviewTeachers)(e.taskId,e.form.selectedTeachers);case 7:if(a=t.sent,1!==a.code){t.next=15;break}return e.$message.success("教师分配成功！"),t.next=12,e.fetchAssignedTeachers();case 12:e.clearSelection(),t.next=16;break;case 15:throw new Error(a.msg||"分配失败");case 16:t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](3),e.$message.error("分配失败："+t.t0.message);case 21:return t.prev=21,e.loading.submit=!1,t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[3,18,21,24]])})))()}}}},"4d24":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-tree-table",use:"icon-tree-table-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-tree-table"><path d="M44.8 0h79.543C126.78 0 128 1.422 128 4.267v23.466c0 2.845-1.219 4.267-3.657 4.267H44.8c-2.438 0-3.657-1.422-3.657-4.267V4.267C41.143 1.422 42.362 0 44.8 0zm22.857 48h56.686c2.438 0 3.657 1.422 3.657 4.267v23.466c0 2.845-1.219 4.267-3.657 4.267H67.657C65.22 80 64 78.578 64 75.733V52.267C64 49.422 65.219 48 67.657 48zm0 48h56.686c2.438 0 3.657 1.422 3.657 4.267v23.466c0 2.845-1.219 4.267-3.657 4.267H67.657C65.22 128 64 126.578 64 123.733v-23.466C64 97.422 65.219 96 67.657 96zM50.286 68.267c2.02 0 3.657-1.91 3.657-4.267 0-2.356-1.638-4.267-3.657-4.267H17.37V32h6.4c2.02 0 3.658-1.91 3.658-4.267V4.267C27.429 1.91 25.79 0 23.77 0H3.657C1.637 0 0 1.91 0 4.267v23.466C0 30.09 1.637 32 3.657 32h6.4v80c0 2.356 1.638 4.267 3.657 4.267h36.572c2.02 0 3.657-1.91 3.657-4.267 0-2.356-1.638-4.267-3.657-4.267H17.37V68.267h32.915z" /></symbol>'});r.a.add(o);t["default"]=o},"4de5":function(e,t,a){},"4e59":function(e,t,a){"use strict";a.r(t);var n=a("114b"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"4e5a":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-star",use:"icon-star-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-star"><path d="M70.66 4.328l14.01 29.693c1.088 2.29 3.177 3.882 5.603 4.25l31.347 4.76c6.087.926 8.528 8.756 4.117 13.247L103.05 79.395c-1.75 1.78-2.544 4.352-2.132 6.867l5.352 32.641c1.043 6.337-5.33 11.182-10.778 8.19l-28.039-15.409a7.13 7.13 0 0 0-6.91 0l-28.039 15.41c-5.448 2.99-11.821-1.854-10.777-8.19l5.352-32.642c.415-2.515-.387-5.088-2.136-6.867L2.264 56.278C-2.146 51.787.286 43.957 6.38 43.031l31.343-4.76c2.419-.368 4.51-1.96 5.595-4.25L57.334 4.328c2.728-5.77 10.605-5.77 13.325 0z" /></symbol>'});r.a.add(o);t["default"]=o},"4f1e":function(e,t,a){"use strict";a.r(t);var n=a("a955"),s=a("b31c");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("8dd0");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"49e15297",null);t["default"]=o.exports},"4f7b":function(e,t,a){"use strict";a.r(t);var n=a("244f"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},5:function(e,t){},5146:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navbar"},[a("hamburger",{staticClass:"hamburger-container",attrs:{id:"hamburger-container","is-active":e.sidebar.opened},on:{toggleClick:e.toggleSideBar}}),e.topNav?e._e():a("breadcrumb",{staticClass:"breadcrumb-container",attrs:{id:"breadcrumb-container"}}),e.topNav?a("top-nav",{staticClass:"topmenu-container",attrs:{id:"topmenu-container"}}):e._e(),a("div",{staticClass:"right-menu"},["mobile"!==e.device?void 0:e._e(),a("el-dropdown",{staticClass:"avatar-container right-menu-item hover-effect",attrs:{trigger:"click"}},[a("div",{staticClass:"avatar-wrapper"},[a("img",{staticClass:"user-avatar",attrs:{src:e.avatar}}),a("i",{staticClass:"el-icon-caret-bottom"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("router-link",{attrs:{to:"/user/profile"}},[a("el-dropdown-item",[e._v("个人中心")])],1),a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){return e.logout(t)}}},[a("span",[e._v("退出登录")])])],1)],1)],2)],1)},s=[]},"524c":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("9429")),i=n(a("1e8b")),r=n(a("ee46")),o=a("c0c7");t.default={name:"Profile",components:{userAvatar:s.default,userInfo:i.default,resetPwd:r.default},data:function(){return{user:{},roleGroup:{},postGroup:{},activeTab:"userinfo"}},computed:{userId:function(){return this.$store.getters.userId}},created:function(){this.getUser()},methods:{getUser:function(){var e=this,t=this.userId;(0,o.getUserProfile)(t).then((function(t){e.user=t.data}))}}}},5250:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6,xs:24}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("个人信息")])]),a("div",[a("div",{staticClass:"text-center"},[a("userAvatar")],1),a("ul",{staticClass:"list-group list-group-striped"},[a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"user"}}),e._v("用户名称 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.nickName))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"phone"}}),e._v("手机号码 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.mobile))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"email"}}),e._v("用户邮箱 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.userName))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"tree"}}),e._v("学号 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.studentId))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"peoples"}}),e._v("学校 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.school))])],1),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"date"}}),e._v("专业 "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.dept))])],1)])])])],1),a("el-col",{attrs:{span:18,xs:24}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("基本资料")])]),a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"基本资料",name:"userinfo"}},[a("userInfo",{attrs:{user:e.user}})],1),a("el-tab-pane",{attrs:{label:"修改密码",name:"resetPwd"}},[a("resetPwd",{attrs:{user:e.user}})],1)],1)],1)],1)],1)],1)},s=[]},"52b5":function(e,t,a){"use strict";a.r(t);var n=a("dc60"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"52be":function(e,t,a){},"532a":function(e,t,a){},"539b":function(e,t,a){"use strict";a.r(t);var n=a("40e6"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},5637:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14d9"),a("ac1f"),a("5319");t.default={name:"CasCallback",created:function(){var e=this,t=this.$route.query.ticket;console.log("CAS回调参数:",{ticket:t}),t?this.$store.dispatch("CasLogin",{ticket:t}).then((function(){return e.$store.dispatch("GetInfo")})).then((function(){e.$router.replace("/")})).catch((function(t){console.error("CAS认证失败:",t),e.$message.error("认证失败："+t),e.$router.push("/login")})):(console.error("未获取到ticket参数"),this.$message.error("未获取到认证信息"),this.$router.push("/login"))}}},"564d":function(e,t,a){"use strict";a.r(t);var n=a("524c"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"56d7":function(e,t,a){"use strict";var n=a("4ea4").default;a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=n(a("2b0e")),i=n(a("852e")),r=n(a("5c96"));a("49f4"),a("6861"),a("b34b");var o=n(a("3dfd")),l=n(a("4360")),c=n(a("a18c")),u=n(a("7f6c")),d=n(a("6912")),f=a("b775");a("088c"),a("223d");var p=a("aa3a"),m=a("c0c3"),v=a("c38a"),h=(n(a("8565")),n(a("333dc"))),g=n(a("c87f")),b=n(a("095c")),w=n(a("2a75")),y=n(a("0835")),C=n(a("9a2d")),x=n(a("bf84")),k=n(a("58ca")),_=n(a("c274"));s.default.prototype.getDicts=p.getDicts,s.default.prototype.getConfigKey=m.getConfigKey,s.default.prototype.parseTime=v.parseTime,s.default.prototype.resetForm=v.resetForm,s.default.prototype.addDateRange=v.addDateRange,s.default.prototype.selectDictLabel=v.selectDictLabel,s.default.prototype.selectDictLabels=v.selectDictLabels,s.default.prototype.download=f.download,s.default.prototype.handleTree=v.handleTree,s.default.component("DictTag",x.default),s.default.component("Pagination",h.default),s.default.component("RightToolbar",g.default),s.default.component("Editor",b.default),s.default.component("FileUpload",w.default),s.default.component("ImageUpload",y.default),s.default.component("ImagePreview",C.default),s.default.use(u.default),s.default.use(d.default),s.default.use(k.default),_.default.install(),s.default.use(r.default,{size:i.default.get("size")||"medium"}),s.default.config.productionTip=!1,s.default.prototype.$bus=new s.default,new s.default({el:"#app",router:c.default,store:l.default,render:function(e){return e(o.default)}})},"572a":function(e,t,a){"use strict";a.r(t);var n=a("7b3e"),s=a("09cd");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("e017e");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"03551458",null);t["default"]=o.exports},"574a":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("7037")),i=n(a("5bc3")),r=n(a("970b")),o=a("c38a"),l=n(a("39e3")),c=t.default=(0,i.default)((function e(t){(0,r.default)(this,e),this.type=t.type,this.request=t.request,this.responseConverter=t.responseConverter,this.labelField=t.labelField,this.valueField=t.valueField,this.lazy=!0===t.lazy}));c.parse=function(e){var t=null;return"string"===typeof e?(t=l.default.metas[e]||{},t.type=e):"object"===(0,s.default)(e)&&(t=e),t=(0,o.mergeRecursive)(l.default.metas["*"],t),new c(t)}},5758:function(e,t,a){"use strict";a.r(t);var n=a("f94a"),s=a("07b4");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("0c01");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"e046d628",null);t["default"]=o.exports},"575e":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-online",use:"icon-online-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-online"><defs><style type="text/css"></style></defs><path d="M356.246145 681.56286c-68.156286-41.949414-107.246583-103.84102-107.246583-169.805384 0-65.966411 39.090297-127.860063 107.246583-169.809477 12.046361-7.414877 15.800871-23.190165 8.385994-35.236526-7.413853-12.046361-23.191188-15.801894-35.236526-8.387018-39.640836 24.399713-72.539106 56.044434-95.137801 91.515297-23.86657 37.461193-36.481889 79.620385-36.481889 121.917724 0 42.297338 12.615319 84.454484 36.481889 121.914654 22.598694 35.469839 55.496965 67.11456 95.137801 91.51325 4.185322 2.576685 8.821923 3.804652 13.400195 3.804652 8.598842 0 16.998139-4.329609 21.836331-12.190647C372.047016 704.752002 368.291482 688.976714 356.246145 681.56286zM263.943926 754.580874c-92.603071-61.111846-145.713686-149.623739-145.713686-242.840794 0-93.195565 53.094242-181.682899 145.667637-242.774279 11.805884-7.79043 15.061021-23.677259 7.269567-35.483142-7.79043-11.805884-23.677259-15.062044-35.483142-7.269567C128.487861 296.954249 67.006602 401.024489 67.006602 511.74008c0 110.73708 61.496609 214.830857 168.721703 285.593504 4.343935 2.867304 9.240455 4.238534 14.08274 4.238534 8.317433 0 16.476253-4.046153 21.400403-11.507078C279.003923 778.258133 275.748786 762.372328 263.943926 754.580874zM788.660552 226.213092c-11.80486-7.791453-27.692712-4.536316-35.483142 7.269567-7.79043 11.805884-4.536316 27.692712 7.269567 35.483142 92.575442 61.092403 145.670707 149.579737 145.670707 242.774279 0 93.216032-53.111638 181.727924-145.715733 242.840794-11.805884 7.79043-15.059997 23.678282-7.269567 35.484166 4.925173 7.461949 13.081946 11.507078 21.400403 11.507078 4.841262 0 9.739828-1.37123 14.083763-4.238534 107.22714-70.761624 168.724773-174.857447 168.724773-285.593504C957.341323 401.025513 895.860063 296.955272 788.660552 226.213092zM790.090111 633.67213c23.865547-37.459147 36.480866-79.617315 36.480866-121.914654 0-42.298362-12.615319-84.45653-36.480866-121.917724-22.598694-35.470863-55.496965-67.115584-95.139847-91.515297-12.047384-7.413853-27.821649-3.659343-35.236526 8.387018-7.414877 12.045337-3.659343 27.821649 8.385994 35.236526 68.156286 41.949414 107.247606 103.842043 107.247606 169.809477 0 65.964364-39.090297 127.85597-107.247606 169.804361-12.045337 7.414877-15.800871 23.190165-8.385994 35.237549 4.838192 7.861038 13.236466 12.190647 21.835308 12.190647 4.579295 0 9.215896-1.227967 13.400195-3.804652C734.591099 700.786691 767.490394 669.142993 790.090111 633.67213zM567.129086 518.274914c24.12342-17.150612 39.887452-45.305859 39.887452-77.07133 0-52.128241-42.452881-94.538143-94.634334-94.538143-52.18043 0-94.633311 42.408879-94.633311 94.538143 0 31.695886 15.696494 59.797921 39.730886 76.958766-49.875944 21.128203-84.917018 70.234621-84.917018 127.301338 0 2.366907 0.061398 4.762467 0.182149 7.119141l1.249457 24.296359 276.373515 0 1.238201-24.308639c0.119727-2.358721 0.181125-4.750187 0.181125-7.106862C651.786185 588.497255 616.865861 539.465538 567.129086 518.274914zM512.381182 397.889079c23.937179 0 43.411719 19.430538 43.411719 43.314505 0 23.882943-19.47454 43.313481-43.411719 43.313481-23.936155 0-43.409672-19.430538-43.409672-43.313481C468.971509 417.320641 488.445026 397.889079 512.381182 397.889079zM426.08884 625.656573c9.119705-38.542828 44.254923-67.337641 86.085634-67.337641s76.966952 28.794813 86.085634 67.337641L426.08884 625.656573z" p-id="536" /></symbol>'});r.a.add(o);t["default"]=o},"57fa":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-eye",use:"icon-eye-usage",viewBox:"0 0 128 64",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 64" id="icon-eye"><path d="M127.072 7.994c1.37-2.208.914-5.152-.914-6.87-2.056-1.717-4.797-1.226-6.396.982-.229.245-25.586 32.382-55.74 32.382-29.24 0-55.74-32.382-55.968-32.627-1.6-1.963-4.57-2.208-6.397-.49C-.17 3.086-.399 6.275 1.2 8.238c.457.736 5.94 7.36 14.62 14.72L4.17 35.96c-1.828 1.963-1.6 5.152.228 6.87.457.98 1.6 1.471 2.742 1.471s2.284-.49 3.198-1.472l12.564-13.983c5.94 4.416 13.021 8.587 20.788 11.53l-4.797 17.418c-.685 2.699.686 5.397 3.198 6.133h1.37c2.057 0 3.884-1.472 4.341-3.68L52.6 42.83c3.655.736 7.538 1.227 11.422 1.227 3.883 0 7.767-.49 11.422-1.227l4.797 17.173c.457 2.208 2.513 3.68 4.34 3.68.457 0 .914 0 1.143-.246 2.513-.736 3.883-3.434 3.198-6.133l-4.797-17.172c7.767-2.944 14.848-7.114 20.788-11.53l12.336 13.738c.913.981 2.056 1.472 3.198 1.472s2.284-.49 3.198-1.472c1.828-1.963 1.828-4.906.228-6.87l-11.65-13.001c9.366-7.36 14.849-14.474 14.849-14.474z" /></symbol>'});r.a.add(o);t["default"]=o},5816:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("fb6a"),a("ac1f"),a("00b4"),a("466d"),a("5319");var s=a("953d");a("a753"),a("8096");var i=n(a("a8af"));t.default={name:"Editor",components:{quillEditor:s.quillEditor,AISidebar:i.default},props:{value:{type:String,default:""}},data:function(){return{content:this.value,currentSelection:null,preventBlurHandler:null,quillInstance:null,wordCount:0,charCount:0,maxWords:1500,editorOption:{placeholder:"请在这里撰写您的演讲稿内容...（Please write your speech here.）",theme:"snow",bounds:".editor-body",modules:{toolbar:[["bold","italic","underline","strike"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["clean"]]}}}},watch:{value:function(e){e!==this.content&&(this.content=e)}},methods:{onEditorChange:function(e,t){var a=e.html,n=e.text,s=n.match(/[\u4e00-\u9fa5]|[a-zA-Z]+/g)||[];if(s.length>this.maxWords){var i=this.getLimitedText(n,this.maxWords);return this.quillInstance.setText(i),void this.$message({message:"已超出".concat(this.maxWords,"字限制，仅显示前").concat(this.maxWords,"字"),type:"warning",duration:3e3})}this.$emit("input",a),t&&(this.quillInstance=t),this.updateWordCount(n)},onEditorFocus:function(){this.quillInstance&&(this.currentSelection=this.quillInstance.getSelection())},onEditorBlur:function(){},onSelectionChange:function(e){this.currentSelection=e},handleSelectionAction:function(e){if(this.quillInstance&&this.currentSelection){var t=this.quillInstance.getText(this.currentSelection.index,this.currentSelection.length);if(t){var a=e.prompt.replace("{text}",t);this.$emit("selection-action",{type:e.type,prompt:a,text:t})}}},handleFileUpload:function(e){var t=this,a=e.file,n=new FileReader;n.onload=function(e){e.target.result;t.$emit("file-upload",a),t.$nextTick((function(){var e=t.quillInstance.getText(),a=e.match(/[\u4e00-\u9fa5]|[a-zA-Z]+/g)||[];if(a.length>t.maxWords){t.$message({message:"文档超出".concat(t.maxWords,"字限制，仅显示前").concat(t.maxWords,"字"),type:"warning",duration:5e3});var n=t.getLimitedText(e,t.maxWords);t.quillInstance.setText(n)}}))},n.readAsText(a)},handleDownload:function(){this.$emit("download")},handleEvaluate:function(){this.$emit("evaluate",this.content)},handlePolish:function(){this.$emit("polish",this.content)},getContent:function(){return this.content},updateWordCount:function(e){var t=e.replace(/<[^>]*>/g,"");this.charCount=t.replace(/\s/g,"").length;var a=t.match(/[\u4e00-\u9fa5]|[a-zA-Z]+/g)||[];this.wordCount=a.length},getLimitedText:function(e,t){var a=e.match(/[\u4e00-\u9fa5]|[a-zA-Z]+/g)||[];if(a.length<=t)return e;for(var n=0,s=0,i=0;i<e.length&&n<t;i++){var r=e[i];if(/[\u4e00-\u9fa5]/.test(r))n++;else if(/[a-zA-Z]/.test(r)){var o=i;while(o<e.length&&/[a-zA-Z]/.test(e[o]))o++;o>i&&(n++,i=o-1)}s=i+1}return e.slice(0,s)}},mounted:function(){var e=this;this.$nextTick((function(){e.quillInstance=e.$refs.myQuillEditor.quill}))},beforeDestroy:function(){if(this.preventBlurHandler){var e=document.querySelector(".ai-sidebar");e&&e.removeEventListener("mousedown",this.preventBlurHandler)}}}},"58ad":function(e,t,a){"use strict";a.r(t);var n=a("997e"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"594d":function(e,t,a){"use strict";a.r(t);var n=a("bc70"),s=a("d3e5");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},"59c1":function(e,t,a){},"5a2f":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.getEvaluationByTaskIdAndStuId=r,t.getReviewTaskByStuId=o,t.getStuByIds=l,t.getSubmissionsByStuId=u,t.getTaskInfoById=i,t.showFile=d,t.submitEvaluation=c;var s=n(a("b775"));function i(e){return(0,s.default)({url:"/task/getTaskInfoById",method:"get",params:{taskId:e}})}function r(e,t){return(0,s.default)({url:"/task/getEvaluationByTaskIdAndStuId",method:"get",params:{taskId:e,stuId:t}})}function o(e){return(0,s.default)({url:"task/getReviewTaskByStuId",method:"get",params:{reviewerId:e}})}function l(e){return(0,s.default)({url:"/members/getStuByIds",method:"post",data:{page:e.page||1,pageSize:e.pageSize||10,stuIds:e.stuIds}})}function c(e){return(0,s.default)({url:"/task/setGrade",method:"post",data:e})}function u(e){return(0,s.default)({url:"/task/getSubmissionsByStuId",method:"get",params:{studentId:e}})}function d(e,t){return(0,s.default)({url:"/file/showFile",method:"get",params:{fileType:e,fileName:t},responseType:"blob",timeout:6e4})}},"5aa7":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-clipboard",use:"icon-clipboard-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-clipboard"><path d="M54.857 118.857h64V73.143H89.143c-1.902 0-3.52-.668-4.855-2.002-1.335-1.335-2.002-2.954-2.002-4.855V36.57H54.857v82.286zM73.143 16v-4.571a2.2 2.2 0 0 0-.677-1.61 2.198 2.198 0 0 0-1.609-.676H20.571c-.621 0-1.158.225-1.609.676a2.198 2.198 0 0 0-.676 1.61V16a2.2 2.2 0 0 0 .676 1.61c.451.45.988.676 1.61.676h50.285c.622 0 1.158-.226 1.61-.677.45-.45.676-.987.676-1.609zm18.286 48h21.357L91.43 42.642V64zM128 73.143v48c0 1.902-.667 3.52-2.002 4.855-1.335 1.335-2.953 2.002-4.855 2.002H52.57c-1.901 0-3.52-.667-4.854-2.002-1.335-1.335-2.003-2.953-2.003-4.855v-11.429H6.857c-1.902 0-3.52-.667-4.855-2.002C.667 106.377 0 104.759 0 102.857v-96c0-1.902.667-3.52 2.002-4.855C3.337.667 4.955 0 6.857 0h77.714c1.902 0 3.52.667 4.855 2.002 1.335 1.335 2.003 2.953 2.003 4.855V30.29c1 .622 1.856 1.29 2.569 2.003l29.147 29.147c1.335 1.335 2.478 3.145 3.429 5.43.95 2.287 1.426 4.383 1.426 6.291v-.018z" /></symbol>'});r.a.add(o);t["default"]=o},"5ac3":function(e,t,a){"use strict";a("2456")},"5b2e":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("e9c4"),a("b64b");var s=n(a("ded3")),i=a("2f62"),r=n(a("c463")),o=n(a("119c")),l=n(a("8df1"));a("a18c"),t.default={components:{SidebarItem:o.default,Logo:r.default},computed:(0,s.default)((0,s.default)((0,s.default)({},(0,i.mapState)(["settings"])),(0,i.mapGetters)(["sidebarRouters","sidebar"])),{},{activeMenu:function(){var e=this.$route,t=e.meta,a=e.path;return t.activeMenu?t.activeMenu:a},showLogo:function(){return this.$store.state.settings.sidebarLogo},variables:function(){return l.default},isCollapse:function(){return!this.sidebar.opened}}),mounted:function(){console.log("Sidebar Routes:",JSON.parse(JSON.stringify(this.sidebarRouters)))}}},"5b79":function(e,t,a){"use strict";a.r(t);var n=a("772d"),s=a("46e9");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("f935");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"b08f202c",null);t["default"]=o.exports},"5c70":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={computed:{device:function(){return this.$store.state.app.device}},mounted:function(){this.fixBugIniOS()},methods:{fixBugIniOS:function(){var e=this,t=this.$refs.subMenu;if(t){var a=t.handleMouseleave;t.handleMouseleave=function(t){"mobile"!==e.device&&a(t)}}}}}},"5d2d":function(e,t,a){"use strict";a.r(t);var n=a("a8cc"),s=a("09c7");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("60ef");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"298685cc",null);t["default"]=o.exports},"5d9e":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-question",use:"icon-question-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-question"><defs><style type="text/css"></style></defs><path d="M512 0C229.233778 0 0 229.233778 0 512s229.233778 512 512 512 512-229.233778 512-512A512 512 0 0 0 512 0z m0 938.666667C276.366222 938.666667 85.333333 747.633778 85.333333 512 85.333333 276.366222 276.366222 85.333333 512 85.333333c235.633778 0 426.666667 191.032889 426.666667 426.666667a426.666667 426.666667 0 0 1-426.666667 426.666667z m0-717.653334a170.666667 170.666667 0 0 0-170.666667 170.666667 42.666667 42.666667 0 0 0 85.333334 0 85.333333 85.333333 0 1 1 85.333333 85.333333 42.666667 42.666667 0 0 0-42.666667 42.666667v111.36a42.666667 42.666667 0 0 0 85.333334 0v-74.24A170.666667 170.666667 0 0 0 512 221.013333z m-42.666667 542.293334a42.666667 42.666667 0 1 0 85.333334 0 42.666667 42.666667 0 0 0-85.333334 0z" p-id="1410" /></symbol>'});r.a.add(o);t["default"]=o},"5e772":function(e,t,a){"use strict";a.r(t);var n=a("9d28"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"5efc":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={bind:function(e){var t=e.querySelector(".el-dialog"),a=document.createElement("div");a.style="width: 6px; background: inherit; height: 10px; position: absolute; right: 0; bottom: 0; margin: auto; z-index: 1; cursor: nwse-resize;",a.addEventListener("mousedown",(function(a){var n=a.clientX-e.offsetLeft,s=a.clientY-e.offsetTop,i=t.offsetWidth,r=t.offsetHeight;document.onmousemove=function(e){e.preventDefault();var a=e.clientX-n,o=e.clientY-s;t.style.width="".concat(i+a,"px"),t.style.height="".concat(r+o,"px")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}),!1),t.appendChild(a)}}},"5f4a":function(e,t,a){"use strict";a.r(t);var n=a("1124"),s=a("29d0");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("e83a");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"0ab5790b",null);t["default"]=o.exports},"5f87":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.getToken=r,t.removeToken=l,t.setToken=o;var s=n(a("852e")),i="Admin-Token";function r(){return s.default.get(i)}function o(e){return s.default.set(i,e)}function l(){return s.default.remove(i)}},"5fda":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-link",use:"icon-link-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-link"><path d="M115.625 127.937H.063V12.375h57.781v12.374H12.438v90.813h90.813V70.156h12.374z" /><path d="M116.426 2.821l8.753 8.753-56.734 56.734-8.753-8.745z" /><path d="M127.893 37.982h-12.375V12.375H88.706V0h39.187z" /></symbol>'});r.a.add(o);t["default"]=o},6:function(e,t){},6011:function(e,t,a){},6047:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a15b"),a("d81d"),a("a9e3"),a("a573");var n=a("3528");t.default={dicts:["sys_normal_disable"],props:{roleId:{type:[Number,String]}},data:function(){return{visible:!1,userIds:[],total:0,userList:[],queryParams:{pageNum:1,pageSize:10,roleId:void 0,userName:void 0,phonenumber:void 0}}},methods:{show:function(){this.queryParams.roleId=this.roleId,this.getList(),this.visible=!0},clickRow:function(e){this.$refs.table.toggleRowSelection(e)},handleSelectionChange:function(e){this.userIds=e.map((function(e){return e.userId}))},getList:function(){var e=this;(0,n.unallocatedUserList)(this.queryParams).then((function(t){e.userList=t.rows,e.total=t.total}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectUser:function(){var e=this,t=this.queryParams.roleId,a=this.userIds.join(",");""!=a?(0,n.authUserSelectAll)({roleId:t,userIds:a}).then((function(t){e.$modal.msgSuccess(t.msg),e.visible=!1,e.$emit("ok")})):this.$modal.msgError("请选择要分配的用户")}}}},"607a":function(e,t,a){"use strict";a.r(t);var n=a("686e"),s=a("b23a");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("ef2c");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"28d8fa92",null);t["default"]=o.exports},"60cf":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"RuoYiDoc",data:function(){return{url:"http://doc.ruoyi.vip/ruoyi-vue"}},methods:{goto:function(){window.open(this.url)}}}},"60ef":function(e,t,a){"use strict";a("e570")},"60fd":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("caad"),a("ac1f"),a("2532"),a("5319");t.default={bind:function(e,t,a,n){var s=t.value;if(0!=s){var i=e.querySelector(".el-dialog__header"),r=e.querySelector(".el-dialog");i.style.cursor="move";var o=r.currentStyle||window.getComputedStyle(r,null);r.style.position="absolute",r.style.marginTop=0;var l=r.style.width;l=l.includes("%")?+document.body.clientWidth*(+l.replace(/\%/g,"")/100):+l.replace(/\px/g,""),r.style.left="".concat((document.body.clientWidth-l)/2,"px"),i.onmousedown=function(e){var t,a,n=e.clientX-i.offsetLeft,s=e.clientY-i.offsetTop;o.left.includes("%")?(t=+document.body.clientWidth*(+o.left.replace(/\%/g,"")/100),a=+document.body.clientHeight*(+o.top.replace(/\%/g,"")/100)):(t=+o.left.replace(/\px/g,""),a=+o.top.replace(/\px/g,"")),document.onmousemove=function(e){var i=e.clientX-n,o=e.clientY-s,l=i+t,c=o+a;r.style.left="".concat(l,"px"),r.style.top="".concat(c,"px")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}}}},6173:function(e,t,a){"use strict";a.r(t);var n=a("f081"),s=a("1525");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("63d8");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"5a27361a",null);t["default"]=o.exports},6186:function(e,t,a){},"61f7":function(e,t,a){"use strict";function n(e){return/^(https?:|mailto:|tel:)/.test(e)}function s(e){var t=["admin","editor"];return t.indexOf(e.trim())>=0}function i(e){var t=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/;return t.test(e)}function r(e){var t=/^[a-z]+$/;return t.test(e)}function o(e){var t=/^[A-Z]+$/;return t.test(e)}function l(e){var t=/^[A-Za-z]+$/;return t.test(e)}function c(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}function u(e){return"string"===typeof e||e instanceof String}function d(e){return"undefined"===typeof Array.isArray?"[object Array]"===Object.prototype.toString.call(e):Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=d,t.isExternal=n,t.isString=u,t.validAlphabets=l,t.validEmail=c,t.validLowerCase=r,t.validURL=i,t.validUpperCase=o,t.validUsername=s,a("d3b7"),a("ac1f"),a("00b4"),a("25f0"),a("498a")},"621c":function(e,t,a){},"623f":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a9e3");var n=a("09f4");t.default={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},pagerCount:{type:Number,default:document.body.clientWidth<992?5:7},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},data:function(){return{}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.currentPage*e>this.total&&(this.currentPage=1),this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&(0,n.scrollTo)(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&(0,n.scrollTo)(0,800)}}}},"62dc":function(e,t,a){"use strict";a.r(t);var n=a("6047"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},6350:function(e,t,a){"use strict";a.r(t);var n=a("eb48"),s=a("6f8f");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("909e");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"08dd0676",null);t["default"]=o.exports},"63d8":function(e,t,a){"use strict";a("6186")},"63f0":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("e9c4"),a("b64b");var n={set:function(e,t){sessionStorage&&null!=e&&null!=t&&sessionStorage.setItem(e,t)},get:function(e){return sessionStorage?null==e?null:sessionStorage.getItem(e):null},setJSON:function(e,t){null!=t&&this.set(e,JSON.stringify(t))},getJSON:function(e){var t=this.get(e);if(null!=t)return JSON.parse(t)},remove:function(e){sessionStorage.removeItem(e)}},s={set:function(e,t){localStorage&&null!=e&&null!=t&&localStorage.setItem(e,t)},get:function(e){return localStorage?null==e?null:localStorage.getItem(e):null},setJSON:function(e,t){null!=t&&this.set(e,JSON.stringify(t))},getJSON:function(e){var t=this.get(e);if(null!=t)return JSON.parse(t)},remove:function(e){localStorage.removeItem(e)}};t.default={session:n,local:s}},6474:function(e,t,a){"use strict";a.r(t);var n=a("dacf"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"64a1":function(e,t,a){},"64aa":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"homework-evaluation"},[a("el-row",{staticClass:"header-row"},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"header"},[a("span",{staticClass:"info-text"},[e._v("题目："+e._s(e.homeworkTitle))]),a("span",{staticClass:"info-text"},[e._v("姓名："+e._s(e.submitter))]),a("span",{staticClass:"info-text"},[e._v("评价流程："+e._s(e.currentProcess))]),a("span",{staticClass:"info-text"},[e._v("评分人："+e._s(e.reviewer))])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"submit-all-wrapper"},[a("el-button",{attrs:{type:"primary",loading:e.submitting,disabled:e.submitting},on:{click:e.handleSubmitAll}},[e._v(" "+e._s(e.submitting?"提交中...":"提交所有评分")+" ")])],1)])],1),a("el-tabs",{staticClass:"tabs-container",attrs:{type:"card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.submissionTypes,(function(t){return a("el-tab-pane",{key:t,attrs:{name:t,label:t}},["视频"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"first-row"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.video,expression:"loading.video"}],staticClass:"video-section"},[a("video",{ref:"videoElement",refInFor:!0,staticClass:"video-player",attrs:{controls:"",src:e.fileUrls.video},on:{error:function(t){return e.handleFileError("video")}}})]),a("div",{staticClass:"dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.video||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},[a("p",{staticClass:"dimension-title"},[a("b",[e._v(e._s(t.evaluationTitle))])]),e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",[e._v(e._s(t))]),a("el-rate",{attrs:{max:5},model:{value:e.ratings.video[n][s],callback:function(t){e.$set(e.ratings.video[n],s,t)},expression:"ratings.video[index][infoIndex]"}})],1)}))],2)})),0)])],1)]),a("div",{staticClass:"second-row"},[a("div",{staticClass:"radar-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-data-analysis"}),a("span",[e._v("评价雷达图")])]),a("el-card",{staticClass:"radar-chart"},[a("div",{ref:"radarContainer-"+t,refInFor:!0,staticClass:"radar-container"})])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4"},model:{value:e.comments.video,callback:function(t){e.$set(e.comments,"video",t)},expression:"comments.video"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("视频总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("video"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleNextTab}},[e._v("确定下一个评价对象")])],1)],1)],1)])]):"音频"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"first-row"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.audio,expression:"loading.audio"}],staticClass:"audio-section"},[a("div",{staticClass:"audio-player-container"},[a("div",{staticClass:"audio-bg"},[a("div",{staticClass:"music-icon",class:{"is-playing":e.isPlaying}},[a("i",{staticClass:"el-icon-headset"})]),a("div",{staticClass:"music-notes"},[a("i",{staticClass:"el-icon-music"}),a("i",{staticClass:"el-icon-bell"}),a("i",{staticClass:"el-icon-mic"})])]),a("audio",{directives:[{name:"show",rawName:"v-show",value:!e.loading.audio,expression:"!loading.audio"}],ref:"audioElement",refInFor:!0,staticClass:"audio-player",attrs:{controls:"",src:e.fileUrls.audio},on:{play:e.handlePlay,pause:e.handlePause,ended:e.handlePause,error:function(t){return e.handleFileError("audio")}}})])]),a("div",{staticClass:"dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.audio||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},[a("p",{staticClass:"dimension-title"},[a("b",[e._v(e._s(t.evaluationTitle))])]),e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",[e._v(e._s(t))]),a("el-rate",{attrs:{max:5},model:{value:e.ratings.audio[n][s],callback:function(t){e.$set(e.ratings.audio[n],s,t)},expression:"ratings.audio[index][infoIndex]"}})],1)}))],2)})),0)])],1)]),a("div",{staticClass:"second-row"},[a("div",{staticClass:"radar-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-data-analysis"}),a("span",[e._v("评价雷达图")])]),a("el-card",{staticClass:"radar-chart"},[a("div",{ref:"radarContainer-"+t,refInFor:!0,staticClass:"radar-container"})])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4"},model:{value:e.comments.audio,callback:function(t){e.$set(e.comments,"audio",t)},expression:"comments.audio"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("音频总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("audio"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleNextTab}},[e._v("确定下一个评价对象")])],1)],1)],1)])]):"PPT"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"left-section"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.ppt,expression:"loading.ppt"}],staticClass:"ppt-document-section"},[e.pdfData?a("pdf-viewer",{staticClass:"pdf-viewer",attrs:{"pdf-data":e.pdfData}}):e._e()],1)]),a("div",{staticClass:"right-section"},[a("div",{staticClass:"ppt-dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.ppt||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},[a("p",{staticClass:"dimension-title"},[a("b",[e._v(e._s(t.evaluationTitle))])]),e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",[e._v(e._s(t))]),a("el-rate",{attrs:{max:5},model:{value:e.ratings.ppt[n][s],callback:function(t){e.$set(e.ratings.ppt[n],s,t)},expression:"ratings.ppt[index][infoIndex]"}})],1)}))],2)})),0)])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4"},model:{value:e.comments.ppt,callback:function(t){e.$set(e.comments,"ppt",t)},expression:"comments.ppt"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("PPT总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("ppt"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleNextTab}},[e._v("确定下一个评价对象")])],1)],1)],1)])])]):"演讲稿"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"left-section"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.word||e.convertLoading,expression:"loading.word || convertLoading"}],staticClass:"word-document-section",attrs:{"element-loading-text":"正在转换文档..."}},[e.wordContent?a("div",{staticClass:"word-content"},[a("div",{domProps:{innerHTML:e._s(e.wordContent)}})]):e.loading.word||e.convertLoading?e._e():a("div",{staticClass:"preview-placeholder"},[a("i",{staticClass:"el-icon-document"}),a("p",[e._v("Word 文档加载失败")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.loadFiles}},[e._v(" 重试 ")])],1)])]),a("div",{staticClass:"right-section"},[a("div",{staticClass:"word-dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.word||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},[a("p",{staticClass:"dimension-title"},[a("b",[e._v(e._s(t.evaluationTitle))])]),e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",[e._v(e._s(t))]),a("el-rate",{attrs:{max:5},model:{value:e.ratings.word[n][s],callback:function(t){e.$set(e.ratings.word[n],s,t)},expression:"ratings.word[index][infoIndex]"}})],1)}))],2)})),0)])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4"},model:{value:e.comments.word,callback:function(t){e.$set(e.comments,"word",t)},expression:"comments.word"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("演讲稿总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("word"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleNextTab}},[e._v("确定下一个评价对象")])],1)],1)],1)])])]):e._e()])})),1)],1)},s=[]},"64c5":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictType"}},[a("el-select",{model:{value:e.queryParams.dictType,callback:function(t){e.$set(e.queryParams,"dictType",t)},expression:"queryParams.dictType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictType}})})),1)],1),a("el-form-item",{attrs:{label:"字典标签",prop:"dictLabel"}},[a("el-input",{attrs:{placeholder:"请输入字典标签",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictLabel,callback:function(t){e.$set(e.queryParams,"dictLabel",t)},expression:"queryParams.dictLabel"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"数据状态",clearable:""},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.dict.type.sys_normal_disable,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:add"],expression:"['system:dict:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:edit"],expression:"['system:dict:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:export"],expression:"['system:dict:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-close",size:"mini"},on:{click:e.handleClose}},[e._v("关闭")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.dataList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"字典编码",align:"center",prop:"dictCode"}}),a("el-table-column",{attrs:{label:"字典标签",align:"center",prop:"dictLabel"},scopedSlots:e._u([{key:"default",fn:function(t){return[""!=t.row.listClass&&"default"!=t.row.listClass||""!=t.row.cssClass&&null!=t.row.cssClass?a("el-tag",{class:t.row.cssClass,attrs:{type:"primary"==t.row.listClass?"":t.row.listClass}},[e._v(e._s(t.row.dictLabel))]):a("span",[e._v(e._s(t.row.dictLabel))])]}}])}),a("el-table-column",{attrs:{label:"字典键值",align:"center",prop:"dictValue"}}),a("el-table-column",{attrs:{label:"字典排序",align:"center",prop:"dictSort"}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_normal_disable,value:t.row.status}})]}}])}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:edit"],expression:"['system:dict:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典类型"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dictType,callback:function(t){e.$set(e.form,"dictType",t)},expression:"form.dictType"}})],1),a("el-form-item",{attrs:{label:"数据标签",prop:"dictLabel"}},[a("el-input",{attrs:{placeholder:"请输入数据标签"},model:{value:e.form.dictLabel,callback:function(t){e.$set(e.form,"dictLabel",t)},expression:"form.dictLabel"}})],1),a("el-form-item",{attrs:{label:"数据键值",prop:"dictValue"}},[a("el-input",{attrs:{placeholder:"请输入数据键值"},model:{value:e.form.dictValue,callback:function(t){e.$set(e.form,"dictValue",t)},expression:"form.dictValue"}})],1),a("el-form-item",{attrs:{label:"样式属性",prop:"cssClass"}},[a("el-input",{attrs:{placeholder:"请输入样式属性"},model:{value:e.form.cssClass,callback:function(t){e.$set(e.form,"cssClass",t)},expression:"form.cssClass"}})],1),a("el-form-item",{attrs:{label:"显示排序",prop:"dictSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.dictSort,callback:function(t){e.$set(e.form,"dictSort",t)},expression:"form.dictSort"}})],1),a("el-form-item",{attrs:{label:"回显样式",prop:"listClass"}},[a("el-select",{model:{value:e.form.listClass,callback:function(t){e.$set(e.form,"listClass",t)},expression:"form.listClass"}},e._l(e.listClassOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.dict.type.sys_normal_disable,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},s=[]},"65a9":function(e,t,a){"use strict";a.r(t);var n=a("ac1e"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"65f2":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.cleanJobLog=o,t.delJobLog=r,t.listJobLog=i;var s=n(a("b775"));function i(e){return(0,s.default)({url:"/monitor/jobLog/list",method:"get",params:e})}function r(e){return(0,s.default)({url:"/monitor/jobLog/"+e,method:"delete"})}function o(){return(0,s.default)({url:"/monitor/jobLog/clean",method:"delete"})}},"679a":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-search",use:"icon-search-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-search"><path d="M124.884 109.812L94.256 79.166c-.357-.357-.757-.629-1.129-.914a50.366 50.366 0 0 0 8.186-27.59C101.327 22.689 78.656 0 50.67 0 22.685 0 0 22.688 0 50.663c0 27.989 22.685 50.663 50.656 50.663 10.186 0 19.643-3.03 27.6-8.201.286.385.557.771.9 1.114l30.628 30.632a10.633 10.633 0 0 0 7.543 3.129c2.728 0 5.457-1.043 7.543-3.115 4.171-4.157 4.171-10.915.014-15.073M50.671 85.338C31.557 85.338 16 69.78 16 50.663c0-19.102 15.557-34.661 34.67-34.661 19.115 0 34.657 15.559 34.657 34.675 0 19.102-15.557 34.661-34.656 34.661" /></symbol>'});r.a.add(o);t["default"]=o},"67bd":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-validCode",use:"icon-validCode-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-validCode"><defs><style type="text/css"></style></defs><path d="M513.3 958.5c-142.2 0-397.9-222.1-401.6-440.5V268c1.7-39.6 31.7-72.3 71.1-77.3 49-4.6 97.1-16.5 142.7-35.3 47.8-14 91.9-38.3 129.4-71.1 30.3-24.4 72.9-26.3 105.3-4.6 39.9 30.7 83.8 55.9 130.5 74.6 48.6 14.7 98.2 25.9 148.4 33.7 38.5 7.6 67.1 40.3 69.5 79.5 3.3 84.9 2.5 169.9-2.6 254.7-33.7 281.6-253.7 436.4-392.7 436.3z m-0.1-813.7c-7.2-0.2-14.3 2-20 6.4-39.7 35.2-86.8 61.1-137.7 75.7-46.8 19.2-96.2 31-146.6 35.2-11 3.2-18.8 13-19.5 24.4v230.1c3.5 180.3 223.3 361 323.9 361s287.3-120.2 317.6-360.5c7.3-142.7 0-228.6 0-229.6-1.3-13.3-11-24.3-24-27.3-49.6-7.7-98.6-19-146.5-33.7-46.3-19.5-89.7-45.3-129-76.7-5.8-3.8-12.7-5.5-19.5-4.9l1.3-0.1z" fill="#C6CCDA" p-id="1940" /><path d="M750.1 428L490.7 673.2c-11.7 11.1-29.5 12.9-43.1 4.2l-6.8-5.8-141.2-149.4c-9.3-9.3-12.7-22.9-9-35.5 3.8-12.6 14.1-22.1 27-24.8 12.9-2.7 26.1 1.9 34.6 11.9L469 597.5l233.7-221c14.6-12.8 36.8-11.6 49.9 2.7 13.2 14.2 11.5 35.3-2.5 48.8" fill="#C6CCDA" p-id="1941" /></symbol>'});r.a.add(o);t["default"]=o},6861:function(e,t,a){e.exports={menuColor:"rgba(0, 0, 0, 0.85)",menuLightColor:"rgba(0, 0, 0, 0.7)",menuColorActive:"#000000",menuBackground:"#ffffff",menuLightBackground:"#ffffff",subMenuBackground:"#ffffff",subMenuHover:"#f6f6f6",sideBarWidth:"200px",logoTitleColor:"#000000",logoLightTitleColor:"#001529"}},"686e":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"homework-evaluation"},[a("el-row",{staticClass:"header-row"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"header"},[a("span",{staticClass:"info-text"},[e._v("题目："+e._s(e.taskDetails.taskName))]),a("span",{staticClass:"info-text"},[e._v("姓名："+e._s(e.taskDetails.ownerName))]),a("span",{staticClass:"info-text"},[e._v("评价流程：自评")]),a("span",{staticClass:"info-text"},[e._v("评分人："+e._s(e.taskDetails.ownerName))])])])],1),a("el-tabs",{staticClass:"tabs-container",attrs:{type:"card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.submissionTypes,(function(t){return a("el-tab-pane",{key:t,attrs:{name:t,label:t}},["视频"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"first-row"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.video,expression:"loading.video"}],staticClass:"video-section"},[a("video",{ref:"videoElement",refInFor:!0,staticClass:"video-player",attrs:{controls:"",src:e.fileUrls.video},on:{error:function(t){return e.handleFileError("video")}}})]),a("div",{staticClass:"dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.video||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",{staticClass:"dimension-title"},[e._v(e._s(t))]),a("el-rate",{attrs:{max:5,disabled:""},model:{value:e.ratings.video[n][s],callback:function(t){e.$set(e.ratings.video[n],s,t)},expression:"ratings.video[index][infoIndex]"}})],1)})),0)})),0)])],1)]),a("div",{staticClass:"second-row"},[a("div",{staticClass:"radar-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-data-analysis"}),a("span",[e._v("评价雷达图")])]),a("el-card",{staticClass:"radar-chart"},[a("div",{ref:"radarContainer-"+t,refInFor:!0,staticClass:"radar-container"})])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4",readonly:""},model:{value:e.comments.video,callback:function(t){e.$set(e.comments,"video",t)},expression:"comments.video"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("视频总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("video"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1)])],1)],1)])]):"音频"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"first-row"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.audio,expression:"loading.audio"}],staticClass:"audio-section"},[a("div",{staticClass:"audio-player-container"},[a("div",{staticClass:"audio-bg"},[a("div",{staticClass:"music-icon",class:{"is-playing":e.isPlaying}},[a("i",{staticClass:"el-icon-headset"})]),a("div",{staticClass:"music-notes"},[a("i",{staticClass:"el-icon-music"}),a("i",{staticClass:"el-icon-bell"}),a("i",{staticClass:"el-icon-mic"})])]),a("audio",{directives:[{name:"show",rawName:"v-show",value:!e.loading.audio,expression:"!loading.audio"}],ref:"audioElement",refInFor:!0,staticClass:"audio-player",attrs:{controls:"",src:e.fileUrls.audio},on:{play:e.handlePlay,pause:e.handlePause,ended:e.handlePause,error:function(t){return e.handleFileError("audio")}}})])]),a("div",{staticClass:"dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.audio||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",{staticClass:"dimension-title"},[e._v(e._s(t))]),a("el-rate",{attrs:{max:5,disabled:""},model:{value:e.ratings.audio[n][s],callback:function(t){e.$set(e.ratings.audio[n],s,t)},expression:"ratings.audio[index][infoIndex]"}})],1)})),0)})),0)])],1)]),a("div",{staticClass:"second-row"},[a("div",{staticClass:"radar-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-data-analysis"}),a("span",[e._v("评价雷达图")])]),a("el-card",{staticClass:"radar-chart"},[a("div",{ref:"radarContainer-"+t,refInFor:!0,staticClass:"radar-container"})])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4",readonly:""},model:{value:e.comments.audio,callback:function(t){e.$set(e.comments,"audio",t)},expression:"comments.audio"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("音频总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("audio"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1)])],1)],1)])]):"PPT"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"left-section"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.ppt,expression:"loading.ppt"}],staticClass:"ppt-document-section"},[e.pdfData?a("pdf-viewer",{staticClass:"pdf-viewer",attrs:{"pdf-data":e.pdfData}}):e._e()],1)]),a("div",{staticClass:"right-section"},[a("div",{staticClass:"ppt-dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.ppt||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",{staticClass:"dimension-title"},[e._v(e._s(t))]),a("el-rate",{attrs:{max:5,disabled:""},model:{value:e.ratings.ppt[n][s],callback:function(t){e.$set(e.ratings.ppt[n],s,t)},expression:"ratings.ppt[index][infoIndex]"}})],1)})),0)})),0)])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4",readonly:""},model:{value:e.comments.ppt,callback:function(t){e.$set(e.comments,"ppt",t)},expression:"comments.ppt"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("PPT总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("ppt"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1)])],1)],1)])])]):"演讲稿"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"left-section"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.word||e.convertLoading,expression:"loading.word || convertLoading"}],staticClass:"word-document-section",attrs:{"element-loading-text":"正在转换文档..."}},[e.wordContent?a("div",{staticClass:"word-content"},[a("div",{domProps:{innerHTML:e._s(e.wordContent)}})]):e.loading.word||e.convertLoading?e._e():a("div",{staticClass:"preview-placeholder"},[a("i",{staticClass:"el-icon-document"}),a("p",[e._v("Word 文档加载失败")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.loadFiles}},[e._v(" 重试 ")])],1)])]),a("div",{staticClass:"right-section"},[a("div",{staticClass:"word-dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.word||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",{staticClass:"dimension-title"},[e._v(e._s(t))]),a("el-rate",{attrs:{max:5,disabled:""},model:{value:e.ratings.word[n][s],callback:function(t){e.$set(e.ratings.word[n],s,t)},expression:"ratings.word[index][infoIndex]"}})],1)})),0)})),0)])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4",readonly:""},model:{value:e.comments.word,callback:function(t){e.$set(e.comments,"word",t)},expression:"comments.word"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("演讲稿总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("word"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1)])],1)],1)])])]):e._e()])})),1)],1)},s=[]},"68e4":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"homework-management"},[a("div",{staticClass:"header"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.createHomework}},[e._v("创建作业")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.confirmDeleteSelected}},[e._v("删除作业")])],1),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:!1,"header-cell-class-name":"headercell"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"serialNumber",label:"序号",width:"80",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),a("el-table-column",{attrs:{prop:"process",label:"流程",align:"center"}}),a("el-table-column",{attrs:{prop:"creationTime",label:"创建时间",align:"center"}}),a("el-table-column",{attrs:{prop:"deadline",label:"截止日期",align:"center"}}),a("el-table-column",{attrs:{prop:"creator",label:"创建人",align:"center"}}),a("el-table-column",{attrs:{prop:"completionProgress",label:"完成进度",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-progress",{attrs:{percentage:parseInt(e.row.completionProgress),format:function(e){return e+"%"}}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"操作",placement:"top"}},[a("el-popover",{attrs:{placement:"bottom",width:"200"},on:{mouseenter:function(e){t.row.visible=!0},mouseleave:function(e){t.row.visible=!1}},model:{value:t.row.visible,callback:function(a){e.$set(t.row,"visible",a)},expression:"scope.row.visible"}},[a("el-button",{attrs:{type:"text",icon:"el-icon-view"},on:{click:function(a){return e.viewHomework(t.row)}}},[e._v("查看")]),a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.editHomework(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.deleteSingleHomework(t.row)}}},[e._v("删除")]),a("el-button",{attrs:{slot:"reference",icon:"el-icon-more",circle:""},slot:"reference"})],1)],1)]}}])})],1),a("el-dialog",{staticClass:"task-detail-dialog",attrs:{title:"任务详情",visible:e.showDialog,width:"70%"},on:{"update:visible":function(t){e.showDialog=t},close:e.handleDialogClose}},[a("div",{staticClass:"dialog-content"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("p",[a("strong",[e._v("名称：")]),e._v(e._s(e.dialogData.name))]),a("p",[a("strong",[e._v("流程：")]),e._v(e._s(e.dialogData.process))]),a("p",[a("strong",[e._v("创建时间：")]),e._v(e._s(e.dialogData.creationTime))]),a("p",[a("strong",[e._v("任务要求：")]),a("span",{domProps:{innerHTML:e._s(e.dialogData.taskRequirements)}})])]),a("el-col",{attrs:{span:12}},[a("p",[a("strong",[e._v("截止日期：")]),e._v(e._s(e.dialogData.deadline))]),a("p",[a("strong",[e._v("创建人：")]),e._v(e._s(e.dialogData.creator))]),a("p",[a("strong",[e._v("完成进度：")]),e._v(e._s(e.dialogData.completionProgress))]),e.dialogData.weights&&e.dialogData.weights.length?a("p",[a("strong",[e._v("模态权重：")]),e._v("视频: "+e._s(e.dialogData.weights[0])+"%, 音频: "+e._s(e.dialogData.weights[1])+"%, 演讲稿: "+e._s(e.dialogData.weights[2])+"%, PPT: "+e._s(e.dialogData.weights[3])+"%")]):e._e()])],1),a("div",{staticStyle:{"margin-top":"20px"}},[e.studentDetails.length>0?a("el-table",{staticStyle:{"margin-top":"20px"},attrs:{data:e.paginatedStudentDetails,border:""}},[a("el-table-column",{attrs:{prop:"nickName",label:"学生姓名","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"userName",label:"邮箱","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"studentId",label:"学号","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"dept",label:"专业","header-align":"center",align:"center"}})],1):a("p",[e._v("未分配学生任务")]),e.studentDetails.length>e.pageSize?a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.currentPage,total:e.studentDetails.length},on:{"current-change":e.handlePageChange}}):e._e()],1),a("div",{staticStyle:{"margin-top":"20px"}},[e.teacherDetails.length>0?a("el-table",{staticStyle:{"margin-top":"20px"},attrs:{data:e.teacherDetails,border:""}},[a("el-table-column",{attrs:{prop:"nickName",label:"老师姓名","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"userName",label:"邮箱","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"mobile",label:"手机号","header-align":"center",align:"center"}})],1):a("p",[e._v("未安排师评老师")])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showDialog=!1}}},[e._v("关闭")])],1)])],1)},s=[]},"68e7":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"task-detail"},[a("div",{staticClass:"sidebar"},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.currentTaskType},on:{select:e.handleMenuClick}},[a("el-menu-item",{attrs:{index:"all"}},[a("i",{staticClass:"el-icon-document"}),a("span",[e._v("全部任务")])]),a("el-menu-item",{attrs:{index:"自评"}},[a("i",{staticClass:"el-icon-edit-outline"}),a("span",[e._v("自评任务")])]),a("el-menu-item",{attrs:{index:"互评"}},[a("i",{staticClass:"el-icon-user"}),a("span",[e._v("互评任务")])]),a("el-menu-item",{attrs:{index:"师评"}},[a("i",{staticClass:"el-icon-s-custom"}),a("span",[e._v("师评任务")])]),a("el-menu-item",{attrs:{index:"completed"}},[a("i",{staticClass:"el-icon-success"}),a("span",[e._v("已完成任务")])])],1)],1),a("div",{staticClass:"content"},[a("el-card",{staticClass:"stats-card"},[a("div",{staticClass:"stats"},[e._v(" 您还有 "),a("span",{staticClass:"highlight-text"},[e._v(e._s(e.taskCounts.自评))]),e._v(" 个自评任务， "),a("span",{staticClass:"highlight-text"},[e._v(e._s(e.taskCounts.师评))]),e._v(" 个师评任务， "),a("span",{staticClass:"highlight-text"},[e._v(e._s(e.taskCounts.互评))]),e._v(" 个互评任务待评价~ ")])]),a("div",{staticClass:"task-list"},[e._l(e.filteredAssignments,(function(t,n){return a("el-card",{key:t.id+"-"+n,staticClass:"assignment-card",attrs:{shadow:"always"}},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"task-name",on:{click:function(a){return e.handleClick(t.type,t)}}},[e._v(" 作业名称："),a("span",[e._v(e._s(t.name))])]),a("el-tag",{staticClass:"task-type",attrs:{type:"primary"}},[e._v(e._s(t.type))])],1),a("div",{staticClass:"submitter"},[e._v(" 提交人姓名："),a("span",[e._v(e._s(t.submitter))])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"score-section"},e._l(["视频","音频","演讲稿","PPT"],(function(n){return a("el-tag",{key:n,class:["custom-tag",e.evaluationStatus(t,n).isCompleted?"is-completed":"not-completed"]},[e._v(" "+e._s(e.formatScoreTag(n,e.evaluationStatus(t,n).score))+" ")])})),1)]),a("div",{staticClass:"card-footer"},[e._v(" 总分："),a("span",{staticClass:"total-score"},[e._v(e._s(e.calculateTotalScore(t))+"分")])])])})),e.loading||0!==e.filteredAssignments.length?e._e():a("el-empty",{attrs:{description:"暂无数据"}})],2)],1)])},s=[]},6912:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("47b3")),i=n(a("dce4")),r=n(a("63f0")),o=n(a("860d")),l=n(a("d0f3"));t.default={install:function(e){e.prototype.$tab=s.default,e.prototype.$auth=i.default,e.prototype.$cache=r.default,e.prototype.$modal=o.default,e.prototype.$download=l.default}}},6951:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ac1f"),a("5319");t.default={props:{src:{type:String,default:"/"},iframeId:{type:String}},data:function(){return{loading:!1,height:document.documentElement.clientHeight-94.5+"px;"}},mounted:function(){var e=this,t=("#"+this.iframeId).replace(/\//g,"\\/"),a=document.querySelector(t);a.attachEvent?(this.loading=!0,a.attachEvent("onload",(function(){e.loading=!1}))):(this.loading=!0,a.onload=function(){e.loading=!1})}}},"69ab":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.item.hidden?e._e():a("div",[!e.hasOneShowingChild(e.item.children,e.item)||e.onlyOneChild.children&&!e.onlyOneChild.noShowingChildren||e.item.alwaysShow?a("el-submenu",{ref:"subMenu",attrs:{index:e.resolvePath(e.item.path),"popper-append-to-body":""}},[a("template",{slot:"title"},[e.item.meta?a("item",{attrs:{icon:e.item.meta&&e.item.meta.icon,title:e.item.meta.title}}):e._e()],1),e._l(e.item.children,(function(t,n){return a("sidebar-item",{key:t.path+n,staticClass:"nest-menu",attrs:{"is-nest":!0,item:t,"base-path":e.resolvePath(t.path)}})}))],2):[e.onlyOneChild.meta?a("app-link",{attrs:{to:e.resolvePath(e.onlyOneChild.path,e.onlyOneChild.query)}},[a("el-menu-item",{class:{"submenu-title-noDropdown":!e.isNest},attrs:{index:e.resolvePath(e.onlyOneChild.path)}},[a("item",{attrs:{icon:e.onlyOneChild.meta.icon||e.item.meta&&e.item.meta.icon,title:e.onlyOneChild.meta.title}})],1)],1):e._e()]],2)},s=[]},"69d8":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-selfpractise",use:"icon-selfpractise-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-selfpractise"><path d="M685.37 406.08a29.32 29.32 0 0 0-28.83 12.1l-172.28 246a29.25 29.25 0 0 0-4.33 24.23v97.69a29.27 29.27 0 0 0 16.16 26.18 29.28 29.28 0 0 0 32.22 8.42l95.06-34.6a29.24 29.24 0 0 0 15-8.27 31.31 31.31 0 0 0 5.89-7.78l169.4-241.86a29.82 29.82 0 0 0-7.27-41.19L698 411.08a29.17 29.17 0 0 0-12.63-5zM749 518.34L599 732.62l-60.47 22v-65.73l149.38-213.35z" p-id="885" /><path d="M886.24 108.75h-760a25 25 0 0 0-25 25v760a25 25 0 0 0 25 25h760a25 25 0 0 0 25-25v-760a25 25 0 0 0-25-25z m-25 760h-710v-710h710z" p-id="886" /><path d="M226 290.07h534a25 25 0 0 0 0-50H226a25 25 0 0 0 0 50zM225.69 442.52h258.65a25 25 0 0 0 0-50H225.69a25 25 0 0 0 0 50zM231.7 607.45h127.05a25 25 0 0 0 0-50h-127a25 25 0 0 0 0 50zM360.46 703.63h-127a25 25 0 1 0 0 50h127a25 25 0 0 0 0-50z" p-id="887" /></symbol>'});r.a.add(o);t["default"]=o},"6a33":function(e,t,a){"use strict";a.r(t);var n=a("86f6"),s=a("7003");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},"6ae2":function(e,t,a){"use strict";a.r(t);var n=a("b699"),s=a("734f");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("46a8");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"031dd764",null);t["default"]=o.exports},"6b46":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ac1f"),a("5319");t.default={created:function(){var e=this.$route,t=e.params,a=e.query,n=t.path;this.$router.replace({path:"/"+n,query:a})},render:function(e){return e()}}},"6b70":function(e,t,a){"use strict";var n=a("dbce").default,s=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(a("6374")),r=s(a("7ec2")),o=s(a("ded3")),l=s(a("c973"));a("d9e2"),a("99af"),a("4de4"),a("7db0"),a("caad"),a("d81d"),a("14d9"),a("a9e3"),a("b64b"),a("d3b7"),a("07ac"),a("8a79"),a("2532"),a("3ca3"),a("0643"),a("2382"),a("fffc"),a("4e3e"),a("a573"),a("9a9a"),a("159b"),a("ddb0"),a("2b3d"),a("bf19"),a("9861"),a("88a7"),a("271a"),a("5494");var c=a("5a2f"),u=n(a("313e")),d=a("5c96"),f=s(a("c343")),p=s(a("09ad")),m=a("cc43");t.default={name:"showselfReview",directives:{loading:d.Loading},props:{taskId:{type:String,required:!0},submitId:{type:String,required:!0},taskDetails:{type:Object,required:!0}},data:function(){return{activeTab:"视频",submissionTypes:[],submitting:!1,evaluationData:{video:[],audio:[],ppt:[],word:[]},ratings:{video:[],audio:[],ppt:[],word:[]},comments:{video:"",audio:"",ppt:"",word:""},grades:{video:0,audio:0,ppt:0,word:0},typeMapping:{"视频":"video","音频":"audio",PPT:"ppt","演讲稿":"word"},radarChart:null,radarCharts:{},dimensionScores:{"视频":0,"音频":0,PPT:0,"演讲稿":0},fileUrls:{video:"",audio:"",ppt:"",word:""},loading:{video:!1,audio:!1,ppt:!1,word:!1},currentTaskInfo:null,_blobUrls:[],wordContent:"",convertLoading:!1,isPlaying:!1,pdfData:null,fixedTabOrder:["视频","音频","PPT","演讲稿"]}},computed:{radarData:function(){var e=this;return this.submissionTypes.map((function(t){var a=e.typeMapping[t];return{name:t,value:e.calculateTotalScore(a)}}))},radarIndicator:function(){return this.submissionTypes.map((function(e){return{name:e,max:100}}))}},watch:{activeTab:{handler:function(e){var t=this;this.$nextTick((function(){t.initRadarChart(e)}))}},immediate:!0},mounted:function(){},components:{"pdf-viewer":p.default},methods:{fetchTaskData:function(){var e=this;return(0,l.default)((0,r.default)().mark((function t(){var a,n,s;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.getEvaluationByTaskIdAndStuId)(e.taskId,e.taskDetails.ownerId);case 3:if(n=t.sent,null!==n&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.evaluationTypes){t.next=7;break}return e.$message.error("获取评价数据失败"),t.abrupt("return");case 7:if(s=n.data.evaluationTypes.find((function(e){return"自评"===e.evaluationMethod})),s){t.next=11;break}return e.$message.error("未找到自评数据"),t.abrupt("return");case 11:e.submissionTypes=e.fixedTabOrder.filter((function(e){return s.evaluationContents.some((function(t){return t.evaluationContent===e}))})),s.evaluationContents.forEach((function(t){var a=e.typeMapping[t.evaluationContent];if(a){e.$set(e.evaluationData,a,t.evaluationDimensions.map((function(e){var t=Object.keys(e)[0],a=Number(e[t]);return{evaluationTitle:t,evaluationInfos:[t],score:a}})));var n=t.evaluationDimensions.map((function(e){return[Number(Object.values(e)[0])]}));e.$set(e.ratings,a,n),e.$set(e.comments,a,t.evaluationTitle),console.log("Before update - Current dimensionScores:",(0,o.default)({},e.dimensionScores)),console.log("Setting grade for type:",t.evaluationContent,"grade:",t.grade),e.$set(e.dimensionScores,t.evaluationContent,t.grade),e.$nextTick((function(){console.log("After update - dimensionScores:",(0,o.default)({},e.dimensionScores))}))}})),e.activeTab=e.submissionTypes[0]||"",e.$nextTick((function(){e.initRadarChart(e.activeTab)})),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error("获取评价数据失败：",t.t0),e.$message.error("获取评价数据失败");case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},calculateTotalScore:function(e){var t=this,a=Object.keys(this.typeMapping).find((function(a){return t.typeMapping[a]===e})),n=this.dimensionScores[a]||0;return Object.keys(this.radarCharts).forEach((function(e){t.updateRadarChart(e)})),n},initRadarChart:function(e){var t,a=null===(t=this.$refs["radarContainer-".concat(e)])||void 0===t?void 0:t[0];a&&(this.radarCharts[e]&&this.radarCharts[e].dispose(),this.radarCharts[e]=u.init(a),this.updateRadarChart(e))},updateRadarChart:function(e){var t=this,a=this.radarCharts[e];if(a){var n={title:{text:"能力评分雷达图",left:"center",top:10,textStyle:{fontSize:14,color:"#666"}},tooltip:{trigger:"item",formatter:function(e){var a=t.submissionTypes[e.dimensionIndex];return"".concat(a,": ").concat(t.dimensionScores[a],"分")}},radar:{indicator:this.submissionTypes.map((function(e){return{name:e,max:100}})),shape:"circle",radius:"65%",splitNumber:5,name:{textStyle:{color:"#666",fontSize:12}},splitArea:{areaStyle:{color:["#f3f6f9","#e9ecf2"]}}},series:[{type:"radar",name:"能力评分",data:[{value:this.submissionTypes.map((function(e){return t.dimensionScores[e]})),name:"当前评分",symbol:"circle",symbolSize:6,lineStyle:{width:2,color:"#409EFF"},areaStyle:{color:new u.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(64, 158, 255, 0.3)"},{offset:1,color:"rgba(64, 158, 255, 0.1)"}])},itemStyle:{color:"#409EFF"}}]}]};a.setOption(n)}},getMimeType:function(e,t){var a={video:"video/mp4",audio:"audio/mpeg",ppt:"application/vnd.openxmlformats-officedocument.presentationml.presentation",word:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};return"word"!==e&&"ppt"!==e||!t.toLowerCase().endsWith(".pdf")?a[e]||"application/octet-stream":"application/pdf"},loadFiles:function(){var e=this;return(0,l.default)((0,r.default)().mark((function t(){var a,n,s,o,l,u,d,p,v,h,g,b,w,y,C,x,k,_;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,m.getSubmissionInfoById)(e.submitId);case 3:if(n=t.sent,s=n.data,null!==s&&void 0!==s&&null!==(a=s.taskInfos)&&void 0!==a&&a.length){t.next=7;break}throw new Error("No submissions found");case 7:o=s.taskInfos.filter((function(e){return e.finished})),l=o.map((function(e){return e.submissionType})),e.submissionTypes=e.fixedTabOrder.filter((function(e){return l.includes(e)})),u=(0,i.default)(o),t.prev=11,u.s();case 13:if((d=u.n()).done){t.next=59;break}if(p=d.value,v=p.submissionType,h=e.typeMapping[v],e.loading[h]=!0,t.prev=18,!p.fileName){t.next=49;break}return t.next=22,(0,c.showFile)(h,p.fileName);case 22:if(g=t.sent,b=e.getMimeType(h,p.fileName),"word"!==h){t.next=48;break}return e.convertLoading=!0,t.prev=26,t.next=29,f.default.convertToHtml({arrayBuffer:g},{styleMap:["p[style-name='Title'] => h1:fresh","p[style-name='Heading 1'] => h2:fresh","p[style-name='Heading 2'] => h3:fresh","p[style-name='Quote'] => blockquote:fresh","r[style-name='Strong'] => strong","r[style-name='Emphasis'] => em"]});case 29:w=t.sent,e.wordContent=w.value,y=new Blob([g],{type:b}),C=URL.createObjectURL(y),e._blobUrls=e._blobUrls||[],e._blobUrls.push(C),e.$set(e.fileUrls,h,C),t.next=43;break;case 38:t.prev=38,t.t0=t["catch"](26),console.error("Word conversion failed:",t.t0),e.$message.error("Word文档转换失败"),e.wordContent="";case 43:return t.prev=43,e.convertLoading=!1,t.finish(43);case 46:t.next=49;break;case 48:"ppt"===h?e.pdfData=g:(x=new Blob([g],{type:b}),k=URL.createObjectURL(x),e._blobUrls=e._blobUrls||[],e._blobUrls.push(k),e.$set(e.fileUrls,h,k),_=e.$refs["".concat(h,"Element")],_&&(_.src=k));case 49:t.next=54;break;case 51:t.prev=51,t.t1=t["catch"](18),console.error("Error loading ".concat(v," file:"),t.t1);case 54:return t.prev=54,e.loading[h]=!1,t.finish(54);case 57:t.next=13;break;case 59:t.next=64;break;case 61:t.prev=61,t.t2=t["catch"](11),u.e(t.t2);case 64:return t.prev=64,u.f(),t.finish(64);case 67:e.submissionTypes.length>0&&(e.activeTab=e.submissionTypes[0]),t.next=73;break;case 70:t.prev=70,t.t3=t["catch"](0),console.error("Error loading submissions:",t.t3);case 73:case"end":return t.stop()}}),t,null,[[0,70],[11,61,64,67],[18,51,54,57],[26,38,43,46]])})))()},handleFileError:function(e){this.loading[e]=!1},clearBlobUrls:function(){this._blobUrls.forEach((function(e){return URL.revokeObjectURL(e)})),this._blobUrls=[]},handlePlay:function(){this.isPlaying=!0},handlePause:function(){this.isPlaying=!1}},created:function(){var e=this;return(0,l.default)((0,r.default)().mark((function t(){return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchTaskData().then((function(){if(!e.activeTab){var t=Object.keys(e.evaluationData)[0];e.activeTab=t||"视频"}e.$nextTick((function(){e.initRadarChart(e.activeTab)}))}));case 2:return t.next=4,e.loadFiles();case 4:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){var e=this;this.radarCharts&&Object.keys(this.radarCharts).forEach((function(t){e.radarCharts[t]&&e.radarCharts[t].dispose()})),this._blobUrls&&Array.isArray(this._blobUrls)&&(this._blobUrls.forEach((function(e){return URL.revokeObjectURL(e)})),this._blobUrls=[])}}},"6bc4":function(e,t,a){"use strict";a.r(t);var n=a("cdef"),s=a("25ca");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("00a4");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"123b10fa",null);t["default"]=o.exports},"6c85":function(e,t,a){"use strict";a.r(t);var n=a("ac17"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"6cbc":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-drawer",{attrs:{size:"280px",visible:e.visible,"with-header":!1,"append-to-body":!0,"show-close":!1}},[n("div",{staticClass:"drawer-container"},[n("div",[n("div",{staticClass:"setting-drawer-content"},[n("div",{staticClass:"setting-drawer-title"},[n("h3",{staticClass:"drawer-title"},[e._v("主题风格设置")])]),n("div",{staticClass:"setting-drawer-block-checbox"},[n("div",{staticClass:"setting-drawer-block-checbox-item",on:{click:function(t){return e.handleTheme("theme-dark")}}},[n("img",{attrs:{src:a("adba"),alt:"dark"}}),"theme-dark"===e.sideTheme?n("div",{staticClass:"setting-drawer-block-checbox-selectIcon",staticStyle:{display:"block"}},[n("i",{staticClass:"anticon anticon-check",attrs:{"aria-label":"图标: check"}},[n("svg",{attrs:{viewBox:"64 64 896 896","data-icon":"check",width:"1em",height:"1em",fill:e.theme,"aria-hidden":"true",focusable:"false"}},[n("path",{attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 0 0-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}})])])]):e._e()]),n("div",{staticClass:"setting-drawer-block-checbox-item",on:{click:function(t){return e.handleTheme("theme-light")}}},[n("img",{attrs:{src:a("a2d0"),alt:"light"}}),"theme-light"===e.sideTheme?n("div",{staticClass:"setting-drawer-block-checbox-selectIcon",staticStyle:{display:"block"}},[n("i",{staticClass:"anticon anticon-check",attrs:{"aria-label":"图标: check"}},[n("svg",{attrs:{viewBox:"64 64 896 896","data-icon":"check",width:"1em",height:"1em",fill:e.theme,"aria-hidden":"true",focusable:"false"}},[n("path",{attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 0 0-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}})])])]):e._e()])]),n("div",{staticClass:"drawer-item"},[n("span",[e._v("主题颜色")]),n("theme-picker",{staticStyle:{float:"right",height:"26px",margin:"-3px 8px 0 0"},on:{change:e.themeChange}})],1)]),n("el-divider"),n("h3",{staticClass:"drawer-title"},[e._v("系统布局配置")]),n("div",{staticClass:"drawer-item"},[n("span",[e._v("开启 TopNav")]),n("el-switch",{staticClass:"drawer-switch",model:{value:e.topNav,callback:function(t){e.topNav=t},expression:"topNav"}})],1),n("div",{staticClass:"drawer-item"},[n("span",[e._v("开启 Tags-Views")]),n("el-switch",{staticClass:"drawer-switch",model:{value:e.tagsView,callback:function(t){e.tagsView=t},expression:"tagsView"}})],1),n("div",{staticClass:"drawer-item"},[n("span",[e._v("固定 Header")]),n("el-switch",{staticClass:"drawer-switch",model:{value:e.fixedHeader,callback:function(t){e.fixedHeader=t},expression:"fixedHeader"}})],1),n("div",{staticClass:"drawer-item"},[n("span",[e._v("显示 Logo")]),n("el-switch",{staticClass:"drawer-switch",model:{value:e.sidebarLogo,callback:function(t){e.sidebarLogo=t},expression:"sidebarLogo"}})],1),n("div",{staticClass:"drawer-item"},[n("span",[e._v("动态标题")]),n("el-switch",{staticClass:"drawer-switch",model:{value:e.dynamicTitle,callback:function(t){e.dynamicTitle=t},expression:"dynamicTitle"}})],1),n("el-divider"),n("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-document-add"},on:{click:e.saveSetting}},[e._v("保存配置")]),n("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-refresh"},on:{click:e.resetSetting}},[e._v("重置配置")])],1)])])},s=[]},"6d58":function(e,t,a){"use strict";a("59c1")},"6ddb":function(e,t,a){},"6eb4":function(e,t,a){"use strict";a.r(t);var n=a("bfcb"),s=a("13a0");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("7233");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},"6f29":function(e,t,a){"use strict";a.r(t);var n=a("af89"),s=a("046c");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("14a3");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"4fd006fc",null);t["default"]=o.exports},"6f35":function(e,t,a){"use strict";a("c319")},"6f8f":function(e,t,a){"use strict";a.r(t);var n=a("f9c2"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},7:function(e,t){},7003:function(e,t,a){"use strict";a.r(t);var n=a("74f3"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},7054:function(e,t,a){"use strict";a.r(t);var n=a("465f"),s=a("c393");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},"708a":function(e,t,a){"use strict";a.r(t);var n=a("c19b"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"70b1":function(e,t,a){},"713a":function(e,t,a){"use strict";a("9dc8")},7154:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-dashboard",use:"icon-dashboard-usage",viewBox:"0 0 128 100",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 100" id="icon-dashboard"><path d="M27.429 63.638c0-2.508-.893-4.65-2.679-6.424-1.786-1.775-3.94-2.662-6.464-2.662-2.524 0-4.679.887-6.465 2.662-1.785 1.774-2.678 3.916-2.678 6.424 0 2.508.893 4.65 2.678 6.424 1.786 1.775 3.94 2.662 6.465 2.662 2.524 0 4.678-.887 6.464-2.662 1.786-1.775 2.679-3.916 2.679-6.424zm13.714-31.801c0-2.508-.893-4.65-2.679-6.424-1.785-1.775-3.94-2.662-6.464-2.662-2.524 0-4.679.887-6.464 2.662-1.786 1.774-2.679 3.916-2.679 6.424 0 2.508.893 4.65 2.679 6.424 1.785 1.774 3.94 2.662 6.464 2.662 2.524 0 4.679-.888 6.464-2.662 1.786-1.775 2.679-3.916 2.679-6.424zM71.714 65.98l7.215-27.116c.285-1.23.107-2.378-.536-3.443-.643-1.064-1.56-1.762-2.75-2.094-1.19-.33-2.333-.177-3.429.462-1.095.639-1.81 1.573-2.143 2.804l-7.214 27.116c-2.857.237-5.405 1.266-7.643 3.088-2.238 1.822-3.738 4.152-4.5 6.992-.952 3.644-.476 7.098 1.429 10.364 1.905 3.265 4.69 5.37 8.357 6.317 3.667.947 7.143.474 10.429-1.42 3.285-1.892 5.404-4.66 6.357-8.305.762-2.84.619-5.607-.429-8.305-1.047-2.697-2.762-4.85-5.143-6.46zm47.143-2.342c0-2.508-.893-4.65-2.678-6.424-1.786-1.775-3.94-2.662-6.465-2.662-2.524 0-4.678.887-6.464 2.662-1.786 1.774-2.679 3.916-2.679 6.424 0 2.508.893 4.65 2.679 6.424 1.786 1.775 3.94 2.662 6.464 2.662 2.524 0 4.679-.887 6.465-2.662 1.785-1.775 2.678-3.916 2.678-6.424zm-45.714-45.43c0-2.509-.893-4.65-2.679-6.425C68.68 10.01 66.524 9.122 64 9.122c-2.524 0-4.679.887-6.464 2.661-1.786 1.775-2.679 3.916-2.679 6.425 0 2.508.893 4.65 2.679 6.424 1.785 1.774 3.94 2.662 6.464 2.662 2.524 0 4.679-.888 6.464-2.662 1.786-1.775 2.679-3.916 2.679-6.424zm32 13.629c0-2.508-.893-4.65-2.679-6.424-1.785-1.775-3.94-2.662-6.464-2.662-2.524 0-4.679.887-6.464 2.662-1.786 1.774-2.679 3.916-2.679 6.424 0 2.508.893 4.65 2.679 6.424 1.785 1.774 3.94 2.662 6.464 2.662 2.524 0 4.679-.888 6.464-2.662 1.786-1.775 2.679-3.916 2.679-6.424zM128 63.638c0 12.351-3.357 23.78-10.071 34.286-.905 1.372-2.19 2.058-3.858 2.058H13.93c-1.667 0-2.953-.686-3.858-2.058C3.357 87.465 0 76.037 0 63.638c0-8.613 1.69-16.847 5.071-24.703C8.452 31.08 13 24.312 18.714 18.634c5.715-5.68 12.524-10.199 20.429-13.559C47.048 1.715 55.333.035 64 .035c8.667 0 16.952 1.68 24.857 5.04 7.905 3.36 14.714 7.88 20.429 13.559 5.714 5.678 10.262 12.446 13.643 20.301 3.38 7.856 5.071 16.09 5.071 24.703z" /></symbol>'});r.a.add(o);t["default"]=o},7189:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("7ec2")),i=n(a("c973"));a("d9e2"),a("99af"),a("cb29"),a("c19f"),a("ace4"),a("2c66"),a("249d"),a("40e9"),a("b680"),a("b64b"),a("d3b7"),a("3ca3"),a("5cc6"),a("907a"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("986a"),a("1d02"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("6ce5"),a("2834"),a("72f7"),a("4ea1"),a("ddb0"),a("2b3d"),a("bf19"),a("9861"),a("88a7"),a("271a"),a("5494");var r=a("1148b"),o=a("68e48"),l=n(a("bc3a"));t.default={name:"HolisticDetection",data:function(){return{holistic:null,videoRunning:!1,error:null,lastVideoTime:-1,inputVideo:null,isMediaPipeReady:!1,isMediaPipeActive:!1,isAnalyzing:!1,analysisProgress:0,anxietyResult:null,analysisTime:"",apiBaseUrl:"http://10.120.48.67:8000",audioContext:null,audioSource:null,audioAnalyser:null,audioCanvasCtx:null,audioDataArray:null,isAudioVisualizationActive:!1,audioAnimationFrameId:null,audioAnalysisStats:null,isVideoValid:!0}},computed:{formattedScore:function(){return this.anxietyResult?parseFloat(JSON.parse(this.anxietyResult.score100)[0]).toFixed(0):"0"},anxietyLevelClass:function(){if(!this.anxietyResult)return"";var e,t=this.anxietyResult.category;try{var a=JSON.parse(t);e=Array.isArray(a)?a[0]:parseInt(t)}catch(n){e=parseInt(t)}return isNaN(e)?"":e<=1?"level-high":e<=3?"level-medium":"level-low"},anxietyLevelText:function(){if(!this.anxietyResult)return"未知";var e,t=this.anxietyResult.category;try{var a=JSON.parse(t);e=Array.isArray(a)?a[0]:parseInt(t)}catch(n){e=parseInt(t)}if(isNaN(e))return"未知";switch(e){case 0:return"重度焦虑";case 1:return"中度偏重焦虑";case 2:return"中度焦虑";case 3:return"轻度偏中焦虑";case 4:return"轻度焦虑";case 5:return"不焦虑";default:return"未知"}},anxietyDescription:function(){if(!this.anxietyResult)return"";var e,t=this.anxietyResult.category;try{var a=JSON.parse(t);e=Array.isArray(a)?a[0]:parseInt(t)}catch(n){e=parseInt(t)}return isNaN(e)?"":e<=1?"分析结果显示您在演讲过程中焦虑程度较高，可能影响演讲效果。":e<=3?"分析结果显示您在演讲过程中存在中等程度的焦虑，部分表现受到影响。":"分析结果显示您在演讲过程中焦虑程度较低或无焦虑，表现自信从容。"},anxietyTips:function(){if(!this.anxietyResult)return[];var e,t=this.anxietyResult.category;try{var a=JSON.parse(t);e=Array.isArray(a)?a[0]:parseInt(t)}catch(n){e=parseInt(t)}return isNaN(e)?[]:e<=1?["演讲前进行5-10分钟冥想放松","练习正念呼吸，缓解紧张情绪","可考虑适当的幽默缓解紧张氛围","提前熟悉演讲环境减少不确定性","演讲中允许自己短暂停顿，不必急于填满每一秒"]:e<=3?["演讲前进行深呼吸放松练习","增加演讲彩排次数增强信心","注意控制语速，给自己思考空间","关注积极的听众反馈"]:["继续保持良好的演讲状态","可尝试增加演讲的互动性","适当加入个人故事增强亲和力"]}},mounted:function(){try{this.initializeHolistic()}catch(e){this.error=e.message,console.error("初始化失败:",e)}},beforeDestroy:function(){},methods:{initializeHolistic:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){var a;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.holistic=new r.Holistic({locateFile:function(e){var t="".concat("/","mediapipe/"),a="".concat(t).concat(e);return console.log("Loading MediaPipe file:",a),a}}),a=function(){var e=(0,i.default)((0,s.default)().mark((function e(t){var a;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("/","mediapipe/").concat(t));case 3:if(a=e.sent,a.ok){e.next=6;break}throw new Error("Failed to load ".concat(t));case 6:e.next=12;break;case 8:throw e.prev=8,e.t0=e["catch"](0),console.error("MediaPipe file check failed: ".concat(t),e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),t.next=5,Promise.all([a("holistic.js"),a("holistic_solution_simd_wasm_bin.wasm")]);case 5:return t.next=7,e.holistic.setOptions({modelComplexity:1,smoothLandmarks:!0,enableSegmentation:!1,smoothSegmentation:!0,refineFaceLandmarks:!0,minDetectionConfidence:.5,minTrackingConfidence:.5});case 7:e.holistic.onResults((function(t){e.onResults(t)})),e.isMediaPipeReady=!0,t.next=15;break;case 11:throw t.prev=11,t.t0=t["catch"](0),console.error("初始化 MediaPipe 失败:",t.t0),new Error("您的浏览器不支持所需的功能，请使用最新版本的 Chrome/Firefox/Edge 浏览器");case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},handleVideoUpload:function(e){var t=this;return(0,i.default)((0,s.default)().mark((function a(){var n,i,r;return(0,s.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.target.files[0],n){a.next=3;break}return a.abrupt("return");case 3:return a.prev=3,t.anxietyResult=null,t.error=null,t.isVideoValid=!1,i=t.$refs.inputVideo,t.cleanupAudio(),i.src&&URL.revokeObjectURL(i.src),r=URL.createObjectURL(n),i.src=r,t.inputVideo=n,a.next=15,new Promise((function(e,t){i.onloadedmetadata=e,i.onerror=function(){return t(new Error("视频加载失败"))};var a=setTimeout((function(){t(new Error("视频加载超时"))}),1e4);i.onloadedmetadata=function(){clearTimeout(a),e()}}));case 15:console.log("视频元数据加载完成，duration:",i.duration),t.isVideoValid=!0,t.setupAudioAnalysis(),i.removeEventListener("play",t.startProcessing),i.removeEventListener("pause",t.stopProcessing),i.addEventListener("play",t.startProcessing),i.addEventListener("pause",t.stopProcessing),i.removeEventListener("play",t.startAudioVisualization),i.removeEventListener("pause",t.stopAudioVisualization),i.addEventListener("play",t.startAudioVisualization),i.addEventListener("pause",t.stopAudioVisualization),t.$message({message:"视频加载成功，可以进行焦虑分析",type:"success",duration:3e3}),a.next=34;break;case 29:a.prev=29,a.t0=a["catch"](3),console.error("视频加载失败:",a.t0),t.error="视频加载失败: "+a.t0.message,t.inputVideo&&(URL.revokeObjectURL(t.$refs.inputVideo.src),t.inputVideo=null);case 34:case"end":return a.stop()}}),a,null,[[3,29]])})))()},toggleVideo:function(){this.videoRunning?this.stopVideo():this.startVideo()},startVideo:function(){var e=this.$refs.inputVideo;e.currentTime=0,e.play(),this.videoRunning=!0},stopVideo:function(){var e=this.$refs.inputVideo;e.pause(),this.videoRunning=!1},startProcessing:function(){console.log("开始处理视频"),this.videoRunning=!0,this.isMediaPipeActive&&this.processVideo()},stopProcessing:function(){console.log("停止处理视频"),this.videoRunning=!1},processVideo:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){var a;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.videoRunning){t.next=2;break}return t.abrupt("return");case 2:if(a=e.$refs.inputVideo,t.prev=3,!(a.readyState>=2&&e.isMediaPipeActive)){t.next=7;break}return t.next=7,e.holistic.send({image:a});case 7:e.videoRunning&&requestAnimationFrame(e.processVideo),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),console.error("处理视频帧失败:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()},onResults:function(e){if(e&&this.$refs.outputCanvas){var t=this.$refs.outputCanvas,a=t.getContext("2d");try{a.save(),a.clearRect(0,0,t.width,t.height),a.drawImage(e.image,0,0,t.width,t.height),e.poseLandmarks&&((0,o.drawConnectors)(a,e.poseLandmarks,r.POSE_CONNECTIONS,{color:"#FFFFFF",lineWidth:4}),(0,o.drawLandmarks)(a,e.poseLandmarks,{color:"#90EE90",lineWidth:2})),e.faceLandmarks&&((0,o.drawConnectors)(a,e.faceLandmarks,r.FACEMESH_TESSELATION,{color:"#C0C0C070",lineWidth:1}),(0,o.drawConnectors)(a,e.faceLandmarks,r.FACEMESH_RIGHT_EYE,{color:"#FF3030",lineWidth:2}),(0,o.drawConnectors)(a,e.faceLandmarks,r.FACEMESH_LEFT_EYE,{color:"#30FF30",lineWidth:2}),(0,o.drawConnectors)(a,e.faceLandmarks,r.FACEMESH_FACE_OVAL,{color:"#E0E0E0",lineWidth:2})),a.restore()}catch(n){console.error("绘制结果失败:",n)}}},analyzeAnxiety:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){var a,n,i,r,o,c,u,d,f,p,m;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.inputVideo&&!e.isAnalyzing){t.next=2;break}return t.abrupt("return");case 2:if(e.isVideoValid){t.next=5;break}return e.$message({message:"视频未通过检测，无法进行焦虑分析",type:"warning",duration:3e3}),t.abrupt("return");case 5:return e.isAnalyzing=!0,e.analysisProgress=0,e.anxietyResult=null,e.error=null,t.prev=9,e.startProgressSimulation(),a=new FileReader,n=e.inputVideo,i=function(){return new Promise((function(e,t){a.onload=function(){return e(a.result)},a.onerror=function(){return t(new Error("读取文件失败"))},a.readAsArrayBuffer(n)}))},t.next=16,i();case 16:return r=t.sent,t.next=19,l.default.post("".concat(e.apiBaseUrl,"/upload"),r,{headers:{"Content-Type":n.type||"video/mp4"}});case 19:if(o=t.sent,0===o.data.code){t.next=22;break}throw new Error("上传失败: ".concat(o.data.error_message||"未知错误"));case 22:c=o.data.video_id,console.log("视频上传成功，ID:",c),e.analysisProgress=50,d=0,f=6,p=2e3;case 28:if(!(d<f)){t.next=60;break}return t.prev=29,e.updateAnalysisStatus("正在检查分析结果 (".concat(d+1,"/").concat(f,")...")),t.next=33,l.default.get("".concat(e.apiBaseUrl,"/detection?video_id=").concat(c));case 33:if(u=t.sent,0!==u.data.code){t.next=47;break}if("finished"!==u.data.status){t.next=40;break}return e.analysisProgress=100,t.abrupt("break",60);case 40:return e.analysisProgress=50+(d+1)/f*40,e.updateAnalysisStatus("视频正在处理中，将在2秒后重试..."),t.next=44,new Promise((function(e){return setTimeout(e,p)}));case 44:d++;case 45:t.next=48;break;case 47:throw new Error(u.data.error_message||"获取分析结果失败");case 48:t.next=58;break;case 50:if(t.prev=50,t.t0=t["catch"](29),d!==f-1){t.next=54;break}throw t.t0;case 54:return e.updateAnalysisStatus("请求失败，将在2秒后重试..."),t.next=57,new Promise((function(e){return setTimeout(e,p)}));case 57:d++;case 58:t.next=28;break;case 60:if(u&&u.data&&0===u.data.code){t.next=62;break}throw new Error("获取分析结果失败，请稍后再试");case 62:e.anxietyResult={score100:u.data.score100,category:u.data.category},m=new Date,e.analysisTime=m.toLocaleString(),console.log("焦虑分析结果:",e.anxietyResult),t.next=72;break;case 68:t.prev=68,t.t1=t["catch"](9),console.error("焦虑分析失败:",t.t1),e.error="焦虑分析失败: ".concat(t.t1.message||"未知错误");case 72:return t.prev=72,e.isAnalyzing=!1,t.finish(72);case 75:case"end":return t.stop()}}),t,null,[[9,68,72,75],[29,50]])})))()},updateAnalysisStatus:function(e){var t=document.querySelector(".loading-analysis p");t&&(t.textContent=e)},startProgressSimulation:function(){var e=this,t=0,a=setInterval((function(){e.isAnalyzing&&t<45?(t+=2*Math.random(),e.analysisProgress=Math.min(t,45)):clearInterval(a)}),300)},setupAudioAnalysis:function(){try{this.cleanupAudio();var e=window.AudioContext||window.webkitAudioContext;this.audioContext=new e;var t=this.$refs.inputVideo;this.audioSource=this.audioContext.createMediaElementSource(t),this.audioAnalyser=this.audioContext.createAnalyser(),this.audioAnalyser.fftSize=256;var a=this.audioAnalyser.frequencyBinCount;this.audioDataArray=new Uint8Array(a),this.audioSource.connect(this.audioAnalyser),this.audioAnalyser.connect(this.audioContext.destination);var n=this.$refs.audioCanvas;n&&(n.width=n.offsetWidth||300,n.height=n.offsetHeight||150,this.audioCanvasCtx=n.getContext("2d")),console.log("音频分析设置完成")}catch(s){console.error("设置音频分析失败:",s),this.error="无法分析音频: "+s.message}},cleanupAudio:function(){if(this.audioAnimationFrameId&&(cancelAnimationFrame(this.audioAnimationFrameId),this.audioAnimationFrameId=null),this.audioSource){try{this.audioSource.disconnect()}catch(e){}this.audioSource=null}if(this.audioAnalyser){try{this.audioAnalyser.disconnect()}catch(e){}this.audioAnalyser=null}if(this.audioContext){try{"closed"!==this.audioContext.state&&this.audioContext.close()}catch(e){}this.audioContext=null}this.isAudioVisualizationActive=!1,this.audioDataArray=null,this.audioAnalysisStats=null},toggleAudioVisualization:function(){this.isAudioVisualizationActive?this.stopAudioVisualization():this.startAudioVisualization()},startAudioVisualization:function(){this.audioContext&&this.audioAnalyser&&this.audioCanvasCtx||this.setupAudioAnalysis(),this.audioContext&&"suspended"===this.audioContext.state&&this.audioContext.resume(),this.isAudioVisualizationActive=!0,this.drawAudioSpectrum()},stopAudioVisualization:function(){this.isAudioVisualizationActive=!1,this.audioAnimationFrameId&&(cancelAnimationFrame(this.audioAnimationFrameId),this.audioAnimationFrameId=null)},drawAudioSpectrum:function(){if(this.isAudioVisualizationActive&&this.audioAnalyser&&this.audioCanvasCtx){var e=this.$refs.audioCanvas,t=e.width,a=e.height;this.audioAnalyser.getByteFrequencyData(this.audioDataArray),this.audioCanvasCtx.clearRect(0,0,t,a);var n,s=t/this.audioDataArray.length*2.5,i=0,r=0,o=0,l=0,c=this.audioCanvasCtx.createLinearGradient(0,0,0,a);c.addColorStop(0,"rgba(76, 175, 80, 1)"),c.addColorStop(.5,"rgba(129, 199, 132, 0.8)"),c.addColorStop(1,"rgba(165, 214, 167, 0.6)");for(var u=0;u<this.audioDataArray.length;u++)n=this.audioDataArray[u]/255*a,r+=this.audioDataArray[u],this.audioDataArray[u]>l&&(l=this.audioDataArray[u],o=u*(22050/this.audioDataArray.length)),this.audioCanvasCtx.fillStyle=c,this.audioCanvasCtx.fillRect(i,a-n,s,n),i+=s+1;var d=r/this.audioDataArray.length,f=Math.round(d/255*100);this.audioAnalysisStats={dominantFrequency:Math.round(o),volume:f+"%"},this.audioAnimationFrameId=requestAnimationFrame(this.drawAudioSpectrum)}},toggleMediaPipe:function(){this.isMediaPipeActive=!this.isMediaPipeActive,this.isMediaPipeActive&&this.videoRunning&&this.processVideo(),this.isMediaPipeActive||this.clearOutputCanvas()},clearOutputCanvas:function(){if(this.$refs.outputCanvas){var e=this.$refs.outputCanvas,t=e.getContext("2d");t.clearRect(0,0,e.width,e.height);var a=e.width/2,n=e.height/2,s=80;t.beginPath(),t.arc(a,n,s,0,2*Math.PI),t.fillStyle="rgba(0, 0, 0, 0.5)",t.fill(),t.fillStyle="#FFFFFF",t.fillRect(a-30,n-25,20,50),t.fillRect(a+10,n-25,20,50)}},clearVideo:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$confirm("确定要清除当前视频吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(){return!1}));case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:try{e.videoRunning&&e.stopVideo(),e.isMediaPipeActive&&e.toggleMediaPipe(),e.isAudioVisualizationActive&&e.stopAudioVisualization(),e.cleanupAudio(),e.inputVideo&&(URL.revokeObjectURL(e.$refs.inputVideo.src),e.inputVideo=null),e.anxietyResult=null,e.analysisProgress=0,e.isAnalyzing=!1,e.audioAnalysisStats=null,e.error=null,e.isVideoValid=!0,e.clearOutputCanvas(),e.$message({message:"视频已清除",type:"success"})}catch(a){console.error("清理资源失败:",a),e.$message.error("清理视频失败")}case 5:case"end":return t.stop()}}),t)})))()},handleBeforeUnload:function(){this.inputVideo&&URL.revokeObjectURL(this.$refs.inputVideo.src),this.cleanupAudio(),this.clearChatHistory()}}}},"71f7":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"score-card",attrs:{shadow:"hover"}},[a("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[a("h4",{staticClass:"card-title"},[e._v("我的成绩")]),a("div",{staticClass:"header-right"},[e.isGrading?a("div",{staticClass:"grading-status"},[a("i",{staticClass:"el-icon-loading"}),a("span",[e._v("评分中...")])]):e._e(),a("el-button",{attrs:{type:"text",loading:e.loading,icon:"el-icon-refresh"},on:{click:e.manualRefresh}},[e._v(" 刷新成绩 ")])],1),e.showLegend?a("div",{staticClass:"score-legend"},[a("div",{staticClass:"legend-item"},[a("span",{staticClass:"dot excellent"}),a("span",[e._v("优秀 (≥90)")])]),a("div",{staticClass:"legend-item"},[a("span",{staticClass:"dot good"}),a("span",[e._v("良好 (≥80)")])]),a("div",{staticClass:"legend-item"},[a("span",{staticClass:"dot pass"}),a("span",[e._v("及格 (≥60)")])]),a("div",{staticClass:"legend-item"},[a("span",{staticClass:"dot fail"}),a("span",[e._v("不及格 (<60)")])])]):e._e()]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.scoreData,"header-cell-style":e.headerStyle,"row-style":e.rowStyle,"cell-style":e.cellStyle,border:!1}},[a("el-table-column",{attrs:{prop:"type",label:"作业类型",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:{"clickable-type":null!==t.row.total&&"-"!==t.row.total,"disabled-type":null===t.row.total||"-"===t.row.total},on:{click:function(a){return e.handleTypeClick(t.row.type,t.row.total)}}},[e._v(" "+e._s(t.row.type)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"video",label:"视频",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"score-text"},[e._v(e._s(e.formatScore(t.row.video)))])]}}])}),a("el-table-column",{attrs:{prop:"audio",label:"音频",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"score-text"},[e._v(e._s(e.formatScore(t.row.audio)))])]}}])}),a("el-table-column",{attrs:{prop:"ppt",label:"PPT",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"score-text"},[e._v(e._s(e.formatScore(t.row.ppt)))])]}}])}),a("el-table-column",{attrs:{prop:"speech",label:"演讲稿",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"score-text"},[e._v(e._s(e.formatScore(t.row.speech)))])]}}])}),a("el-table-column",{attrs:{prop:"total",label:"总分",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:["total-score",e.getScoreClass(t.row.total)]},[e._v(" "+e._s(e.formatScore(t.row.total))+" ")])]}}])})],1),e.isGrading?a("div",{staticClass:"grading-tip"},[a("i",{staticClass:"el-icon-info"}),e._v(" "+e._s(e.gradingMessage)+" ")]):e._e()],1)},s=[]},7204:function(e,t,a){"use strict";a.r(t);var n=a("ac67"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},7233:function(e,t,a){"use strict";a("e861")},"7234d":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-textarea",use:"icon-textarea-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-textarea"><defs><style type="text/css"></style></defs><path d="M896 160H128c-35.2 0-64 28.8-64 64v576c0 35.2 28.8 64 64 64h768c35.2 0 64-28.8 64-64V224c0-35.2-28.8-64-64-64z m0 608c0 16-12.8 32-32 32H160c-19.2 0-32-12.8-32-32V256c0-16 12.8-32 32-32h704c19.2 0 32 12.8 32 32v512z" p-id="2985" /><path d="M224 288c-19.2 0-32 12.8-32 32v256c0 16 12.8 32 32 32s32-12.8 32-32V320c0-16-12.8-32-32-32z m608 480c19.2 0 32-12.8 32-32V608L704 768h128z" p-id="2986" /></symbol>'});r.a.add(o);t["default"]=o},7271:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-theme",use:"icon-theme-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-theme"><path d="M125.5 36.984L95.336 2.83C93.735 1.018 91.565 0 89.3 0c-2.263 0-4.433 1.018-6.033 2.83l-3.786 4.286c-1.6 1.812-3.77 2.83-6.032 2.831H54.553c-2.263 0-4.434-1.018-6.033-2.83L44.734 2.83C43.134 1.018 40.964 0 38.701 0c-2.263 0-4.434 1.018-6.034 2.83L2.5 36.984C.9 38.796 0 41.254 0 43.815c0 2.562.899 5.02 2.5 6.831L14.565 64.31c2.178 2.468 5.367 3.403 8.33 2.444 1.35-.435 2.709.592 2.709 2.18v49.407c0 5.313 3.84 9.66 8.532 9.66h59.726c4.693 0 8.532-4.347 8.532-9.66V68.934c0-1.59 1.36-2.616 2.71-2.181 2.962.96 6.15.024 8.329-2.444L125.5 50.646c1.6-1.811 2.499-4.269 2.499-6.83 0-2.563-.899-5.02-2.5-6.832z" /></symbol>'});r.a.add(o);t["default"]=o},"72ae":function(e,t,a){"use strict";a.r(t);var n=a("fda0"),s=a("d32b");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("9d81");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"0f490066",null);t["default"]=o.exports},"72c5":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("4360")),i=document,r=i.body,o=992;t.default={watch:{$route:function(e){"mobile"===this.device&&this.sidebar.opened&&s.default.dispatch("app/closeSideBar",{withoutAnimation:!1})}},beforeMount:function(){window.addEventListener("resize",this.$_resizeHandler)},beforeDestroy:function(){window.removeEventListener("resize",this.$_resizeHandler)},mounted:function(){var e=this.$_isMobile();e&&(s.default.dispatch("app/toggleDevice","mobile"),s.default.dispatch("app/closeSideBar",{withoutAnimation:!0}))},methods:{$_isMobile:function(){var e=r.getBoundingClientRect();return e.width-1<o},$_resizeHandler:function(){if(!document.hidden){var e=this.$_isMobile();s.default.dispatch("app/toggleDevice",e?"mobile":"desktop"),e&&s.default.dispatch("app/closeSideBar",{withoutAnimation:!0})}}}}},"72d1":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-guide",use:"icon-guide-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-guide"><path d="M1.482 70.131l36.204 16.18 69.932-65.485-61.38 70.594 46.435 18.735c1.119.425 2.397-.17 2.797-1.363v-.085L127.998.047 1.322 65.874c-1.12.597-1.519 1.959-1.04 3.151.32.511.72.937 1.2 1.107zm44.676 57.821L64.22 107.26l-18.062-7.834v28.527z" /></symbol>'});r.a.add(o);t["default"]=o},"72e5":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-fullscreen",use:"icon-fullscreen-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-fullscreen"><path d="M38.47 52L52 38.462l-23.648-23.67L43.209 0H.035L0 43.137l14.757-14.865L38.47 52zm74.773 47.726L89.526 76 76 89.536l23.648 23.672L84.795 128h43.174L128 84.863l-14.757 14.863zM89.538 52l23.668-23.648L128 43.207V.038L84.866 0 99.73 14.76 76 38.472 89.538 52zM38.46 76L14.792 99.651 0 84.794v43.173l43.137.033-14.865-14.757L52 89.53 38.46 76z" /></symbol>'});r.a.add(o);t["default"]=o},"734f":function(e,t,a){"use strict";a.r(t);var n=a("ab71"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"737d":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-cascader",use:"icon-cascader-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-cascader"><defs><style type="text/css"></style></defs><path d="M772.87036133 734.06115723c-43.34106445 0-80.00793458 27.93273926-93.76831055 66.57714843H475.90991211c-56.60705567 0-102.66723633-46.06018067-102.66723633-102.66723633V600.82446289h305.859375c13.76037598 38.64440918 50.42724609 66.57714844 93.76831055 66.57714844 55.12390137 0 99.94812012-44.82421875 99.94812012-99.94812012S827.9942627 467.50537109 772.87036133 467.50537109c-43.34106445 0-80.00793458 27.93273926-93.76831055 66.57714844H373.24267578V401.01062011h321.92687989c55.12390137 0 99.94812012-44.82421875 99.94812011-99.94812011V190.07312011C795.11767578 134.94921875 750.29345703 90.125 695.16955567 90.125H251.12963867C196.0057373 90.125 151.18151855 134.94921875 151.18151855 190.07312011V301.0625c0 55.12390137 44.82421875 99.94812012 99.94812012 99.94812012h55.53588867v296.96044921c0 93.35632325 75.97045898 169.32678223 169.32678224 169.32678223h203.19213866c13.76037598 38.64440918 50.42724609 66.57714844 93.76831055 66.57714844 55.12390137 0 99.94812012-44.82421875 99.94812012-99.94812012s-44.90661622-99.86572266-100.03051758-99.86572265z m0-199.89624024c18.37463379 0 33.28857422 14.91394043 33.28857422 33.28857423s-14.91394043 33.28857422-33.28857422 33.28857421-33.28857422-14.91394043-33.28857422-33.28857421 14.91394043-33.28857422 33.28857422-33.28857422zM217.75866699 301.0625V190.07312011c0-18.37463379 14.91394043-33.28857422 33.28857423-33.28857421h444.03991698c18.37463379 0 33.28857422 14.91394043 33.28857422 33.28857422V301.0625c0 18.37463379-14.91394043 33.28857422-33.28857422 33.28857422H251.12963867c-18.37463379 0-33.37097168-14.91394043-33.37097168-33.28857422z m555.11169434 566.23535156c-18.37463379 0-33.28857422-14.91394043-33.28857422-33.28857422 0-18.37463379 14.91394043-33.28857422 33.28857422-33.28857422s33.28857422 14.91394043 33.28857422 33.28857422c0.08239747 18.29223633-14.91394043 33.28857422-33.28857422 33.28857422z" p-id="972" /></symbol>'});r.a.add(o);t["default"]=o},7403:function(e,t,a){"use strict";a.r(t);var n=a("79ef"),s=a("2d0e");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("a72c");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"120e6024",null);t["default"]=o.exports},"74a24":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-eye-open",use:"icon-eye-open-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="icon-eye-open"><defs><style></style></defs><path d="M512 128q69.675 0 135.51 21.163t115.498 54.997 93.483 74.837 73.685 82.006 51.67 74.837 32.17 54.827L1024 512q-2.347 4.992-6.315 13.483T998.87 560.17t-31.658 51.669-44.331 59.99-56.832 64.34-69.504 60.16-82.347 51.5-94.848 34.687T512 896q-69.675 0-135.51-21.163t-115.498-54.826-93.483-74.326-73.685-81.493-51.67-74.496-32.17-54.997L0 513.707q2.347-4.992 6.315-13.483t18.816-34.816 31.658-51.84 44.331-60.33 56.832-64.683 69.504-60.331 82.347-51.84 94.848-34.816T512 128.085zm0 85.333q-46.677 0-91.648 12.331t-81.152 31.83-70.656 47.146-59.648 54.485-48.853 57.686-37.675 52.821-26.325 43.99q12.33 21.674 26.325 43.52t37.675 52.351 48.853 57.003 59.648 53.845T339.2 767.02t81.152 31.488T512 810.667t91.648-12.331 81.152-31.659 70.656-46.848 59.648-54.186 48.853-57.344 37.675-52.651T927.957 512q-12.33-21.675-26.325-43.648t-37.675-52.65-48.853-57.345-59.648-54.186-70.656-46.848-81.152-31.659T512 213.334zm0 128q70.656 0 120.661 50.006T682.667 512 632.66 632.661 512 682.667 391.339 632.66 341.333 512t50.006-120.661T512 341.333zm0 85.334q-35.328 0-60.33 25.002T426.666 512t25.002 60.33T512 597.334t60.33-25.002T597.334 512t-25.002-60.33T512 426.666z" /></symbol>'});r.a.add(o);t["default"]=o},"74d0":function(e,t,a){"use strict";a.r(t);var n=a("f590"),s=a("786b");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("47a2");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},"74f3":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a15b"),a("d81d"),a("d3b7"),a("0643"),a("4e3e"),a("a573"),a("159b");var n=a("c0c7");t.default={name:"AuthRole",data:function(){return{loading:!0,total:0,pageNum:1,pageSize:10,roleIds:[],roles:[],form:{}}},created:function(){var e=this,t=this.$route.params&&this.$route.params.userId;t&&(this.loading=!0,(0,n.getAuthRole)(t).then((function(t){e.form=t.user,e.roles=t.roles,e.total=e.roles.length,e.$nextTick((function(){e.roles.forEach((function(t){t.flag&&e.$refs.table.toggleRowSelection(t)}))})),e.loading=!1})))},methods:{clickRow:function(e){this.$refs.table.toggleRowSelection(e)},handleSelectionChange:function(e){this.roleIds=e.map((function(e){return e.roleId}))},getRowKey:function(e){return e.roleId},submitForm:function(){var e=this,t=this.form.userId,a=this.roleIds.join(",");(0,n.updateAuthRole)({userId:t,roleIds:a}).then((function(t){e.$modal.msgSuccess("授权成功"),e.close()}))},close:function(){var e={path:"/system/user"};this.$tab.closeOpenPage(e)}}}},7509:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("448a")),i=n(a("278c")),r=n(a("6374"));a("4de4"),a("c740"),a("caad"),a("14d9"),a("fb6a"),a("a434"),a("b0c0"),a("d3b7"),a("2532"),a("9911"),a("0643"),a("2382"),a("9a9a"),a("ddb0");var o={visitedViews:[],cachedViews:[],iframeViews:[]},l={ADD_IFRAME_VIEW:function(e,t){e.iframeViews.some((function(e){return e.path===t.path}))||e.iframeViews.push(Object.assign({},t,{title:t.meta.title||"no-name"}))},ADD_VISITED_VIEW:function(e,t){e.visitedViews.some((function(e){return e.path===t.path}))||e.visitedViews.push(Object.assign({},t,{title:t.meta.title||"no-name"}))},ADD_CACHED_VIEW:function(e,t){e.cachedViews.includes(t.name)||t.meta&&!t.meta.noCache&&e.cachedViews.push(t.name)},DEL_VISITED_VIEW:function(e,t){var a,n=(0,r.default)(e.visitedViews.entries());try{for(n.s();!(a=n.n()).done;){var s=(0,i.default)(a.value,2),o=s[0],l=s[1];if(l.path===t.path){e.visitedViews.splice(o,1);break}}}catch(c){n.e(c)}finally{n.f()}e.iframeViews=e.iframeViews.filter((function(e){return e.path!==t.path}))},DEL_IFRAME_VIEW:function(e,t){e.iframeViews=e.iframeViews.filter((function(e){return e.path!==t.path}))},DEL_CACHED_VIEW:function(e,t){var a=e.cachedViews.indexOf(t.name);a>-1&&e.cachedViews.splice(a,1)},DEL_OTHERS_VISITED_VIEWS:function(e,t){e.visitedViews=e.visitedViews.filter((function(e){return e.meta.affix||e.path===t.path})),e.iframeViews=e.iframeViews.filter((function(e){return e.path===t.path}))},DEL_OTHERS_CACHED_VIEWS:function(e,t){var a=e.cachedViews.indexOf(t.name);e.cachedViews=a>-1?e.cachedViews.slice(a,a+1):[]},DEL_ALL_VISITED_VIEWS:function(e){var t=e.visitedViews.filter((function(e){return e.meta.affix}));e.visitedViews=t,e.iframeViews=[]},DEL_ALL_CACHED_VIEWS:function(e){e.cachedViews=[]},UPDATE_VISITED_VIEW:function(e,t){var a,n=(0,r.default)(e.visitedViews);try{for(n.s();!(a=n.n()).done;){var s=a.value;if(s.path===t.path){s=Object.assign(s,t);break}}}catch(i){n.e(i)}finally{n.f()}},DEL_RIGHT_VIEWS:function(e,t){var a=e.visitedViews.findIndex((function(e){return e.path===t.path}));-1!==a&&(e.visitedViews=e.visitedViews.filter((function(t,n){if(n<=a||t.meta&&t.meta.affix)return!0;var s=e.cachedViews.indexOf(t.name);if(s>-1&&e.cachedViews.splice(s,1),t.meta.link){var i=e.iframeViews.findIndex((function(e){return e.path===t.path}));e.iframeViews.splice(i,1)}return!1})))},DEL_LEFT_VIEWS:function(e,t){var a=e.visitedViews.findIndex((function(e){return e.path===t.path}));-1!==a&&(e.visitedViews=e.visitedViews.filter((function(t,n){if(n>=a||t.meta&&t.meta.affix)return!0;var s=e.cachedViews.indexOf(t.name);if(s>-1&&e.cachedViews.splice(s,1),t.meta.link){var i=e.iframeViews.findIndex((function(e){return e.path===t.path}));e.iframeViews.splice(i,1)}return!1})))}},c={addView:function(e,t){var a=e.dispatch;a("addVisitedView",t),a("addCachedView",t)},addIframeView:function(e,t){var a=e.commit;a("ADD_IFRAME_VIEW",t)},addVisitedView:function(e,t){var a=e.commit;a("ADD_VISITED_VIEW",t)},addCachedView:function(e,t){var a=e.commit;a("ADD_CACHED_VIEW",t)},delView:function(e,t){var a=e.dispatch,n=e.state;return new Promise((function(e){a("delVisitedView",t),a("delCachedView",t),e({visitedViews:(0,s.default)(n.visitedViews),cachedViews:(0,s.default)(n.cachedViews)})}))},delVisitedView:function(e,t){var a=e.commit,n=e.state;return new Promise((function(e){a("DEL_VISITED_VIEW",t),e((0,s.default)(n.visitedViews))}))},delIframeView:function(e,t){var a=e.commit,n=e.state;return new Promise((function(e){a("DEL_IFRAME_VIEW",t),e((0,s.default)(n.iframeViews))}))},delCachedView:function(e,t){var a=e.commit,n=e.state;return new Promise((function(e){a("DEL_CACHED_VIEW",t),e((0,s.default)(n.cachedViews))}))},delOthersViews:function(e,t){var a=e.dispatch,n=e.state;return new Promise((function(e){a("delOthersVisitedViews",t),a("delOthersCachedViews",t),e({visitedViews:(0,s.default)(n.visitedViews),cachedViews:(0,s.default)(n.cachedViews)})}))},delOthersVisitedViews:function(e,t){var a=e.commit,n=e.state;return new Promise((function(e){a("DEL_OTHERS_VISITED_VIEWS",t),e((0,s.default)(n.visitedViews))}))},delOthersCachedViews:function(e,t){var a=e.commit,n=e.state;return new Promise((function(e){a("DEL_OTHERS_CACHED_VIEWS",t),e((0,s.default)(n.cachedViews))}))},delAllViews:function(e,t){var a=e.dispatch,n=e.state;return new Promise((function(e){a("delAllVisitedViews",t),a("delAllCachedViews",t),e({visitedViews:(0,s.default)(n.visitedViews),cachedViews:(0,s.default)(n.cachedViews)})}))},delAllVisitedViews:function(e){var t=e.commit,a=e.state;return new Promise((function(e){t("DEL_ALL_VISITED_VIEWS"),e((0,s.default)(a.visitedViews))}))},delAllCachedViews:function(e){var t=e.commit,a=e.state;return new Promise((function(e){t("DEL_ALL_CACHED_VIEWS"),e((0,s.default)(a.cachedViews))}))},updateVisitedView:function(e,t){var a=e.commit;a("UPDATE_VISITED_VIEW",t)},delRightTags:function(e,t){var a=e.commit;return new Promise((function(e){a("DEL_RIGHT_VIEWS",t),e((0,s.default)(o.visitedViews))}))},delLeftTags:function(e,t){var a=e.commit;return new Promise((function(e){a("DEL_LEFT_VIEWS",t),e((0,s.default)(o.visitedViews))}))}};t.default={namespaced:!0,state:o,mutations:l,actions:c}},7582:function(e,t,a){},7651:function(e,t,a){"use strict";a("c441")},7686:function(e,t,a){"use strict";a("05a3")},"76f8":function(e,t,a){"use strict";a.r(t);var n=a("444a"),s=a("01ec");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},"772d":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"evaluation-dimensions bg-gray-50 min-h-screen p-6"},[a("el-card",{staticClass:"mb-6"},[a("div",{staticClass:"top-section"},[a("div",{staticClass:"left-section"},[a("h2",{staticClass:"page-title"},[e._v("评价维度设置")]),a("div",{staticClass:"evaluation-tabs"},e._l(e.evaluationMethods,(function(t){return a("button",{key:t,staticClass:"evaluation-tab-btn",class:{active:e.activeMethod===t},on:{click:function(a){e.activeMethod=t}}},[e._v(" "+e._s(t)+" ")])})),0)]),a("div",{staticClass:"right-section"},[a("div",{staticClass:"template-buttons"},[a("el-button-group",[a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:e.applyBasicTemplate}},[e._v("基础模板")]),a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:e.startCustomTemplate}},[e._v("自定义模板")])],1)],1),a("el-button",{attrs:{type:"primary",size:"small",loading:e.loading},on:{click:e.submitEvaluationDimensions}},[e._v("提交评价维度")])],1)])]),a("div",{staticClass:"types-grid"},e._l(e.modalTypes,(function(t){return a("el-card",{key:t,staticClass:"type-card"},[a("div",{staticClass:"type-header"},[a("span",{staticClass:"title-text"},[e._v(e._s(t))])]),a("div",{staticClass:"dimensions-container"},[e._l(e.getDimensionsByType(t),(function(n,s){return a("div",{key:s,staticClass:"dimension-block"},[a("div",{staticClass:"dimension-title-area"},[a("div",{staticClass:"dimension-title"},[e._v("评价维度 "+e._s(s+1))]),a("div",{staticClass:"dimension-input-group"},[a("el-input",{attrs:{disabled:"机评"===e.activeMethod,size:"small",placeholder:"请输入评价维度标题"},model:{value:n.evaluationTitle,callback:function(t){e.$set(n,"evaluationTitle",t)},expression:"dimension.evaluationTitle"}}),"机评"!==e.activeMethod?a("el-button",{staticClass:"delete-btn",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.removeDimension(t,s)}}}):e._e()],1)]),a("div",{staticClass:"points-container"},[a("div",{staticClass:"points-title"},[e._v("评价点")]),a("div",{staticClass:"points-list"},e._l(n.evaluationInfos,(function(t,s){return a("div",{key:s,staticClass:"point-item"},[a("el-input",{attrs:{disabled:"机评"===e.activeMethod,size:"small",placeholder:"请输入评价点描述"},model:{value:n.evaluationInfos[s],callback:function(t){e.$set(n.evaluationInfos,s,t)},expression:"dimension.evaluationInfos[pIndex]"}}),"机评"!==e.activeMethod?a("el-button",{staticClass:"delete-btn",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.removePoint(n,s)}}}):e._e()],1)})),0),"机评"!==e.activeMethod?a("el-button",{staticClass:"add-btn add-point-btn",attrs:{type:"text",size:"small"},on:{click:function(t){return e.addPoint(n)}}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 添加评价点 ")]):e._e()],1)])})),"机评"!==e.activeMethod?a("el-button",{staticClass:"add-btn add-dimension-btn",attrs:{type:"text",size:"small"},on:{click:function(a){return e.addDimension(t)}}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 添加评价维度 ")]):e._e()],2)])})),1)],1)},s=[]},"777e":function(e,t,a){"use strict";a.r(t);var n=a("08b8"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},7800:function(e,t,a){},7803:function(e,t,a){"use strict";a.r(t);var n=a("a74b"),s=a("4f7b");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("14ff");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},7810:function(e,t,a){},"786b":function(e,t,a){"use strict";a.r(t);var n=a("95c5"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},7953:function(e,t,a){},"79ef":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"rightPanel",staticClass:"rightPanel-container"},[a("div",{staticClass:"rightPanel-background"}),a("div",{staticClass:"rightPanel"},[a("div",{staticClass:"rightPanel-items"},[e._t("default")],2)])])},s=[]},"7ae7":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"errPage-container"},[a("el-button",{staticClass:"pan-back-btn",attrs:{icon:"arrow-left"},on:{click:e.back}},[e._v(" 返回 ")]),a("el-row",[a("el-col",{attrs:{span:12}},[a("h1",{staticClass:"text-jumbo text-ginormous"},[e._v(" 401错误! ")]),a("h2",[e._v("您没有访问权限！")]),a("h6",[e._v("对不起，您没有访问权限，请不要进行非法操作！您可以返回主页面")]),a("ul",{staticClass:"list-unstyled"},[a("li",{staticClass:"link-type"},[a("router-link",{attrs:{to:"/"}},[e._v(" 回首页 ")])],1)])]),a("el-col",{attrs:{span:12}},[a("img",{attrs:{src:e.errGif,width:"313",height:"428",alt:"Girl has dropped her ice cream."}})])],1)],1)},s=[]},"7b3c":function(e,t,a){"use strict";a.r(t);var n=a("961f"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"7b3e":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"assignment-detail"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("作业信息")])]),a("el-form",{attrs:{"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业名称:",required:""}},[a("el-input",{attrs:{placeholder:"请输入作业名称，不超过100个字符"},model:{value:e.assignment.name,callback:function(t){e.$set(e.assignment,"name",t)},expression:"assignment.name"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"截止日期:",required:""}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"2024-09-20 00:00:00"},model:{value:e.assignment.deadline,callback:function(t){e.$set(e.assignment,"deadline",t)},expression:"assignment.deadline"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"作业描述:"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入作业描述",maxlength:50},on:{input:e.handleInput},model:{value:e.assignment.description,callback:function(t){e.$set(e.assignment,"description",t)},expression:"assignment.description"}}),e.descriptionLength>50?a("span",{staticStyle:{color:"red"}},[e._v("输入字数过多！")]):e._e()],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业附件:"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://fake-upload-url.com","before-upload":e.handleBeforeUpload,"auto-upload":!1,multiple:"","file-list":e.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1)],1),a("el-row",[a("el-form-item",{attrs:{label:"提交内容:",required:""}},[a("el-checkbox-group",{model:{value:e.assignment.contentTypes,callback:function(t){e.$set(e.assignment,"contentTypes",t)},expression:"assignment.contentTypes"}},[a("el-checkbox",{attrs:{label:"视频"}}),a("el-checkbox",{attrs:{label:"音频",disabled:!0}}),a("el-checkbox",{attrs:{label:"PPT"}}),a("el-checkbox",{attrs:{label:"演讲稿",disabled:!0}})],1)],1)],1)],1)],1),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("作业设置")])]),a("el-form",{attrs:{"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"评阅流程:",required:""}},[a("div",{staticClass:"review-process-container"},[a("el-checkbox-group",{model:{value:e.reviewProcesses,callback:function(t){e.reviewProcesses=t},expression:"reviewProcesses"}},[a("el-checkbox",{attrs:{label:"自评"}},[e._v("自评")]),a("el-checkbox",{attrs:{label:"机评"}},[e._v("机评")]),a("el-checkbox",{attrs:{label:"互评"}},[e._v("互评")]),a("el-checkbox",{attrs:{label:"师评"}},[e._v("师评")])],1),a("span",{staticClass:"process-description"},[e._v("（本次作业的评阅流程为："+e._s(e.reviewProcessDescription)+"）")])],1)])],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"评阅人设置:"}},[a("el-checkbox-group",{model:{value:e.hiddenInformation,callback:function(t){e.hiddenInformation=t},expression:"hiddenInformation"}},[a("el-checkbox",{attrs:{label:"隐藏评卷人信息"}},[e._v("是否对提交人隐藏评卷人信息")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"分数设置:",required:""}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.scoreItems}},[a("el-table-column",{attrs:{prop:"category",label:"类别",width:"125",align:"center"}}),a("el-table-column",{attrs:{label:"满分",width:"120",align:"center"}},[e._v("100")]),a("el-table-column",{attrs:{label:"权重",width:"125",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"number"},on:{input:e.calculateScores},model:{value:t.row.weight,callback:function(a){e.$set(t.row,"weight",e._n(a))},expression:"scope.row.weight"}}),a("span",{staticStyle:{"margin-left":"5px"}},[e._v("%")])]}}])}),a("el-table-column",{attrs:{label:"加权分值",width:"125",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((t.row.fullScore*t.row.weight/100).toFixed(2))+" ")]}}])})],1),100!==e.weightSum?a("div",{staticClass:"weight-warning"},[e._v("权重相加需为100%")]):e._e(),a("div",[e._v("总分："+e._s(e.totalScore))])],1)],1)],1)],1)],1),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix"},[a("el-button",{attrs:{type:"primary"},on:{click:e.createAssignment}},[e._v("创建")]),a("el-button",{on:{click:e.cancelAssignment}},[e._v("取消")])],1)]),a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[e._v("系统可能不会保存您所做的更改。")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.leavePage}},[e._v("离开")])],1)])],1)},s=[]},"7b5c":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["url"==this.type?a("el-upload",{ref:"upload",staticStyle:{display:"none"},attrs:{action:e.uploadUrl,"before-upload":e.handleBeforeUpload,"on-success":e.handleUploadSuccess,"on-error":e.handleUploadError,name:"file","show-file-list":!1,headers:e.headers}}):e._e(),a("div",{ref:"editor",staticClass:"editor",style:e.styles})],1)},s=[]},"7b85":function(e,t,a){"use strict";a.r(t);var n=a("f6cd"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"7d9c":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tags-view-container",attrs:{id:"tags-view-container"}},[a("scroll-pane",{ref:"scrollPane",staticClass:"tags-view-wrapper",on:{scroll:e.handleScroll}},e._l(e.visitedViews,(function(t){return a("router-link",{key:t.path,ref:"tag",refInFor:!0,staticClass:"tags-view-item",class:e.isActive(t)?"active":"",style:e.activeStyle(t),attrs:{to:{path:t.path,query:t.query,fullPath:t.fullPath},tag:"span"},nativeOn:{mouseup:function(a){if("button"in a&&1!==a.button)return null;!e.isAffix(t)&&e.closeSelectedTag(t)},contextmenu:function(a){return a.preventDefault(),e.openMenu(t,a)}}},[e._v(" "+e._s(t.title)+" "),e.isAffix(t)?e._e():a("span",{staticClass:"el-icon-close",on:{click:function(a){return a.preventDefault(),a.stopPropagation(),e.closeSelectedTag(t)}}})])})),1),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:e.left+"px",top:e.top+"px"}},[a("li",{on:{click:function(t){return e.refreshSelectedTag(e.selectedTag)}}},[a("i",{staticClass:"el-icon-refresh-right"}),e._v(" 刷新页面")]),e.isAffix(e.selectedTag)?e._e():a("li",{on:{click:function(t){return e.closeSelectedTag(e.selectedTag)}}},[a("i",{staticClass:"el-icon-close"}),e._v(" 关闭当前")]),a("li",{on:{click:e.closeOthersTags}},[a("i",{staticClass:"el-icon-circle-close"}),e._v(" 关闭其他")]),e.isFirstView()?e._e():a("li",{on:{click:e.closeLeftTags}},[a("i",{staticClass:"el-icon-back"}),e._v(" 关闭左侧")]),e.isLastView()?e._e():a("li",{on:{click:e.closeRightTags}},[a("i",{staticClass:"el-icon-right"}),e._v(" 关闭右侧")]),a("li",{on:{click:function(t){return e.closeAllTags(e.selectedTag)}}},[a("i",{staticClass:"el-icon-circle-close"}),e._v(" 全部关闭")])])],1)},s=[]},"7ded":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.getInfo=c,t.login=i,t.registerAdmin=l,t.registerStudent=r,t.registerTeacher=o;var s=n(a("b775"));function i(e,t){var a={userName:e,password:t};return(0,s.default)({url:"/login",headers:{"Content-Type":"application/json"},method:"post",data:a})}function r(e){return(0,s.default)({url:"/create/StudentAccount",method:"post",data:e})}function o(e){return(0,s.default)({url:"/create/TeacherAccount",method:"post",data:e})}function l(e){return(0,s.default)({headers:{"Content-Type":"application/x-www-form-urlencoded"},url:"/create/AdminAccount",method:"post",data:e})}function c(){return(0,s.default)({url:"/login/verifyToken",method:"get"})}},"7e3f":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("ca17"));a("542c");t.default={components:{Treeselect:s.default},props:{info:{type:Object,default:null},tables:{type:Array,default:null},menus:{type:Array,default:[]}},data:function(){return{subColumns:[],rules:{tplCategory:[{required:!0,message:"请选择生成模板",trigger:"blur"}],packageName:[{required:!0,message:"请输入生成包路径",trigger:"blur"}],moduleName:[{required:!0,message:"请输入生成模块名",trigger:"blur"}],businessName:[{required:!0,message:"请输入生成业务名",trigger:"blur"}],functionName:[{required:!0,message:"请输入生成功能名",trigger:"blur"}]}}},watch:{"info.subTableName":function(e){this.setSubTableColumns(e)},"info.tplWebType":function(e){""===e&&(this.info.tplWebType="element-ui")}},methods:{normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.menuId,label:e.menuName,children:e.children}},subSelectChange:function(e){this.info.subTableFkName=""},tplSelectChange:function(e){"sub"!==e&&(this.info.subTableName="",this.info.subTableFkName="")},setSubTableColumns:function(e){for(var t in this.tables){var a=this.tables[t].tableName;if(e===a){this.subColumns=this.tables[t].columns;break}}}}}},"7f6c":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("3e27")),i=n(a("2abd")),r=n(a("60fd")),o=n(a("d29e")),l=n(a("5efc")),c=n(a("f00f")),u=function(e){e.directive("hasRole",s.default),e.directive("hasPermi",i.default),e.directive("clipboard",c.default),e.directive("dialogDrag",r.default),e.directive("dialogDragWidth",o.default),e.directive("dialogDragHeight",l.default)};window.Vue&&(window["hasRole"]=s.default,window["hasPermi"]=i.default,Vue.use(u));t.default=u},8:function(e,t){},8032:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAADH5JREFUeF7tnQ1y5jQMhsNJgJMAJ1k4CexJYE8CexLgJFBNP0/Tr0ks/8S2pCczO21nHSeR9ER6bSf5ZmNbxQLfbdv26XEyP27bJn/Lln7+sztR+T39/fXx+1+rXIin8/jG08UYvpaft237vcP5CzR/bNsm0ABMB4MCSAcjNnYh2eLPxj6OdhdYBBKBRaBhq7AAgFQYreMuUj4JHKmM6tj1u65SZvmyK83uOparfgFkjDv3AKTff3g59G9jDv/uKJJVPlOC6SwPIDo75VpJ0Ms/CXrZ0t9SPq26SdkloOzF/6rnOu28AKTO9GnESX6KwLa6pdJLQGE7sACA6MMiQTGjLNKfZV1LAeUnsslH4wFIPqA8g7G/erIJGSRPw1OLX1/+9pgxrgwh10vJ9bAQGeQ4VCRryMTdyiK7mPaCHSi5AOQwXKKUUxpWBJLvNQ09tyGDvHn3rhlty/ETHhIAeQ3fXmuhLMNwdu4yX/KLxwvTXBOAvGoNy3MZGj+3tgkr3KMDIuugogrxUmgki4Rb9BgVkOijVKVwSPuQI1sRAQGOGjxe9wmnRyICQllVD4jsKUtSwjyMFQ0QBHkbHKnUCjM/EgkQ5jna4Ug9hBnVigIIcPSDI1QWiQLI3wMea+0bguv3FmLYNwIgEVfkjsArxDKUCID8NyJagh7D/YiWd0AYtbqXXBnuFUjcbp4BkQlB0R5s91rAdRbxDAjZ414wQgz5egYE7TEGENdi3SsgPN8xBo50FLdllldAmPcYC4jbRYxeAaG8GguI2zLLIyCUV2PhcF1meQSE5exzAHG5gNEjIJRXcwBxOWnoDRDKqzlwuF3h6w0QFibOA0SO7G641xsgzJ7PBcSdDvEGCPMfcwFxp0O8AYJAnwuIu/kQT4DwWO1cOFzOh3gChBGsNQBx9SiuJ0AYwVoDEFdC3RMgjGCtAYgroQ4gawSVp7NwJdQ9AcIarHUwcxNXbi7k8fy5PIfONt8CbmbUAWR+MHk8AwBZ0KtMEq7jFDcjWZ4yCIAASHcLAEh3k9Lh4/shLl4oByDE8x0WcDMX4gUQ3qJ4R5jX9+lmLgRA6oOAPc8tACCLRQcZZC2HAMha/tgAZDGHbNvmojpxcRGPr0fxJve1IHERWy4u4mVYkYel1oJDzsZFbLm4iG3beFhqPUBcLDfxAAjZYz045IxEqAsk8tPsZh0QniJcO/QEDnnz++e1T/P87CwDAhx2os7sc+qWAWFxoh1AzM6LWAUEUW4HjnSmJkU7gNgLNKtnDCADPYf+GGjsTocyqUOsZhAA6RS1A7sBkIHGRoMMNHanQ1FidTKkphsmBzVWWqvN9xYnDa2WWACyVvBrzgZANFbq1Ibl7Z0MObAbkzdjkyf9cCofyxkY3Y2HYqKw0YA1u/Oq0RqrzdlH1mPJKJa5zXIGYajXTrgByARfIdQnGL3ykCbnQORaLWcQhHpltE7YzeQIlnVA5PzRIROiveKQZm/EZk/84SQAqYjWwbuY1R8eMgg6ZHC0VxzOrP7wAAg6pCJiB+9iukoxffKUWYNDvfxwpssrDxlEroEyqzxwR+1hurzyAoiUWfIJaAGFbS0LmK9QzF/AIx54PmQtMORszJdXXjKIXAdifT1AzE4O7k3pJYPINUmZJZmEbb4FXGQPTxmELDIfiv0ZuMge3gCR60GLzAfFTfbwCIhoEVl+Ij/Z5ljATfbwCIhcE/Mic8CQo5p8c8mVuTyJ9P118jDVeEjcfPrZ6yjW/rootcYCYvaZ85yZvGYQRrVynu/7/+5Kq2Qez4AwqtUXgrPe3MLhVaQ/OxI9ch8ov1n+epTGLN4zSCq1WMyoiYayNi5F+bMJIgCSIGF+pAyAq9ZuRXlUQBDt/eBwOd9xZp4oGSRdP5OI7aC4FuWRM0i6dkR7PSTmnxAsvfRoGQRISiPkrX0IUU4GebUAj+mWgRISjijzIGehwHIUHSRhRqyOzBG1xEq24FHdPCShRDkl1seA4CGrc0hCwxG9xNqHBSNbHyEJqzv2poheYu1LLZajvEVGaN0BIMclBXrkzS7hS6tkCjLIe1jQI9vmfoVuflzirQWAvLdW9PkRSqsnegDk4+0k8notSisAUSXYiG9pZNTqIDTIIAj2ZAFX77NS3QYVjQDk3EiR5kZcvQ1REffqJgBybqpIw75oj5M4AJDre0mEr+iiPS5iAECuAYkwohXuISh1ffXyyhYAyVvLexYhBsggeQouWngW64jzTGhw98iz47nMorwCkDwBmRaeR7OY+wCQZkCkA686hAoCQLoA4lGHoD8UocEdRGEkp98+ZFm7wvcAojCS08+6IdAVvgcQhZEARGckj60AROdVjyNZrL9S+B5AFEYig+iM5LEVgOi86vFZdUS6wvcAojASo1g6I3lsBSA6r3p8BJcXNCh8DyAKI23b9p+umblWCHVm0puD1qP+SEZhNh1AmgHxug5LDCNllmQR+cl2YAFKrOuw8LgG6/mKySIXMQAg58bxODl4drVokRPLAMg5IJ5Lq+erptQCkKISOxIcyTBAggZRQRIRDiAhg2Th4KOeryaSTCLC/XPWYgEaoEFenRxhtKo0nFmrxXuxlvheerpjSwD/+4jibx/fcpesJm9VmbWFzyZRM4gE3qeXqJO75IytJPDSucqMvvw+Y5PXk8oTiOEmFKMBYgmMZxBWOHcB5ctLVpOfIbYogMwOLgmmXi+JXmEwQUR8CFC8A7ICGAJH7+Ucq3xLUUouGe2S63O5eQRkhZp9Hyy9MsdRySVzNrN0yf58kqb66q388gTIKtniOXDk9Z53bSuuFysZgLjLLt36tQ7IilDsnTPi3VOrPq8ioEj2lKxitgSzCMhqJdTZ3WrUI60riPbcHTvBYk7YWwHEChSjs0c6nqWVAKZgWRkQi1DsARn5aQGr3zBZHpbVALEOxR6Q0ba1/mKJJWEZ7cSjWjVBIXfBmeuOcnV0yf/3nvfQHNvTMv00EiaaZerylpmArD4CpQnKszYA0mK99/tOnYwcDYhnKPZuBZB+gKSeppRgowARMGSkRcbsI2x3zZ5f2c5TiZWLkWFZ5W5AEhQrLIfIGb3n/4+aA9mf89+LLDvpacdcX7fP2t8BSJQyKue8O2x7dUzro1g5e179/22g9HaipQmrFodo9h35rqlVl5to7NSzTXdQegEiw7PyBvRopVTurnbnQsXo5VXO9l1ePNEKyCrPJfS8C/Xsa0QWIXuce6z5XV8tgOCYPEp3i/UVl7vnrTK2RVPZVQsIcOidfOecSKShXb3Fj1tWvcaoBhCEeLmrqpyTOQxwlPuhOKOXAuLxU2TlZq7boyckwFHnA9mrKKOXAEJZVe+UtGePJfDojnY/qG9WJYBEnohqd8lrDyX2vjpmxFnzXj5I/ahGGLUOI6W3u6cotaM/2g2e6UGlRzSAWH1a7XYLFx6gJyAMlBQa/6R59qUaGkDIHoOcUXAYbloFxrpoms0iOUAQhH0cIb30EOjpbPBLP79capEcIAzr9nNEztalR0Kol1rsuP3lszs5p+GEPk7oqT/SGVH69vHNZZl1BQh1bh8HSC93AIJQ7+ef0zLrChAmBvs5IDtaUnEobmAVRjvZ5XTiEED6Gfmqp54CHaHe32enOuQKEAR6P0fktF7tkdCItZZ7vx+A9LFjVS936A+EepUrTnc6FepXdzZGSfo4Qb0wruJwCPUKox3sUgUIJVYf498h0NOZIdT7+KiqxOLu1Mf4dwh0hHof36ReqgBhmLePE+4S6OnsEOrtfjrViUwUthv3qoc7BTpCvZ/vTsvgK0BYENfugDsFejo7SuF2P52Wwbn0z0hWm/HvFOgI9Tbf7Pc+5SAHCKMkbU64U6Aj1Nt8k/a+LINzgFj4gmofM93TS86+vY6KUK+35OVNTONARrPqjD9CoCPU63yjyh7SSAMI79+tc8IIgY5Qr/NN2itbAmsAkc7QIuWOGCHQEerlfkl7qG5gWkCkU4YTy5yRvTuVdXfZmiH5MmOqP5FXAgilVpkTSmxb1vNxa4S6zorZN5moxn9PjsWols4JIwU6Ql3nk9RK9UbF1LjmLgckeYeo6tt8N0UtKIGvzSWZQ3ShlFfqrQYQ6ZwPdV6beKRAR6jnw12tOZ67qgUk9cNd69g5IwV6OgOE+rEvmrJ5KyBkk2On9LBr/r74sQVC/c0mogO/lJZUvTPIvr9UdsmcifyLus0Q6Aj1Vws0fY/wKGDvutMJLALJD7tPQ0eBpimlN95VopS8AkICIonur63Z4sj2/wPmMTLn4GH/+AAAAABJRU5ErkJggg=="},"806c":function(e,t,a){},"80b4":function(e,t,a){"use strict";a.r(t);var n=a("e66c"),s=a("aa2c");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},"811c":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-客户档案",use:"icon-客户档案-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-客户档案"><path d="M563.84 744.32c-29.44-27.52-74.88-27.52-104.32 0l-2.56 2.56a68.032 68.032 0 0 0 10.24 103.04L432 1024h160l-35.2-174.72c2.56-1.92 5.12-3.84 7.68-6.4l2.56-2.56c25.6-26.88 24.32-69.76-3.2-96zM538.88 0c60.8 0 145.28 25.6 185.6 104.96 40.32 79.36 43.52 166.4 43.52 187.52 0 21.12 22.4 10.24 22.4 41.6s-9.6 93.44-44.16 135.68c-33.28 42.24-44.8 52.48-66.56 83.84s-33.28 65.28-33.28 94.08c0 101.12 174.72 111.36 284.16 172.16l10.88 6.4c50.56 30.72 66.56 96.64 35.84 146.56-19.2 32-53.76 51.2-90.88 51.2H138.88C80 1024 32 976 32 917.12c0-33.92 16-65.28 42.88-85.12l8.32-5.76c107.52-65.92 295.04-73.6 295.04-177.92 0-27.52-10.88-62.72-33.28-94.08-22.4-32-33.92-42.24-67.2-84.48s-44.8-104.32-44.8-135.68c0-31.36 22.4-21.12 22.4-41.6-1.28-111.36 14.08-194.56 122.88-250.88C400.64 30.08 453.12 24.32 478.08 24.32 505.6 21.76 478.72 0 538.88 0z" p-id="1426" /></symbol>'});r.a.add(o);t["default"]=o},"81ae":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={401:"认证失败，无法访问系统资源",403:"当前操作没有权限",404:"访问资源不存在",default:"系统未知错误，请反馈给管理员"}},"82c5":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14d9"),a("a9e3"),a("d3b7"),a("0643"),a("4e3e"),a("159b");var n=a("61f7");t.default={name:"ImagePreview",props:{src:{type:String,default:""},width:{type:[Number,String],default:""},height:{type:[Number,String],default:""}},computed:{realSrc:function(){if(this.src){var e=this.src.split(",")[0];return(0,n.isExternal)(e)?e:"/api"+e}},realSrcList:function(){if(this.src){var e=this.src.split(","),t=[];return e.forEach((function(e){return(0,n.isExternal)(e)?t.push(e):t.push("/api"+e)})),t}},realWidth:function(){return"string"==typeof this.width?this.width:"".concat(this.width,"px")},realHeight:function(){return"string"==typeof this.height?this.height:"".concat(this.height,"px")}}}},8337:function(e,t,a){},8352:function(e,t,a){"use strict";var n=a("dbce").default,s=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(a("6374")),r=s(a("7ec2")),o=s(a("278c")),l=s(a("ded3")),c=s(a("c973"));a("d9e2"),a("99af"),a("cb29"),a("4de4"),a("7db0"),a("caad"),a("d81d"),a("14d9"),a("4e82"),a("a9e3"),a("4fad"),a("b64b"),a("d3b7"),a("07ac"),a("8a79"),a("2532"),a("3ca3"),a("0643"),a("2382"),a("fffc"),a("4e3e"),a("a573"),a("9a9a"),a("159b"),a("ddb0"),a("2b3d"),a("bf19"),a("9861"),a("88a7"),a("271a"),a("5494");var u=a("5a2f"),d=a("cc43"),f=n(a("313e")),p=a("5c96"),m=s(a("c343")),v=s(a("09ad"));t.default={name:"showmachineEvaluation",directives:{loading:p.Loading},props:{taskId:{type:String,required:!0},submitId:{type:String,required:!0},taskDetails:{type:Object,required:!0}},data:function(){return{activeTab:"视频",submissionTypes:[],submitting:!1,evaluationData:{video:[],audio:[],ppt:[],word:[]},ratings:{video:[],audio:[],ppt:[],word:[]},comments:{video:"",audio:"",ppt:"",word:""},typeMapping:{"视频":"video","音频":"audio",PPT:"ppt","演讲稿":"word"},radarChart:null,radarCharts:{},dimensionScores:{"视频":0,"音频":0,PPT:0,"演讲稿":0},fileUrls:{video:"",audio:"",ppt:"",word:""},loading:{video:!1,audio:!1,ppt:!1,word:!1},currentTaskInfo:null,_blobUrls:[],wordContent:"",convertLoading:!1,isPlaying:!1,pdfData:null,fixedTabOrder:["视频","音频","PPT","演讲稿"],audioMetricsMap:{fluency_score:"流利度",integrity_score:"完整度",accuracy_score:"准确度"},audioMetricsOrder:["fluency_score","integrity_score","accuracy_score"],totalScores:{video:0,audio:0,word:0,ppt:0}}},computed:{videoScore:function(){return this.calculateTotalScore("video")},getLevelText:function(){return this.videoScore>=90?"非常出色！":this.videoScore>=80?"表现优秀！":this.videoScore>=60?"继续加油":"需要改进"},getFaceColor:function(){return this.videoScore>=80?"#67C23A":this.videoScore>=60?"#E6A23C":"#F56C6C"},radarData:function(){var e=this;return this.submissionTypes.map((function(t){var a=e.typeMapping[t];return{name:t,value:e.calculateTotalScore(a)}}))},radarIndicator:function(){return this.submissionTypes.map((function(e){return{name:e,max:100}}))}},watch:{activeTab:{handler:function(e){var t=this;this.$nextTick((function(){t.initRadarChart(e)}))}},immediate:!0},components:{"pdf-viewer":v.default},methods:{fetchTaskData:function(){var e=this;return(0,c.default)((0,r.default)().mark((function t(){var a,n,s;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,u.getEvaluationByTaskIdAndStuId)(e.taskId,e.taskDetails.ownerId);case 3:if(a=t.sent,null!==a&&void 0!==a&&a.data){t.next=7;break}return e.$message.error("获取评估信息失败"),t.abrupt("return");case 7:if(n=a.data.evaluationTypes.find((function(e){return"机评"===e.evaluationMethod})),n){t.next=11;break}return e.$message.warning("未找到机评数据"),t.abrupt("return");case 11:s=n.evaluationContents.filter((function(e){return e.finished})),e.submissionTypes=["视频","音频","PPT","演讲稿"].filter((function(e){return s.some((function(t){return t.evaluationContent===e}))})),e.evaluationData={video:[{evaluationInfos:["演讲焦虑程度"]}],ppt:[{evaluationInfos:[""]}]},e.ratings={video:[[0]],audio:[],ppt:[],word:[]},e.comments={video:"",audio:"",ppt:"",word:""},n.evaluationContents.forEach((function(t){if(t.finished)switch(t.evaluationContent){case"视频":e.ratings.video=[[t.grade/20]],e.totalScores=(0,l.default)((0,l.default)({},e.totalScores),{},{video:t.grade||0}),e.comments.video=t.evaluationTitle||"";break;case"演讲稿":if(t.evaluationDimensions){var a=t.evaluationDimensions.map((function(e){var t=Object.keys(e),a=(0,o.default)(t,1),n=a[0];return n}));e.$set(e.evaluationData,"word",[{evaluationInfos:a}]),e.ratings.word=[t.evaluationDimensions.map((function(e){var t=Number(Object.values(e)[0]);return t}))],e.totalScores=(0,l.default)((0,l.default)({},e.totalScores),{},{word:t.grade||0}),e.comments.word=t.evaluationTitle||""}break;case"音频":if(t.evaluationDimensions){var n=e.audioMetricsOrder.map((function(t){return e.audioMetricsMap[t]}));e.$set(e.evaluationData,"audio",[{evaluationInfos:n}]);var s=e.audioMetricsOrder.map((function(e){var a=t.evaluationDimensions.find((function(t){return e in t}));return a?Number(a[e]):0}));e.ratings.audio=[s],e.totalScores=(0,l.default)((0,l.default)({},e.totalScores),{},{audio:t.grade||0}),e.comments.audio=t.evaluationTitle||""}break;case"PPT":if(t.evaluationDimensions){var i=t.evaluationDimensions.map((function(e){var t=Object.keys(e),a=(0,o.default)(t,1),n=a[0];return n}));e.$set(e.evaluationData,"ppt",[{evaluationInfos:i}]),e.ratings.ppt=[t.evaluationDimensions.map((function(e){var t=Number(Object.values(e)[0]);return t}))],e.totalScores=(0,l.default)((0,l.default)({},e.totalScores),{},{ppt:t.grade||0}),e.comments.ppt=t.evaluationTitle||""}break}})),e.activeTab=e.submissionTypes[0]||"",e.$nextTick((function(){e.initRadarChart()})),t.next=25;break;case 21:t.prev=21,t.t0=t["catch"](0),console.error("获取任务信息失败：",t.t0),e.$message.error("获取任务信息失败");case 25:case"end":return t.stop()}}),t,null,[[0,21]])})))()},initializeEvaluationData:function(e){var t=this;if(null!==e&&void 0!==e&&e.evaluationDimensions){var a=e.evaluationDimensions.find((function(e){return"自评"===(null===e||void 0===e?void 0:e.evaluationMethods)}));null!==a&&void 0!==a&&a.evaluationTypes&&a.evaluationTypes.forEach((function(e){var a=t.typeMapping[e.evaluationContent];if(a){t.$set(t.evaluationData,a,e.evaluationTitles||[]);var n=e.evaluationTitles.map((function(e){return e.evaluationInfos?Array(e.evaluationInfos.length).fill(0):[]}));t.$set(t.ratings,a,n),t.$set(t.comments,a,"")}}))}},calculateTotalScore:function(e){var t=this,a=this.totalScores[e]||0;"audio"===e&&null!==a&&(a=20*a+10,a=Math.min(Math.round(a),100));var n=Object.keys(this.typeMapping).find((function(a){return t.typeMapping[a]===e}));return n&&(this.$set(this.dimensionScores,n,a),Object.keys(this.radarCharts).forEach((function(e){t.updateRadarChart(e)}))),a},initRadarChart:function(e){var t,a=null===(t=this.$refs["radarContainer-".concat(e)])||void 0===t?void 0:t[0];a&&(this.radarCharts[e]&&this.radarCharts[e].dispose(),this.radarCharts[e]=f.init(a),this.updateRadarChart(e))},updateRadarChart:function(e){var t=this,a=this.radarCharts[e];if(a){var n={title:{text:"能力评分雷达图",left:"center",top:10,textStyle:{fontSize:14,color:"#666"}},tooltip:{trigger:"item",formatter:function(e){var a=t.submissionTypes[e.dimensionIndex];return"".concat(a,": ").concat(t.dimensionScores[a],"分")}},radar:{indicator:this.submissionTypes.map((function(e){return{name:e,max:100}})),shape:"circle",radius:"65%",splitNumber:5,name:{textStyle:{color:"#666",fontSize:12}},splitArea:{areaStyle:{color:["#f3f6f9","#e9ecf2"]}}},series:[{type:"radar",name:"能力评分",data:[{value:this.submissionTypes.map((function(e){return t.dimensionScores[e]})),name:"当前评分",symbol:"circle",symbolSize:6,lineStyle:{width:2,color:"#409EFF"},areaStyle:{color:new f.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(64, 158, 255, 0.3)"},{offset:1,color:"rgba(64, 158, 255, 0.1)"}])},itemStyle:{color:"#409EFF"}}]}]};a.setOption(n)}},updateDimensionScore:function(e){var t=this,a=this.typeMapping[e],n=this.calculateTotalScore(a);this.$set(this.dimensionScores,e,n),Object.keys(this.radarCharts).forEach((function(e){t.updateRadarChart(e)}))},getMimeType:function(e,t){var a={video:"video/mp4",audio:"audio/mpeg",ppt:"application/vnd.openxmlformats-officedocument.presentationml.presentation",word:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};return"word"!==e&&"ppt"!==e||!t.toLowerCase().endsWith(".pdf")?a[e]||"application/octet-stream":"application/pdf"},loadFiles:function(){var e=this;return(0,c.default)((0,r.default)().mark((function t(){var a,n,s,o,l,c,f,p,v,h,g,b,w,y,C,x,k,_;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,d.getSubmissionInfoById)(e.submitId);case 3:if(n=t.sent,s=n.data,null!==s&&void 0!==s&&null!==(a=s.taskInfos)&&void 0!==a&&a.length){t.next=7;break}throw new Error("No submissions found");case 7:o=s.taskInfos.filter((function(e){return e.finished})),l=o.map((function(e){return e.submissionType})),e.submissionTypes=e.fixedTabOrder.filter((function(e){return l.includes(e)})),c=(0,i.default)(o),t.prev=11,c.s();case 13:if((f=c.n()).done){t.next=59;break}if(p=f.value,v=p.submissionType,h=e.typeMapping[v],e.loading[h]=!0,t.prev=18,!p.fileName){t.next=49;break}return t.next=22,(0,u.showFile)(h,p.fileName);case 22:if(g=t.sent,b=e.getMimeType(h,p.fileName),"word"!==h){t.next=48;break}return e.convertLoading=!0,t.prev=26,t.next=29,m.default.convertToHtml({arrayBuffer:g},{styleMap:["p[style-name='Title'] => h1:fresh","p[style-name='Heading 1'] => h2:fresh","p[style-name='Heading 2'] => h3:fresh","p[style-name='Quote'] => blockquote:fresh","r[style-name='Strong'] => strong","r[style-name='Emphasis'] => em"]});case 29:w=t.sent,e.wordContent=w.value,y=new Blob([g],{type:b}),C=URL.createObjectURL(y),e._blobUrls=e._blobUrls||[],e._blobUrls.push(C),e.$set(e.fileUrls,h,C),t.next=43;break;case 38:t.prev=38,t.t0=t["catch"](26),console.error("Word conversion failed:",t.t0),e.$message.error("Word文档转换失败"),e.wordContent="";case 43:return t.prev=43,e.convertLoading=!1,t.finish(43);case 46:t.next=49;break;case 48:"ppt"===h?e.pdfData=g:(x=new Blob([g],{type:b}),k=URL.createObjectURL(x),e._blobUrls=e._blobUrls||[],e._blobUrls.push(k),e.$set(e.fileUrls,h,k),_=e.$refs["".concat(h,"Element")],_&&(_.src=k));case 49:t.next=54;break;case 51:t.prev=51,t.t1=t["catch"](18),console.error("Error loading ".concat(v," file:"),t.t1);case 54:return t.prev=54,e.loading[h]=!1,t.finish(54);case 57:t.next=13;break;case 59:t.next=64;break;case 61:t.prev=61,t.t2=t["catch"](11),c.e(t.t2);case 64:return t.prev=64,c.f(),t.finish(64);case 67:e.submissionTypes.length>0&&(e.activeTab=e.submissionTypes[0]),t.next=73;break;case 70:t.prev=70,t.t3=t["catch"](0),console.error("Error loading submissions:",t.t3);case 73:case"end":return t.stop()}}),t,null,[[0,70],[11,61,64,67],[18,51,54,57],[26,38,43,46]])})))()},handleFileError:function(e){this.loading[e]=!1},clearBlobUrls:function(){this._blobUrls.forEach((function(e){return URL.revokeObjectURL(e)})),this._blobUrls=[]},handlePlay:function(){this.isPlaying=!0},handlePause:function(){this.isPlaying=!1},parseAudioComment:function(e){try{var t=JSON.parse(e);return Object.entries(t).map((function(e){var t=(0,o.default)(e,2),a=t[0],n=t[1],s=a.split("-"),i=(0,o.default)(s,2),r=i[0],l=i[1];return{text:r,position:parseInt(l),score:parseFloat(n)}})).sort((function(e,t){return e.position-t.position}))}catch(a){return console.error("解析音频评语失败:",a),[]}},getColorByScore:function(e){var t=Math.max(0,Math.min(5,e));if(t<=2.5){var a=t/2.5,n=255,s=Math.round(255*a);return"rgb(".concat(n,", ").concat(s,", 0)")}var i=(t-2.5)/2.5,r=Math.round(255*(1-i)),o=255;return"rgb(".concat(r,", ").concat(o,", 0)")}},created:function(){var e=this;return(0,c.default)((0,r.default)().mark((function t(){return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.submissionTypes.forEach((function(t){e.$set(e.dimensionScores,t,0)})),t.next=3,e.fetchTaskData().then((function(){if(!e.activeTab){var t=Object.keys(e.evaluationData)[0];e.activeTab=t||"视频"}e.$nextTick((function(){e.initRadarChart(e.activeTab)}))}));case 3:return t.next=5,e.loadFiles();case 5:case"end":return t.stop()}}),t)})))()},mounted:function(){console.log(this.$route.query),console.log(this.taskId,this.submitId,this.taskDetails)},beforeDestroy:function(){var e=this;this.radarCharts&&Object.keys(this.radarCharts).forEach((function(t){e.radarCharts[t]&&e.radarCharts[t].dispose()})),this._blobUrls&&Array.isArray(this._blobUrls)&&(this._blobUrls.forEach((function(e){return URL.revokeObjectURL(e)})),this._blobUrls=[])}}},8378:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAADCFJREFUeF7tnYmxFUcMRR+R2ESCHQkQCRCJ7UgwkWAiwU/mNR4es/Silq5ad6p+fag/vV3pjHqbnhc32+vX2+32+lGk/Hv7Y1sTlqatwD+PDOV3+flyt/Gf2gVZ5vfCoLACxZsHEAZFsgggBQosf99ut0+3201+h7lmAVKgeB9GCVbUSgEBRqLKB6sCR8qZAci7e4UIxohVcqQVUN6iRxRNQAhGDsfWbiU0KBqASHfqj/uT4Ddt5ZhfGgVgu12jgAgcHzn4TuPIsxsqXXOosckIIBIxBA5eVEBTAYkmvz+mijXz7cqrFxCZspVuFS8qMEMBGEh6AGHkmOESzPNZAQhIWgGRMcdn2pIKGCkgkLw0Kmu3mBZAOCD3tFTesmVRUdZLXK4WQGRAzqlcFzOlL9RtdqsWEA7K0/uoqwBui4m1gHx1lYeFU4Fv+7fMu1o1gHALCd0TRQFZHzHdDVwDCKMHinuwHgKHQGJ2XQEii4Ey/uBFBVAUMI0iV4AweqC4BetRFDCNImeAcOaKTomogOni4Rkg7F4hugfrJAqYdbPOAJEtJbJ6zosKoClg1s06AoTdKzSXYH22Cph1s44AYfeKDomugEk3i4CguwHrd6SArKpPP3PrCBBuTKRjoitgsoHxCBAO0NHdg/VzBYQLhHRAdAVMZrKOIggBQXcP1s8NEL5WS+eLoIDJVO9eBCEgEdyDdSQg9AEqcKIAAaF7UAECQh+gAn0KMIL06cZUSRQgIEkMzWb2KUBA+nRjqiQKEJAkhmYz+xQgIH26MVUSBQjIxRTfdquzfG444/XL463PjCfPEJAnj4f9TBcImbIDQg75ywILAdk4nsnWZhBHH61GllP4CcjDU0xerRz1SrD0Gb5TT0Asj3cBc3Ct6qx8rnJ6QNitGsdk5U90pwbE5GWYcf8LkcOq35RMDYjJiRUh3FunkisewpEaEPlwowjAS0eBFcciqQG5OnVex23y5EJAOm2N+MqtyZOhU6+oyVY8StbETxABESdkBNFFkRGkU09UQLg42GnQg2QrnrWcOoK4fNFU1yehclvxnLPUgJg0HsqF51Vmxe6VqGXiI6hdLBGAUWQcmpXPOEsPiLgHt5v0Q7LyNhNGkI1fEJJ2SFaHg4A8+YSEU9l+Inu0eJ0rsOqY47nV7GLt+IGI8sHiy0LBKMzw/gcBaXRKgaX8NCZd4vbyBWLZrZvxYgTJaHW2uVoBAlItFW/MqAAByWh1trlaAQJSLRVvzKgAAclodba5WgECUi0Vb8yoAAHJaHW2uVoBAlItFW/MqAAByWh1trlaAQJSLRVvzKgAAclodba5WgECUi0Vb8yogMkLdchvFGY0Ottcp4DZ0bQEpM4gvAtHATM4pMkEBMfwrMm1AqZwEJBrg/AOHAXM4SAgOMZnTc4VcIGDgNAtIyhgMp17JATHIBFcJG8dXeFgBMnreBFa7g4HAYngJjnrCAEHAcnpfOithoGDgKC7Sr76QcFBQPI5IHKLBQ75Loz8hrk4iwVjitQVgT1aloCk9kuIxsPCwS4WhH+krgQ0HKsAAtVn3bh7OTs3NQEnjYeHIyIgIqq8KPMlyAnvAkk5eV0OmSY034gJAUckQAoY8umDqJfAIZDI9zuygxLmK8YRBuluOzknkZjxWx5bKcPAESGCrAbH1lGyfAkqLBzogKwMR3GaP+798TeTIhVatqEiRxEPuYsVUtBGr5Tu1scEY5KwtkQFxORIl0ZnnnW7RBCJJKteYeFA7mKFFrXR0yWKfG5ME+X28HZEjSB79YriFD31FEBWm/oNDwdyBMkGiIxDVvpa7RJwoAIC905AT0hoTLNSBFkGDlRApF4v0d4LaHT41tu/tiYAvX8pOJABWU7oE4eWrpV0saJfS9oMdZCeYZGwALHCYuHbIJtHmx9CqIBIQ5Z8Ij1ZaIXosSwcyF0sqRvkO8rNj6DzBNFnr5aGAx2Q1SEhHMpPmxnZIXexSntXeBdka7sV9l8tHzmKwSIAUuoq+7P+ui+oyQA+4rXKeyBp4IjQxdoDQSKKQPLpMU5Bfyf91WOVfIWV8vf3jy5Ffquz+cEaKYI0N44JVBXItMP6u3AERNWHls0sJRxRu1jLeiFow9LCQUBAPRKoWqnhICBAnghYFXQ4ZNKjTICUNTOZQFCdtOEYBNAzAaqEvhfu6EQY9TUzAgLgjWBVQIejZgeC2nQ0AQHzTufqrABHkVAFEgLi7JFAxa8EhxokBATIQx2rsiIcKpAQEEevBCl6ZTiGISEgIF7qVI0McAxBQkCcPBOg2ExwdENCQAA81aEKGeHogoSAOHinc5GZ4WiGhIA4e6tx8YTjf8Gr1kkIiLGHOhaHDodIY33S/SUkBMTRYw2LjnScKxQkBMTQS52KigRHkQgGEgLi5LVGxUaEwwOSw89SExAjT3UoJjIcHpDsjtEIiIPnGhSJCkf5Vry8jFV7WXW3djUjILVminMfMhxyULe8CXg5e/QktxUkP/FAQOI4fk1ND/vSNYkn3iORo8DRvFj3SDAbEnaxJjoAQtaR4ECEZDeqMYIguPZ4HZDhuPqCL0J363ARlYCMO6d3DpHhQIgkp/oREG/3Hit/BTi8ITn9UBMBGXNQz9SocIx8Ncu6u3X5FTMC4uniY2VfGncs+67UI3BYR5Iq/QhIlx+4J6oyrnEtNeCwgqQ6UhEQYy9SKG51OGZD0rTtn4AoeKxhFlngmAVJExxSCQJi6N2DRWWDQxuSZjgIyKDHGibPCocWJN370xhBDL28syhEOGbvi9qTqnpg/Ui8rWO3hgSk02uNknUbdmL9POAYiSTlo69dkhCQLtlMEhGOfZlbI8mQsQjIkHzTEhOOc2nNICEg03y8O2NEOORdDulaIV0mkBAQJJPfboSjzR7TISEgbQaZeffb2+3W8q72zLqUvBEjx3O7p0JCQCzc7LoMwnGt0dkdL7W/blsKIyBjhtFIjQhHzYcyNdqukcfUbikB0TBRfx6Eo187STkVDimAgIwZaCQ14RhRzwAOAjJmoJHUhGNEPSM4CMiYkXpTy0yVAIJ0ccxxYA12sWzdtGvL9eQqEo4TgQnIZO/bZI8Gx95ph3ZqtJXkdkAFAWkzVO/d3e8j9BZ4kY5wVApLQCqFGriNcPSL5xY5SpUJSL/xalNOn6uvrch9K0u0yCHaCSRuFwGZK/3UfUKNVRc4rs7Jbcxy2u0wUZeATLPxDWlQTjg67UxAOoWrSDZtA11F2dtbCEejYNvbCciAeCdJUcYdkeBAirjfTUtA9AFBMbTmUaD6Kv2YI4pmP7WTgOibHqFrRTiU7EpAlIR8ZIMwa0U4FG1KQPTERJiaJBx69vwvJwKiJ6j3wJxw6NmSg3RlLb0HmZHgQNzuf+gOjCA6pHi+AEU4dGy4m8seIHLj14llrpa159jD85zcVjuGihylcUeAyJ4dWWTida2AV/SIBAfC7N61JXfuOAIk0ltmXQ1XTHSkoWIRP2UVCQ6vB4iK/kfGjXCinooAg5l4PBnf3ess5Ua4QsMhAh8BEskIno5ivWoe6cEVHo4zQCLNjHgBYj3ojASH95qQmk8cRZBIu0DVxGjMyPIJSTgajaN1+9kAkwP1c5Utu1dRpt2XiRxX07zyd3azjgGx7l5FAGQ5OM7GIPI3drOOAbHsXkkt0AFZEo4rQOTvkfq+Wt3Omnwsu1fogCwLRw0gjCL7uFgvDiJGEPczq2qeZKP31BiaayI/qmw9/kCMICngqIkgHIv8/AiyHn+gAZIGjlpA5L5Ie39Go+pVeuvxBxIgqeBoASTSkZVXDj7695pu6WgZz+kRxiCe2/q19azOr8XYAoksHmbeBu8x/kCIICnhaIkghbjss1oZAUkLRw8g2ccjHgN0zwji/a59dVdo1o0tXaxtHbJO/XotinmMQdLD0RtBCigZ92p5zGB5RBDC8fDy3giyHZNkGriP6tXbE7CMIIRjYyUNg8vAXbpcslay8uU5WLUChHA8ebAGIJKlQCJdLgFl1Wng1QEhHDuPdy1Atl2u1/f/RDlUoCXieTrQ7Aji2bYWG5jfqw3IyqB4OtFMQLzWdsydvafAWYBsQZF/S1SRLpj8RL08HWkWIJ5tCuEHswF5FqGMVV49/lDGKxHA8XSmGYB4ticEHFLJfwEYDd/nQ39GVgAAAABJRU5ErkJggg=="},"837c":function(e,t,a){"use strict";a.r(t);var n=a("3338");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);var i,r,o=a("2877"),l=Object(o["a"])(n["default"],i,r,!1,null,null,null);t["default"]=l.exports},"839b":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.assignStudentsToTask=i,t.getTaskInfoById=o,t.setReviewStudents=l,t.setReviewTeachers=r,t.setTaskEvaluation=c;var s=n(a("b775"));function i(e,t){return(0,s.default)({url:"/task/assignStudents",method:"post",data:{taskId:e,stuIds:t}}).then((function(e){return console.log("任务分配成功",e),e})).catch((function(e){throw console.error("任务分配失败",e),e}))}function r(e,t){return(0,s.default)({url:"/task/setReviewTeachers",method:"post",data:{taskId:e,teacherId:t}})}function o(e){return(0,s.default)({url:"/task/getTaskInfoById",method:"get",params:{taskId:e}})}function l(e){var t=e.taskId,a=e.stuIds,n=e.allocateStudents,i=e.reAllocate;return(0,s.default)({url:"/task/setReviewStudents",method:"post",data:{taskId:t,stuIds:a,allocateStudents:n,reAllocate:i}})}function c(e){var t=e.taskId,a=e.evaluationDimensions;return(0,s.default)({url:"/task/setTaskEvaluation",method:"post",data:{taskId:t,evaluationDimensions:a}})}},"83d6":function(e,t){e.exports={sideTheme:"theme-dark",showSettings:!1,topNav:!1,tagsView:!1,fixedHeader:!1,sidebarLogo:!0,dynamicTitle:!1,size:"small",errorLog:"production"}},"84ce":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a15b"),a("d81d"),a("a573");var s=a("3528"),i=n(a("a17e"));t.default={name:"AuthUser",dicts:["sys_normal_disable"],components:{selectUser:i.default},data:function(){return{loading:!0,userIds:[],multiple:!0,showSearch:!0,total:0,userList:[],queryParams:{pageNum:1,pageSize:10,roleId:void 0,userName:void 0,phonenumber:void 0}}},created:function(){var e=this.$route.params&&this.$route.params.roleId;e&&(this.queryParams.roleId=e,this.getList())},methods:{getList:function(){var e=this;this.loading=!0,(0,s.allocatedUserList)(this.queryParams).then((function(t){e.userList=t.rows,e.total=t.total,e.loading=!1}))},handleClose:function(){var e={path:"/system/role"};this.$tab.closeOpenPage(e)},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.userIds=e.map((function(e){return e.userId})),this.multiple=!e.length},openSelectUser:function(){this.$refs.select.show()},cancelAuthUser:function(e){var t=this,a=this.queryParams.roleId;this.$modal.confirm('确认要取消该用户"'+e.userName+'"角色吗？').then((function(){return(0,s.authUserCancel)({userId:e.userId,roleId:a})})).then((function(){t.getList(),t.$modal.msgSuccess("取消授权成功")})).catch((function(){}))},cancelAuthUserAll:function(e){var t=this,a=this.queryParams.roleId,n=this.userIds.join(",");this.$modal.confirm("是否取消选中用户授权数据项？").then((function(){return(0,s.authUserCancelAll)({roleId:a,userIds:n})})).then((function(){t.getList(),t.$modal.msgSuccess("取消授权成功")})).catch((function(){}))}}}},"84e5":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-swagger",use:"icon-swagger-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-swagger"><defs><style type="text/css"></style></defs><path d="M64 223.995345h168.001164v47.997673c0 26.428509 18.878836 47.997673 41.984 47.997673h140.036654c23.095855 0 41.984-21.569164 41.984-47.997673v-47.997673h504.003491a32.004655 32.004655 0 0 0 0-64.009309H455.996509V111.988364c0-26.428509-18.878836-47.997673-41.984-47.997673H273.985164c-23.095855 0-41.984 21.569164-41.984 47.997673v47.997672H64a32.004655 32.004655 0 0 0 0 64.009309zM288.004655 128h111.997672V256H288.004655V128zM960 479.995345H791.998836v-47.997672c0-26.372655-18.878836-47.997673-41.984-47.997673H609.978182c-23.095855 0-41.984 21.634327-41.984 47.997673v47.997672H64a32.004655 32.004655 0 0 0 0 64.00931h504.003491v47.997672c0 26.363345 18.878836 47.997673 41.984 47.997673h140.036654c23.095855 0 41.984-21.634327 41.984-47.997673v-47.997672h168.001164a32.004655 32.004655 0 1 0-0.009309-64.00931zM735.995345 576H623.997673v-128h111.997672v128zM960 800.293236v-0.288581H455.996509v-47.997673c0-26.363345-18.878836-47.997673-41.984-47.997673H274.050327c-23.105164 0-41.984 21.634327-41.984 47.997673v47.997673H64v0.288581a32.004655 32.004655 0 0 0 0 64.009309c0.986764 0 1.917673-0.195491 2.885818-0.288581h165.115346v47.997672c0 26.363345 18.878836 47.997673 41.984 47.997673h140.036654c23.095855 0 41.984-21.634327 41.984-47.997673v-47.997672h501.108364c0.968145 0.093091 1.899055 0.288582 2.895127 0.288581a32.004655 32.004655 0 1 0-0.009309-64.009309zM400.002327 896H288.004655V768h111.997672v128z" fill="" p-id="6464" /></symbol>'});r.a.add(o);t["default"]=o},"850b":function(e,t,a){"use strict";a.r(t);var n=a("5146"),s=a("cbed");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("9131");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"3bf387c5",null);t["default"]=o.exports},8533:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af");var s=n(a("b18f")),i=n(a("a2e3"));console.log("DevicePixelRatio:",i.default);t.default={name:"App",components:{ThemePicker:s.default},data:function(){return{dpr:null}},metaInfo:function(){return{title:this.$store.state.settings.dynamicTitle&&this.$store.state.settings.title,titleTemplate:function(e){return e?"".concat(e," - ").concat("言之邮理"):"言之邮理"}}},methods:{},created:function(){}}},8586:function(e,t,a){"use strict";a.r(t);var n=a("33e3"),s=a("0899");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},"860d":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s=a("5c96");t.default={msg:function(e){s.Message.info(e)},msgError:function(e){s.Message.error(e)},msgSuccess:function(e){s.Message.success(e)},msgWarning:function(e){s.Message.warning(e)},alert:function(e){s.MessageBox.alert(e,"系统提示")},alertError:function(e){s.MessageBox.alert(e,"系统提示",{type:"error"})},alertSuccess:function(e){s.MessageBox.alert(e,"系统提示",{type:"success"})},alertWarning:function(e){s.MessageBox.alert(e,"系统提示",{type:"warning"})},notify:function(e){s.Notification.info(e)},notifyError:function(e){s.Notification.error(e)},notifySuccess:function(e){s.Notification.success(e)},notifyWarning:function(e){s.Notification.warning(e)},confirm:function(e){return s.MessageBox.confirm(e,"系统提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})},prompt:function(e){return s.MessageBox.prompt(e,"系统提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})},loading:function(e){n=s.Loading.service({lock:!0,text:e,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})},closeLoading:function(){n.close()}}},"86ba":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-search",class:{show:e.show}},[a("svg-icon",{attrs:{"class-name":"search-icon","icon-class":"search"},on:{click:function(t){return t.stopPropagation(),e.click(t)}}}),a("el-select",{ref:"headerSearchSelect",staticClass:"header-search-select",attrs:{"remote-method":e.querySearch,filterable:"","default-first-option":"",remote:"",placeholder:"Search"},on:{change:e.change},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},e._l(e.options,(function(e){return a("el-option",{key:e.item.path,attrs:{value:e.item,label:e.item.title.join(" > ")}})})),1)],1)},s=[]},"86f6":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("h4",{staticClass:"form-header h4"},[e._v("基本信息")]),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1)],1),a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"登录账号",prop:"userName"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1)],1)],1)],1),a("h4",{staticClass:"form-header h4"},[e._v("角色信息")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{"row-key":e.getRowKey,data:e.roles.slice((e.pageNum-1)*e.pageSize,e.pageNum*e.pageSize)},on:{"row-click":e.clickRow,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.pageNum-1)*e.pageSize+t.$index+1))])]}}])}),a("el-table-column",{attrs:{type:"selection","reserve-selection":!0,width:"55"}}),a("el-table-column",{attrs:{label:"角色编号",align:"center",prop:"roleId"}}),a("el-table-column",{attrs:{label:"角色名称",align:"center",prop:"roleName"}}),a("el-table-column",{attrs:{label:"权限字符",align:"center",prop:"roleKey"}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageNum,limit:e.pageSize},on:{"update:page":function(t){e.pageNum=t},"update:limit":function(t){e.pageSize=t}}}),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{staticStyle:{"text-align":"center","margin-left":"-120px","margin-top":"30px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.close()}}},[e._v("返回")])],1)],1)],1)},s=[]},8756:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"homework-evaluation"},[a("el-row",{staticClass:"header-row"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"header"},[a("span",{staticClass:"info-text"},[e._v("题目："+e._s(e.taskDetails.taskName))]),a("span",{staticClass:"info-text"},[e._v("姓名："+e._s(e.taskDetails.ownerName))]),a("span",{staticClass:"info-text"},[e._v("评价流程：自评")]),a("span",{staticClass:"info-text"},[e._v("评分人："+e._s(e.taskDetails.ownerName))])])])],1),a("el-tabs",{staticClass:"tabs-container",attrs:{type:"card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.submissionTypes,(function(t){return a("el-tab-pane",{key:t,attrs:{name:t,label:t}},["视频"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"first-row"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.video,expression:"loading.video"}],staticClass:"video-section"},[a("video",{ref:"videoElement",refInFor:!0,staticClass:"video-player",attrs:{controls:"",src:e.fileUrls.video},on:{error:function(t){return e.handleFileError("video")}}})]),a("div",{staticClass:"dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.video||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",{staticClass:"dimension-title"},[e._v(e._s(t))]),a("el-rate",{attrs:{max:5,disabled:""},model:{value:e.ratings.video[n][s],callback:function(t){e.$set(e.ratings.video[n],s,t)},expression:"ratings.video[index][infoIndex]"}})],1)})),0)})),0)])],1)]),a("div",{staticClass:"second-row"},[a("div",{staticClass:"radar-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-data-analysis"}),a("span",[e._v("评价雷达图")])]),a("el-card",{staticClass:"radar-chart"},[a("div",{ref:"radarContainer-"+t,refInFor:!0,staticClass:"radar-container"})])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4",readonly:""},model:{value:e.comments.video,callback:function(t){e.$set(e.comments,"video",t)},expression:"comments.video"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("视频总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("video"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1)])],1)],1)])]):"音频"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"first-row"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.audio,expression:"loading.audio"}],staticClass:"audio-section"},[a("div",{staticClass:"audio-player-container"},[a("div",{staticClass:"audio-bg"},[a("div",{staticClass:"music-icon",class:{"is-playing":e.isPlaying}},[a("i",{staticClass:"el-icon-headset"})]),a("div",{staticClass:"music-notes"},[a("i",{staticClass:"el-icon-music"}),a("i",{staticClass:"el-icon-bell"}),a("i",{staticClass:"el-icon-mic"})])]),a("audio",{directives:[{name:"show",rawName:"v-show",value:!e.loading.audio,expression:"!loading.audio"}],ref:"audioElement",refInFor:!0,staticClass:"audio-player",attrs:{controls:"",src:e.fileUrls.audio},on:{play:e.handlePlay,pause:e.handlePause,ended:e.handlePause,error:function(t){return e.handleFileError("audio")}}})])]),a("div",{staticClass:"dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.audio||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",{staticClass:"dimension-title"},[e._v(e._s(t))]),a("el-rate",{attrs:{max:5,disabled:""},model:{value:e.ratings.audio[n][s],callback:function(t){e.$set(e.ratings.audio[n],s,t)},expression:"ratings.audio[index][infoIndex]"}})],1)})),0)})),0)])],1)]),a("div",{staticClass:"second-row"},[a("div",{staticClass:"radar-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-data-analysis"}),a("span",[e._v("评价雷达图")])]),a("el-card",{staticClass:"radar-chart"},[a("div",{ref:"radarContainer-"+t,refInFor:!0,staticClass:"radar-container"})])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4",readonly:""},model:{value:e.comments.audio,callback:function(t){e.$set(e.comments,"audio",t)},expression:"comments.audio"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("音频总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("audio"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1)])],1)],1)])]):"PPT"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"left-section"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.ppt,expression:"loading.ppt"}],staticClass:"ppt-document-section"},[e.pdfData?a("pdf-viewer",{staticClass:"pdf-viewer",attrs:{"pdf-data":e.pdfData}}):e._e()],1)]),a("div",{staticClass:"right-section"},[a("div",{staticClass:"ppt-dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.ppt||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",{staticClass:"dimension-title"},[e._v(e._s(t))]),a("el-rate",{attrs:{max:5,disabled:""},model:{value:e.ratings.ppt[n][s],callback:function(t){e.$set(e.ratings.ppt[n],s,t)},expression:"ratings.ppt[index][infoIndex]"}})],1)})),0)})),0)])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4",readonly:""},model:{value:e.comments.ppt,callback:function(t){e.$set(e.comments,"ppt",t)},expression:"comments.ppt"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("PPT总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("ppt"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1)])],1)],1)])])]):"演讲稿"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"left-section"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.word||e.convertLoading,expression:"loading.word || convertLoading"}],staticClass:"word-document-section",attrs:{"element-loading-text":"正在转换文档..."}},[e.wordContent?a("div",{staticClass:"word-content"},[a("div",{domProps:{innerHTML:e._s(e.wordContent)}})]):e.loading.word||e.convertLoading?e._e():a("div",{staticClass:"preview-placeholder"},[a("i",{staticClass:"el-icon-document"}),a("p",[e._v("Word 文档加载失败")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.loadFiles}},[e._v(" 重试 ")])],1)])]),a("div",{staticClass:"right-section"},[a("div",{staticClass:"word-dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.word||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",{staticClass:"dimension-title"},[e._v(e._s(t))]),a("el-rate",{attrs:{max:5,disabled:""},model:{value:e.ratings.word[n][s],callback:function(t){e.$set(e.ratings.word[n],s,t)},expression:"ratings.word[index][infoIndex]"}})],1)})),0)})),0)])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4",readonly:""},model:{value:e.comments.word,callback:function(t){e.$set(e.comments,"word",t)},expression:"comments.word"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("演讲稿总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("word"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1)])],1)],1)])])]):e._e()])})),1)],1)},s=[]},"879b":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-size",use:"icon-size-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-size"><path d="M0 54.857h54.796v18.286H36.531V128H18.265V73.143H0V54.857zm127.857-36.571H91.935V128H72.456V18.286H36.534V0h91.326l-.003 18.286z" /></symbol>'});r.a.add(o);t["default"]=o},8884:function(e,t,a){"use strict";a.r(t);var n=a("192d"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},8989:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-pdf",use:"icon-pdf-usage",viewBox:"0 0 1024 1024",content:'<symbol viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="icon-pdf"><path d="M869.073 277.307H657.111V65.344l211.962 211.963zm-238.232 26.27V65.344l-476.498-.054v416.957h714.73v-178.67H630.841zm-335.836 360.57c-5.07-3.064-10.944-5.133-17.61-6.201-6.67-1.064-13.603-1.6-20.81-1.6h-48.821v85.641h48.822c7.206 0 14.14-.532 20.81-1.6 6.665-1.065 12.54-3.133 17.609-6.202 5.064-3.063 9.134-7.406 12.208-13.007 3.065-5.602 4.6-12.937 4.6-22.011 0-9.07-1.535-16.408-4.6-22.01-3.074-5.603-7.144-9.94-12.208-13.01zM35.82 541.805v416.904h952.358V541.805H35.821zm331.421 191.179c-3.6 11.071-9.343 20.879-17.209 29.413-7.874 8.542-18.078 15.408-30.617 20.61-12.544 5.206-27.747 7.807-45.621 7.807h-66.036v102.45h-62.831V607.517h128.867c17.874 0 33.077 2.6 45.62 7.802 12.541 5.207 22.745 12.076 30.618 20.615 7.866 8.538 13.604 18.277 17.21 29.212 3.6 10.943 5.401 22.278 5.401 34.018 0 11.477-1.8 22.752-5.402 33.819zM644.9 806.417c-5.343 17.61-13.408 32.818-24.212 45.627-10.807 12.803-24.283 22.879-40.423 30.213-16.146 7.343-35.155 11.007-57.03 11.007h-123.26V607.518h123.26c18.41 0 35.552 2.941 51.428 8.808 15.873 5.869 29.618 14.671 41.22 26.412 11.608 11.744 20.674 26.411 27.217 44.02 6.535 17.61 9.803 38.288 9.803 62.035 0 20.81-2.67 40.02-8.003 57.624zm245.362-146.07h-138.07v66.03h119.66v48.829h-119.66v118.058h-62.83V607.518h200.9v52.829h-.001zm-318.2 25.611c-6.402-8.266-14.877-14.604-25.412-19.01-10.544-4.402-23.551-6.602-39.019-6.602h-44.825v180.088h56.029c9.07 0 17.872-1.463 26.415-4.401 8.535-2.932 16.14-7.802 22.812-14.609 6.665-6.8 12.007-15.667 16.007-26.61 4.003-10.94 6.003-24.275 6.003-40.021 0-14.408-1.4-27.416-4.202-39.019-2.8-11.607-7.406-21.542-13.808-29.816zm0 0" /></symbol>'});r.a.add(o);t["default"]=o},"89a9":function(e,t,a){"use strict";a("d0c2")},"89dd":function(e,t,a){},"89f8":function(e,t,a){"use strict";a.r(t);var n=a("a1f8"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"8b20":function(e,t,a){"use strict";a.r(t);var n=a("c044"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"8bb3":function(e,t,a){"use strict";a("c46c")},"8c30":function(e,t,a){"use strict";a.r(t);var n=a("05d8"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"8c3b":function(e,t,a){"use strict";var n=a("dbce").default,s=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(a("6374")),r=s(a("9523")),o=s(a("7ec2")),l=s(a("c973"));a("d9e2"),a("99af"),a("cb29"),a("4de4"),a("7db0"),a("0481"),a("caad"),a("a15b"),a("d81d"),a("14d9"),a("13d5"),a("4069"),a("e9c4"),a("b64b"),a("d3b7"),a("8a79"),a("2532"),a("3ca3"),a("498a"),a("0643"),a("76d6"),a("2382"),a("fffc"),a("4e3e"),a("a573"),a("9d4a"),a("159b"),a("ddb0"),a("2b3d"),a("bf19"),a("9861"),a("88a7"),a("271a"),a("5494");var c=a("5a2f"),u=n(a("313e")),d=a("5c96"),f=s(a("c343")),p=s(a("f02e")),m=s(a("5d2d"));t.default={name:"teacherReview",directives:{loading:d.Loading},props:{taskId:{type:String,required:!0},homeworkTitle:{type:String,required:!0},submitter:{type:String,required:!0},currentProcess:{type:String,required:!0},reviewerId:{type:String,required:!0},studentId:{type:String,required:!0}},data:function(){return{reviewer:"匿名",activeTab:"视频",submissionTypes:[],submitting:!1,evaluationData:{video:[],audio:[],ppt:[],word:[]},ratings:{video:[],audio:[],ppt:[],word:[]},comments:{video:"",audio:"",ppt:"",word:""},typeMapping:{"视频":"video","音频":"audio",PPT:"ppt","演讲稿":"word"},radarChart:null,radarCharts:{},dimensionScores:{"视频":0,"音频":0,PPT:0,"演讲稿":0},fileUrls:{video:"",audio:"",ppt:"",word:""},loading:{video:!1,audio:!1,ppt:!1,word:!1},currentTaskInfo:null,_blobUrls:[],wordContent:"",convertLoading:!1,isPlaying:!1,pdfData:null}},computed:{radarData:function(){var e=this;return this.submissionTypes.map((function(t){var a=e.typeMapping[t];return{name:t,value:e.calculateTotalScore(a)}}))},radarIndicator:function(){return this.submissionTypes.map((function(e){return{name:e,max:100}}))}},watch:{activeTab:{handler:function(e){var t=this;this.$nextTick((function(){t.initRadarChart(e)}))}},immediate:!0,ratings:{deep:!0,handler:function(e){var t=this;this.submissionTypes.forEach((function(e){t.updateDimensionScore(e)}))}}},mounted:function(){},components:{AudioVisualizer:p.default,"pdf-viewer":m.default},methods:{fetchTaskData:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){var a,n,s;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.getTaskInfoById)(e.taskId);case 3:if(a=t.sent,a&&a.data){t.next=7;break}return e.$message.error("获取任务信息失败"),t.abrupt("return");case 7:n=a.data,s=["视频","音频","PPT","演讲稿"],e.submissionTypes=s.filter((function(e){var t;return null===(t=n.submissionTypes)||void 0===t?void 0:t.includes(e)})),n.evaluationDimensions&&e.initializeEvaluationData(n),e.activeTab=e.submissionTypes[0]||"",e.$nextTick((function(){e.initRadarChart()})),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](0),console.error("获取任务信息失败：",t.t0),e.$message.error("获取任务信息失败");case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()},nextTab:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){var a,n;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.saveCurrentEvaluation();case 2:a=e.submissionTypes.indexOf(e.activeTab),n=(a+1)%e.submissionTypes.length,e.activeTab=e.submissionTypes[n];case 5:case"end":return t.stop()}}),t)})))()},handleNextTab:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){var a,n,s;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.saveCurrentTabEvaluation(),a){t.next=4;break}return e.$message({message:"请完成所有评分项并填写评语",type:"warning",duration:2e3}),t.abrupt("return");case 4:n=e.submissionTypes.indexOf(e.activeTab),s=(n+1)%e.submissionTypes.length,e.activeTab=e.submissionTypes[s],e.checkAllEvaluationsComplete()&&e.$message({message:"所有评分已完成，可以提交总评",type:"success",duration:2e3});case 8:case"end":return t.stop()}}),t)})))()},initializeEvaluationData:function(e){var t=this;if(null!==e&&void 0!==e&&e.evaluationDimensions){var a=e.evaluationDimensions.find((function(e){return"自评"===(null===e||void 0===e?void 0:e.evaluationMethods)}));null!==a&&void 0!==a&&a.evaluationTypes&&a.evaluationTypes.forEach((function(e){var a=t.typeMapping[e.evaluationContent];if(a){t.$set(t.evaluationData,a,e.evaluationTitles||[]);var n=e.evaluationTitles.map((function(e){return e.evaluationInfos?Array(e.evaluationInfos.length).fill(0):[]}));t.$set(t.ratings,a,n),t.$set(t.comments,a,"")}}))}},calculateTotalScore:function(e){var t=this;if(!this.ratings[e]||!this.ratings[e].length)return 0;var a=this.ratings[e].flat().reduce((function(e,t){return e+t}),0),n=this.ratings[e].flat().length,s=n>0?Math.round(a/(5*n)*100):0,i=Object.keys(this.typeMapping).find((function(a){return t.typeMapping[a]===e}));return i&&(this.$set(this.dimensionScores,i,s),Object.keys(this.radarCharts).forEach((function(e){t.updateRadarChart(e)}))),s},saveCurrentTabEvaluation:function(){var e=this.activeTab,t=this.checkTypeComplete(e);return t&&this.$message({message:"当前评分已保存",type:"success",duration:2e3}),t},checkTypeComplete:function(e){var t=this.typeMapping[e],a=this.ratings[t]&&this.ratings[t].every((function(e){return e.every((function(e){return e>0&&e<=5}))})),n=this.comments[t]&&this.comments[t].trim().length>0;return a&&n},checkAllEvaluationsComplete:function(){var e=this,t=this.submissionTypes.filter((function(t){return!e.checkTypeComplete(t)}));return!(t.length>0)||(this.$message.warning("以下内容的评分未完成：".concat(t.join("、"),"\n")+"请确保：\n1. 所有评分维度都已评星\n2. 已填写评语"),!1)},handleSubmitAll:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkAllEvaluationsComplete()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.$confirm("确认提交所有评分和评语？\n提交后将无法修改。\n\n各部分得分：\n".concat(e.submissionTypes.map((function(t){return"".concat(t,"：").concat(e.calculateTotalScore(e.typeMapping[t]),"分")})).join("\n")),"提交确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 5:return t.next=7,e.submitEvaluations();case 7:t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),"cancel"!==t.t0&&(console.error("提交评分失败：",t.t0),e.$message.error("提交失败，请重试"));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},submitEvaluations:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){var a,n;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.submitting=!0,a=e.submissionTypes.map((function(t){var a=e.typeMapping[t],n=e.evaluationData[a],s=[];return n.forEach((function(t,n){t.evaluationInfos.forEach((function(t,i){var o=e.ratings[a][n][i];s.push((0,r.default)({},t,o))}))})),{evaluationContent:t,finished:!0,evaluationTitle:e.comments[a],grade:e.calculateTotalScore(a),evaluationDimensions:s}})),n={taskId:e.taskId,stuId:e.studentId,evaluationType:{evaluationMethod:"师评",reviewerId:e.reviewerId,evaluationContents:a}},console.log("Submitting evaluation data:",JSON.stringify(n,null,2)),t.next=7,(0,c.submitEvaluation)(n);case 7:e.$message.success("评分提交成功！"),e.$emit("evaluation-submitted"),setTimeout((function(){e.$router.back()}),1500),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),console.error("提交评分失败：",t.t0),e.$message.error("提交失败，请重试");case 16:return t.prev=16,e.submitting=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,12,16,19]])})))()},initRadarChart:function(e){var t,a=null===(t=this.$refs["radarContainer-".concat(e)])||void 0===t?void 0:t[0];a&&(this.radarCharts[e]&&this.radarCharts[e].dispose(),this.radarCharts[e]=u.init(a),this.updateRadarChart(e))},updateRadarChart:function(e){var t=this,a=this.radarCharts[e];if(a){var n={title:{text:"能力评分雷达图",left:"center",top:10,textStyle:{fontSize:14,color:"#666"}},tooltip:{trigger:"item",formatter:function(e){var a=t.submissionTypes[e.dimensionIndex];return"".concat(a,": ").concat(t.dimensionScores[a],"分")}},radar:{indicator:this.submissionTypes.map((function(e){return{name:e,max:100}})),shape:"circle",radius:"65%",splitNumber:5,name:{textStyle:{color:"#666",fontSize:12}},splitArea:{areaStyle:{color:["#f3f6f9","#e9ecf2"]}}},series:[{type:"radar",name:"能力评分",data:[{value:this.submissionTypes.map((function(e){return t.dimensionScores[e]})),name:"当前评分",symbol:"circle",symbolSize:6,lineStyle:{width:2,color:"#409EFF"},areaStyle:{color:new u.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(64, 158, 255, 0.3)"},{offset:1,color:"rgba(64, 158, 255, 0.1)"}])},itemStyle:{color:"#409EFF"}}]}]};a.setOption(n)}},updateDimensionScore:function(e){var t=this,a=this.typeMapping[e],n=this.calculateTotalScore(a);this.$set(this.dimensionScores,e,n),Object.keys(this.radarCharts).forEach((function(e){t.updateRadarChart(e)}))},handleScoreChange:function(){var e=this;this.$nextTick((function(){e.updateRadarChart(e.activeTab)}))},getMimeType:function(e,t){var a={video:"video/mp4",audio:"audio/mpeg",ppt:"application/vnd.openxmlformats-officedocument.presentationml.presentation",word:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};return"word"!==e&&"ppt"!==e||!t.toLowerCase().endsWith(".pdf")?a[e]||"application/octet-stream":"application/pdf"},loadFiles:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){var a,n,s,r,l,u,d,p,m,v,h;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.getSubmissionsByStuId)(e.studentId);case 3:if(n=t.sent,s=n.data,null!==s&&void 0!==s&&null!==(a=s.rows)&&void 0!==a&&a.length){t.next=7;break}throw new Error("No submissions found");case 7:if(r=s.rows.find((function(t){return t.taskId===e.taskId})),null!==r&&void 0!==r&&r.taskInfos){t.next=10;break}throw new Error("Task ".concat(e.taskId," not found"));case 10:l=[],u=[],d=(0,i.default)(e.submissionTypes),t.prev=13,m=(0,o.default)().mark((function t(){var a,n,s,i,d,m,v,h,g,b,w;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=p.value,n=e.typeMapping[a],e.loading[n]=!0,t.prev=3,s=r.taskInfos.find((function(e){return e.submissionType===a})),s&&s.fileName){t.next=8;break}return l.push(a),t.abrupt("return",0);case 8:if(s.finished){t.next=11;break}return u.push(a),t.abrupt("return",0);case 11:if(!s.fileName){t.next=41;break}return t.next=14,(0,c.showFile)(n,s.fileName);case 14:if(i=t.sent,d=e.getMimeType(n,s.fileName),"word"!==n){t.next=40;break}return e.convertLoading=!0,t.prev=18,t.next=21,f.default.convertToHtml({arrayBuffer:i},{styleMap:["p[style-name='Title'] => h1:fresh","p[style-name='Heading 1'] => h2:fresh","p[style-name='Heading 2'] => h3:fresh","p[style-name='Quote'] => blockquote:fresh","r[style-name='Strong'] => strong","r[style-name='Emphasis'] => em"]});case 21:m=t.sent,e.wordContent=m.value,v=new Blob([i],{type:d}),h=URL.createObjectURL(v),e._blobUrls=e._blobUrls||[],e._blobUrls.push(h),e.$set(e.fileUrls,n,h),t.next=35;break;case 30:t.prev=30,t.t0=t["catch"](18),console.error("Word conversion failed:",t.t0),e.$message.error("Word文档转换失败"),e.wordContent="";case 35:return t.prev=35,e.convertLoading=!1,t.finish(35);case 38:t.next=41;break;case 40:"ppt"===n?e.pdfData=i:(g=new Blob([i],{type:d}),b=URL.createObjectURL(g),e._blobUrls=e._blobUrls||[],e._blobUrls.push(b),e.$set(e.fileUrls,n,b),w=e.$refs["".concat(n,"Element")],w&&(w.src=b));case 41:t.next=46;break;case 43:t.prev=43,t.t1=t["catch"](3),console.error("Error loading ".concat(a," file:"),t.t1);case 46:return t.prev=46,e.loading[n]=!1,t.finish(46);case 49:case"end":return t.stop()}}),t,null,[[3,43,46,49],[18,30,35,38]])})),d.s();case 16:if((p=d.n()).done){t.next=23;break}return t.delegateYield(m(),"t0",18);case 18:if(v=t.t0,0!==v){t.next=21;break}return t.abrupt("continue",21);case 21:t.next=16;break;case 23:t.next=28;break;case 25:t.prev=25,t.t1=t["catch"](13),d.e(t.t1);case 28:return t.prev=28,d.f(),t.finish(28);case 31:h=[],l.length>0&&h.push("未提交：".concat(l.join("、"))),u.length>0&&h.push("未完成：".concat(u.join("、"))),h.length>0&&e.$message({message:h.join("\n"),type:"warning",duration:5e3}),t.next=40;break;case 37:t.prev=37,t.t2=t["catch"](0),console.error("Error loading submissions:",t.t2);case 40:case"end":return t.stop()}}),t,null,[[0,37],[13,25,28,31]])})))()},handleFileError:function(e){this.loading[e]=!1},clearBlobUrls:function(){this._blobUrls.forEach((function(e){return URL.revokeObjectURL(e)})),this._blobUrls=[]},handlePlay:function(){this.isPlaying=!0},handlePause:function(){this.isPlaying=!1}},created:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchTaskData().then((function(){if(!e.activeTab){var t=Object.keys(e.evaluationData)[0];e.activeTab=t||"视频"}e.submissionTypes.forEach((function(t){e.$set(e.dimensionScores,t,0)})),e.$nextTick((function(){e.initRadarChart(e.activeTab)}))}));case 2:return t.next=4,e.loadFiles();case 4:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){var e=this;this.radarCharts&&Object.keys(this.radarCharts).forEach((function(t){e.radarCharts[t]&&e.radarCharts[t].dispose()})),this._blobUrls&&Array.isArray(this._blobUrls)&&(this._blobUrls.forEach((function(e){return URL.revokeObjectURL(e)})),this._blobUrls=[])}}},"8d3b":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("svg-icon",{attrs:{"icon-class":"github"},on:{click:e.goto}})],1)},s=[]},"8dd0":function(e,t,a){"use strict";a("c459")},"8dd6":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"your-view"},[a("holistic-detection")],1)},s=[]},"8df1":function(e,t,a){e.exports={menuColor:"rgba(0, 0, 0, 0.85)",menuLightColor:"rgba(0, 0, 0, 0.7)",menuColorActive:"#000000",menuBackground:"#ffffff",menuLightBackground:"#ffffff",subMenuBackground:"#ffffff",subMenuHover:"#f6f6f6",sideBarWidth:"200px",logoTitleColor:"#000000",logoLightTitleColor:"#001529"}},"8e02":function(e,t,a){"use strict";a.r(t);var n=a("8dd6"),s=a("eed4");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},"8e49":function(e,t,a){},"8ea0":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("4de4"),a("a630"),a("d81d"),a("4ec9"),a("d3b7"),a("3ca3"),a("0643"),a("2382"),a("4e3e"),a("a573"),a("159b"),a("ddb0");var s=n(a("ded3")),i=n(a("6374")),r=n(a("7ec2")),o=n(a("c973")),l=a("c0c7"),c=a("f190"),u=a("f140");t.default={props:["classId"],data:function(){return{applications:[]}},created:function(){var e=this;return(0,o.default)((0,r.default)().mark((function t(){return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchApplications();case 2:case"end":return t.stop()}}),t)})))()},methods:{fetchApplications:function(){var e=this;return(0,o.default)((0,r.default)().mark((function t(){var a,n,o,c,d,f;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,u.getApplicationsByClassId)({classId:e.classId});case 3:if(a=t.sent,1!==a.code){t.next=29;break}n=new Map,o=(0,i.default)(a.data),t.prev=7,o.s();case 9:if((c=o.n()).done){t.next=18;break}if(d=c.value,n.has(d.studentId)){t.next=16;break}return t.next=14,(0,l.getUserProfile)(d.studentId);case 14:f=t.sent,1===f.code&&n.set(d.studentId,(0,s.default)((0,s.default)({},d),{},{studentInfo:f.data,updatedStatus:d.applicationStatus}));case 16:t.next=9;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](7),o.e(t.t0);case 23:return t.prev=23,o.f(),t.finish(23);case 26:e.applications=Array.from(n.values()),t.next=30;break;case 29:e.$message.error("获取申请列表失败："+a.msg);case 30:t.next=35;break;case 32:t.prev=32,t.t1=t["catch"](0),e.$message.error("获取申请列表时出错："+t.t1.message);case 35:case"end":return t.stop()}}),t,null,[[0,32],[7,20,23,26]])})))()},submitApplicationChanges:function(){var e=this;return(0,o.default)((0,r.default)().mark((function t(){var a,n;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.applications.filter((function(e){return e.applicationStatus!==e.updatedStatus})).map((function(e){return{applicationId:e.applicationId,approvalStatus:e.updatedStatus}})),0!==a.length){t.next=4;break}return e.$message.info("没有更改，无需提交。"),t.abrupt("return");case 4:return t.prev=4,t.next=7,(0,c.approveApplications)(a);case 7:if(n=t.sent,1!==n.code){t.next=14;break}return e.$message.success("申请状态更新成功！"),t.next=12,e.fetchApplications();case 12:t.next=15;break;case 14:e.$message.error("申请状态更新失败："+n.msg);case 15:t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](4),e.$message.error("申请状态更新失败："+t.t0.message);case 20:case"end":return t.stop()}}),t,null,[[4,17]])})))()},batchApprove:function(){this.applications.forEach((function(e){"pending"===e.applicationStatus&&(e.updatedStatus="approved")}))},batchReject:function(){this.applications.forEach((function(e){"pending"===e.applicationStatus&&(e.updatedStatus="rejected")}))}}}},"8ea2":function(e,t,a){"use strict";a.r(t);var n=a("e3e9"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"8ee8":function(e,t,a){},"8fac":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("div",{staticClass:"background"}),e._m(0),a("section",{staticClass:"features"},[a("div",{staticClass:"container"},[a("div",{staticClass:"feature-grid"},e._l(e.features,(function(t){return a("div",{key:t.id,staticClass:"feature-wrapper"},[a("div",{staticClass:"feature-card",class:{clickable:1===t.id||2===t.id||3===t.id||4===t.id},on:{click:function(a){return e.handleFeatureClick(t.id)}}},[a("h3",[e._v(e._s(t.title))]),a("p",[e._v(e._s(t.description))])]),a("div",{staticClass:"icon-section"},[a("img",{staticClass:"icon",attrs:{src:t.icon,alt:t.title}}),a("div",{staticClass:"icon-text"},[a("span",{staticClass:"en"},[e._v(e._s(t.iconTextEn))]),a("span",{staticClass:"cn"},[e._v(e._s(t.iconTextCn))])])])])})),0)])]),a("section",{staticClass:"stats container"},[a("div",{staticClass:"stats-grid"},e._l(e.stats,(function(t){return a("div",{key:t.id,staticClass:"stat-item"},[a("div",{staticClass:"stat-number"},[e._v(e._s(t.number))]),a("div",{staticClass:"stat-label"},[e._v(e._s(t.label))])])})),0)])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"hero"},[a("div",{staticClass:"container hero-content"},[a("h1",{staticClass:"main-title"},[e._v("多模态英语教学与评估平台")]),a("p",{staticClass:"tagline"},[e._v("AI助力言之邮理，AI助力您言之有理")])])])}]},9:function(e,t){},9041:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("bf19"),a("9861"),a("88a7"),a("271a"),a("5494");t.default={name:"pdf-viewer",props:{pdfData:{required:!0}},data:function(){return{pdfUrl:null}},watch:{pdfData:{immediate:!0,handler:function(e){if(e){var t=new Blob([e],{type:"application/pdf"});this.pdfUrl=URL.createObjectURL(t)}}}},beforeDestroy:function(){this.pdfUrl&&URL.revokeObjectURL(this.pdfUrl)}}},"909e":function(e,t,a){"use strict";a("9851")},"90bc":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("80b4"));t.default={name:"AppMain",components:{iframeToggle:s.default},computed:{cachedViews:function(){return this.$store.state.tagsView.cachedViews},key:function(){return this.$route.path}}}},9131:function(e,t,a){"use strict";a("29aa")},"91be":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-nested",use:"icon-nested-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-nested"><path d="M.002 9.2c0 5.044 3.58 9.133 7.998 9.133 4.417 0 7.997-4.089 7.997-9.133 0-5.043-3.58-9.132-7.997-9.132S.002 4.157.002 9.2zM31.997.066h95.981V18.33H31.997V.066zm0 45.669c0 5.044 3.58 9.132 7.998 9.132 4.417 0 7.997-4.088 7.997-9.132 0-3.263-1.524-6.278-3.998-7.91-2.475-1.63-5.524-1.63-7.998 0-2.475 1.632-4 4.647-4 7.91zM63.992 36.6h63.986v18.265H63.992V36.6zm-31.995 82.2c0 5.043 3.58 9.132 7.998 9.132 4.417 0 7.997-4.089 7.997-9.132 0-5.044-3.58-9.133-7.997-9.133s-7.998 4.089-7.998 9.133zm31.995-9.131h63.986v18.265H63.992V109.67zm0-27.404c0 5.044 3.58 9.133 7.998 9.133 4.417 0 7.997-4.089 7.997-9.133 0-3.263-1.524-6.277-3.998-7.909-2.475-1.631-5.524-1.631-7.998 0-2.475 1.632-4 4.646-4 7.91zm31.995-9.13h31.991V91.4H95.987V73.135z" /></symbol>'});r.a.add(o);t["default"]=o},"922f":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-system",use:"icon-system-usage",viewBox:"0 0 1084 1024",content:'<symbol class="icon" viewBox="0 0 1084 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-system"><defs><style type="text/css">@font-face { font-family: rbicon; src: url("chrome-extension://dipiagiiohfljcicegpgffpbnjmgjcnf/fonts/rbicon.woff2") format("woff2"); font-weight: normal; font-style: normal; }\r\n</style></defs><path d="M1080.09609 434.500756c-4.216302-23.731757-26.9241-47.945376-50.595623-53.185637l-17.648235-4.095836a175.940257 175.940257 0 0 1-101.612877-80.832531 177.807476 177.807476 0 0 1-18.732427-129.801867l5.541425-16.684509c7.10748-23.129428-2.108151-54.992624-20.599646-70.833873 0 0-16.624276-14.094495-63.244529-41.199293-46.800951-26.984332-66.858502-34.513443-66.858502-34.513443-22.76803-8.372371-54.631227-0.361397-71.255503 17.407304l-12.287509 13.251234a173.470708 173.470708 0 0 1-120.465769 48.065842A174.13327 174.13327 0 0 1 421.329029 33.590675L409.583617 20.761071C393.140039 2.99237 361.096144-4.898138 338.267881 3.353767c0 0-20.358715 7.529111-67.099434 34.513443-46.800951 27.34573-63.244529 41.440225-63.244529 41.440225-18.431263 15.66055-27.646894 47.222582-20.539413 70.592941l5.059562 16.865207a178.048407 178.048407 0 0 1-18.672194 129.621169 174.916297 174.916297 0 0 1-102.275439 81.073463l-17.045906 3.854904c-23.310126 5.42096-46.258856 29.333415-50.595623 53.185637 0 0-3.854905 21.382674-3.854905 75.712737 0 54.330062 3.854905 75.712736 3.854905 75.712736 4.216302 23.972688 26.9241 47.945376 50.595623 53.185637l16.624276 3.854905a174.253736 174.253736 0 0 1 102.395904 81.314394c23.310126 40.837896 28.911785 87.337683 18.732427 129.801867l-4.81863 16.443578c-7.10748 23.129428 2.108151 54.992624 20.599646 70.833872 0 0 16.624276 14.094495 63.244529 41.199293 46.800951 27.104798 66.918735 34.513443 66.918735 34.513443 22.707798 8.372371 54.631227 0.361397 71.255503-17.407303l11.624947-12.588673a175.096996 175.096996 0 0 1 242.256662 0.120465l11.624947 12.648906c16.383345 17.708468 48.427239 25.598976 71.255503 17.347071 0 0 20.358715-7.529111 67.159666-34.513443 46.740719-27.104798 63.124063-41.199293 63.124064-41.199293 18.491496-15.600317 27.707127-47.463513 20.599646-70.833873l-5.059562-17.106139a176.723284 176.723284 0 0 1 18.672194-129.139305 176.060722 176.060722 0 0 1 102.395904-81.314394l16.68451-3.854905c23.310126-5.42096 46.258856-29.333415 50.595623-53.185637 0 0 3.854905-21.382674 3.854904-75.712737-0.240932-54.330062-4.095836-75.833202-4.095836-75.833202z m-537.819428 293.334149c-119.261112 0-216.175824-97.336342-216.175824-217.621412a216.657687 216.657687 0 0 1 216.236057-217.320249c119.200879 0 216.115591 97.276109 216.11559 217.56118-0.240932 120.044139-96.974945 217.320248-216.175823 217.320249z" p-id="10234" /></symbol>'});r.a.add(o);t["default"]=o},"937c":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-bug",use:"icon-bug-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-bug"><path d="M127.88 73.143c0 1.412-.506 2.635-1.518 3.669-1.011 1.033-2.209 1.55-3.592 1.55h-17.887c0 9.296-1.783 17.178-5.35 23.645l16.609 17.044c1.011 1.034 1.517 2.257 1.517 3.67 0 1.412-.506 2.635-1.517 3.668-.958 1.033-2.155 1.55-3.593 1.55-1.438 0-2.635-.517-3.593-1.55l-15.811-16.063a15.49 15.49 0 0 1-1.196 1.06c-.532.434-1.65 1.208-3.353 2.322a50.104 50.104 0 0 1-5.192 2.974c-1.758.87-3.94 1.658-6.546 2.364-2.607.706-5.189 1.06-7.748 1.06V47.044H58.89v73.062c-2.716 0-5.417-.367-8.106-1.102-2.688-.734-5.003-1.631-6.945-2.692a66.769 66.769 0 0 1-5.268-3.179c-1.571-1.057-2.73-1.94-3.476-2.65L33.9 109.34l-14.611 16.877c-1.066 1.14-2.344 1.711-3.833 1.711-1.277 0-2.422-.434-3.434-1.304-1.012-.978-1.557-2.187-1.635-3.627-.079-1.44.333-2.705 1.236-3.794l16.129-18.51c-3.087-6.197-4.63-13.644-4.63-22.342H5.235c-1.383 0-2.58-.517-3.592-1.55S.125 74.545.125 73.132c0-1.412.506-2.635 1.518-3.668 1.012-1.034 2.21-1.55 3.592-1.55h17.887V43.939L9.308 29.833c-1.012-1.033-1.517-2.256-1.517-3.669 0-1.412.505-2.635 1.517-3.668 1.012-1.034 2.21-1.55 3.593-1.55s2.58.516 3.593 1.55l13.813 14.106h67.396l13.814-14.106c1.012-1.034 2.21-1.55 3.592-1.55 1.384 0 2.581.516 3.593 1.55 1.012 1.033 1.518 2.256 1.518 3.668 0 1.413-.506 2.636-1.518 3.67l-13.814 14.105v23.975h17.887c1.383 0 2.58.516 3.593 1.55 1.011 1.033 1.517 2.256 1.517 3.668l-.005.01zM89.552 26.175H38.448c0-7.23 2.489-13.386 7.466-18.469C50.892 2.623 56.92.082 64 .082c7.08 0 13.108 2.541 18.086 7.624 4.977 5.083 7.466 11.24 7.466 18.469z" /></symbol>'});r.a.add(o);t["default"]=o},9429:function(e,t,a){"use strict";a.r(t);var n=a("d518"),s=a("47fc");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("d749");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"07624ce5",null);t["default"]=o.exports},"94a8":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAADJdJREFUeF7tnYtx3DYQhulKElXiuJLYlUSuJE4lUSqJU4mTnxFueHd8gOACWAAfZzwaSwdg99v9iQd5wIeJCwIQ2CTwATYQgMA2AQRCdkBghwACIT0ggEDIAQikEaAHSeNGqUEIIJBBAo2baQQQSBo3Sg1CAIEMEmjcTCOAQNK4UWoQAghkkEDjZhoBBJLGjVKDEEAggwQaN9MIIJA0bpQahAACGSTQuJlGAIGkcaPUIAQQyCCBxs00AggkjRulBiGAQAYJNG6mEUAgadwoNQgBBDJIoHEzjQACSeNGqUEIIJBBAo2baQQQSBo3Sg1CAIEMEmjcTCOQIpDP0zR9nKbpl/cmf56m6fv7P/3qbZqmPxb/T7Msf6k1P/K3SgulCSxzU3mp/NTvoq5YgSiZfpumSWKIvYJQThkUW3ni51L8SGyKYo4JKCe/votl18wjgaiXkDBCb5His9QqY76lFDYqY+GHkSlU44iAhPJlr0fZE4iE8WrojOqqMfSy9sMQCVU5ISCRrN7AtwTy58VeY8vvQ8UaA8vlh7GZVOeAwOoNfE0gv//X5WisnuvSkOvTmYlSoiG5/Ug0i2KOCUgkmg7crkeBSBhKrNxX7uFWKT9yc6L+8gTuRLIUiFao/i5oz5Najdou7YeR2VTjiMBLGOEsBVJjvH4zxBBODT8MzacqBwQ0V9Y0YAoC0TKoEqv0Zd2L1PKjNDfay09gXtkKAql517XsRWr6kT9ktFCSwNyLSCC1x+yba9AnadT246S5fLwBAi8SSO0HaXpAI5FcvWr7cdV+yvsj8EUC8TAsOXrlJQadBz9i7OQz7RCY5yAeEstiHuLBj3ZCj6UxBN4kED37OPOWbkzFZz9jIRAPfpz1m8/7JvBdAvnhwEatOWvV4MrlwY8r9lPWIQEvPYiFQOhBHCZY4ybNPYiHxLKYpHvwo/F8wPwHArNAPExuLQTiwQ8yrC8C8yS99vMDvf6uSfrVq7YfV+2nvD8CrxJI7feXrN7Hqu2Hv/Bi0VUC85N0XTXH7xZLvAFETT+uBoPyvgjMI5sgkFrDk9trxUZsavlhZD7VOCIwj2yWk+Mad1/L3oNexFF2NW7KbV68FEjpu6917xFiUtqPxnMB81cI3ObFj8urpZZKrVautqJbyg+yqz8CdzfutecPJYZaFk/Oj0JTwo8jG/h7WwSebtxrAtGLi7oD53qBsYQ4FJbcfrQVeqw9IrA6qtl6gp0juWSAvhh19aXEI0eXf8/hx5n2+WwbBDbnw0eveGiPLD2Au9qbWH1rMBW3lR+p7VPOL4HdB9VHApFbEsivibstShhhy/naiK74Udt22rcnoNzULoq7RyHECCSYpgQL54KoR9nqVdTwX2fPYbD3f7PGWD8KmkRThQiczs0zAlnzIQglqDD6YJJCQGKb2RN8bB18zieB5QE6py28KpDTDVIAAi0RQCAtRQtbixNAIMWR02BLBBBIS9HC1uIEEEhx5DTYEgEE0lK0sLU4AQRSHDkNtkQAgbQULWwtTgCBFEdOgy0RQCAtRQtbixNAIMWR02BLBBBIS9HC1uIEEEhx5DTYEgEE0lK0sLU4AQRSHDkNtkQAgbQULWwtTgCBFEdOgy0RQCAtRQtbixNAIMWR02BLBBBIS9HC1uIEEEhx5DTYEgEE0lK0sLU4AQRSHDkNtkQAgbQULWwtTiBVIGG/3p/ed1hcbhinXRUvbdZVkMLn97aCHwWbpqlCBEJuJuXlGYGEvW1jN7PWjtna+7Tkbu4xzCUK7TUsP7jGI6B8DPtFH+4EGiMQJZKONUtNKC9CkTDkx9Wd6sdLqT49ljjCDXxTKEcCsTzvT9vMS7mHqjWOhwQRjj8wrprqOiCgG7jOrVnNyz2B5Djnb9eYDLDV68kPLgjsEZA4dPLZk0i2BJJDHMHATWOMY4g4jIEOUN3T8YBrAskpjlIi0bBKh3hyQeAsgZdlT/IoEMs5x5Fhu0dfHRXe+TvnEl6AR9F5mHUbbi0FUuOuq8mRTv2xvEqK3NJu6vJD4HbzXgpEKz3hwVkpUzdPF000oIbIE02lmHMC81ArCKRmYln2IvQezrOuIfPmXiQIpGZiWfUiNUXeUNwx9QSBlyAQrfjUfMJ8t3JwwoHlR1nWTQRHsU0CnyQQD3dei2FWzV6QHOuTwKsE4uHOa7HkW+L5TZ9pgFdbBN4kEK1caQWr5qWlXvUiV67aw8QrtlPWJ4FZIB6GJhYC+eGTMVY1TGBe5u1FIPQgDWeiU9NngXgYYlnMQRCI0yxr2KyuBMIkveFMdGr6PAfxsIr19JpxArAar8okmEmRhgjMy7y6ag9Pjr7ZGMPUw1Axxk4+0w6B+UGhrpp3X6tXTTwIvZ3QY+kRAb32fnvVpOYwy2KCHpytKfQj4Py9LQJ3LyvW6kVmlRpy48tShjAHr2oeXT1+YUorQSVfWrR4B+sxjh6e6wyeW827v/qFKXlVMrks5x7LiNCLNJ+fVR24G9XU3LTBcmj1SBSRVM2xphu/e+Swtbyac9nXet6xFQ31hlr6LTlkbDozMH7erOFuq9y95w85VoRqbBwnPxAJ2b9HQDdtzYef9pE+ekBneRfONec4Cj3DrSNCY/89eevRgI3Nq8dOoF69D5tX7247ddSDLOGcPf5ADYdt5j1BDscfqGdh6OUpMmVsUV7qrJCo/djOCORRLEqu5cEzUuQ/7+O40ju4p6KV6D++F0YsqRR9lwt5KSujRLF0J1UgvpFgHQSMCCAQI5BU0ycBBNJnXPHKiAACMQJJNX0SQCB9xhWvjAggECOQVNMnAQTSZ1zxyogAAjECSTV9EkAgfcYVr4wIIBAjkFTTJwEE0mdc8cqIAAIxAkk1fRJAIH3GFa+MCCAQI5BU0ycBBNJnXPHKiAACMQJJNX0SQCB9xhWvjAggECOQVNMnAQTSZ1zxyogAAjECSTV9EkAgfcYVr4wIIBAjkFTTJwEE0mdc8cqIAAIxAkk1fRK4IpCwM6F+ho3i9LOVTeOWEdUGcmwc11+OL/NS3p3OzbMC0bad2tB6L5m0GbD+aXvHp92yncRAfmhHRYThJCCFzAi5qS1xo8QSIxCJQUcIKJnOXjLoqyOhxAj8rI98vk0C2oZUubkrlCOBWJ0RUvpckMeQXd2hvs0UwOoYAjqPcLNH2RLIlV5jyygpVSf4RHVtMZ5FfqbmEdeRJvKxygQ2b+BrAsl94EyOk223+GpIpV6QCwJHBFZv4GsC0VHQKfONIwOWf9cBnrl7EsRxJiJ8Nqxy3Y1yHgVSQhyrhhjHR72gDiLlgsBZArcz0lVwKZCSZ6Srba0iaLiV48p5Sm8Oe6nTF4HbNGApkB8VbMwx1Cot9ArYaDIzgdt8JAikVlLlOPmW3iNz9gxS/TzUCgKp0XsEzpa9SC2hD5IzQ7k537wlkNoT2rtJ0cUQIJCLACl+R+BFAqmdVJbDrJo9IbnVH4EvEkippd09fEevvMSgr90TxtjIZ9oi8M2LQCzmIbxS0lbytWDtmwTiYVhiIRCenLeQcm3Z6EYgerx/9bsjCKSt5GvB2u/qQTw8N6AHaSFdxrNx7kE8CMRiks4cZLwEzu3xPEm3+lJUqrF6rK8exOLyMJ+y8IM6fBB4lUBqj90tHxR66A19hBYrLAjMz0FqPz+wFEjt3tAiKNThh8CHMPavdee1HF4JK/MQP8nVuiW3d7HkSK1hlmXvEQJCL9J6avqwf370sFw9Kt2LWPceASu9iI8Ea9mK2/uBS4EosXT3LbXDYM7NG2q/gNlycmD7/6uq854Jj88fSiVWzq/bhgCX7hFJrD4I3N241x7Q5RaJ5evteyHJvX1RH+mAF0sCTzfurSfYuSa6pcSxnI+UHDaSbu0SWB3V7L3ioZ5Eq1tWc5IcK1Yx4aAniaE09mc258NH70BZ7GnrZQNra8GPnVJ9eH+Ym0cCWQ5VwrEHsT2KuixtCnz1NXbrUISd6mP9sG6f+uoTiM7NWIEsXVKvEs7W0O/DATphK9FwLkjurUWvYl76EcSCaK5S9Vc+HOqkn6dzM0Ug/hBgEQQyEUAgmcBSbR8EEEgfccSLTAQQSCawVNsHAQTSRxzxIhMBBJIJLNX2QQCB9BFHvMhEAIFkAku1fRBAIH3EES8yEUAgmcBSbR8EEEgfccSLTAQQSCawVNsHAQTSRxzxIhMBBJIJLNX2QQCB9BFHvMhEAIFkAku1fRBAIH3EES8yEUAgmcBSbR8EEEgfccSLTAQQSCawVNsHAQTSRxzxIhMBBJIJLNX2QQCB9BFHvMhEAIFkAku1fRBAIH3EES8yEfgXBlzP4VdVWUsAAAAASUVORK5CYII="},"94c9":function(e,t,a){"use strict";a("621c")},"94d5":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("b0c0");var n={sidebar:function(e){return e.app.sidebar},size:function(e){return e.app.size},device:function(e){return e.app.device},dict:function(e){return e.dict.dict},visitedViews:function(e){return e.tagsView.visitedViews},cachedViews:function(e){return e.tagsView.cachedViews},token:function(e){return e.user.token},avatar:function(e){return e.user.avatar},name:function(e){return e.user.name},introduction:function(e){return e.user.introduction},roles:function(e){return e.user.roles},userId:function(e){return e.user.id},permissions:function(e){return e.user.permissions},permission_routes:function(e){return e.permission.routes},topbarRouters:function(e){return e.permission.topbarRouters},defaultRoutes:function(e){return e.permission.defaultRoutes},sidebarRouters:function(e){return e.permission.sidebarRouters}};t.default=n},"94dc":function(e,t,a){"use strict";a.r(t);var n=a("07d8"),s=a("33ce");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("3665");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"56a236d2",null);t["default"]=o.exports},9554:function(e,t,a){"use strict";a.r(t);var n=a("68e7"),s=a("df338");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("478e");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},"955f":function(e,t,a){},"95b3":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ac1f"),a("5319");t.default={data:function(){return{sizeOptions:[{label:"Default",value:"default"},{label:"Medium",value:"medium"},{label:"Small",value:"small"},{label:"Mini",value:"mini"}]}},computed:{size:function(){return this.$store.getters.size}},methods:{handleSetSize:function(e){this.$ELEMENT.size=e,this.$store.dispatch("app/setSize",e),this.refreshView(),this.$message({message:"Switch Size Success",type:"success"})},refreshView:function(){var e=this;this.$store.dispatch("tagsView/delAllCachedViews",this.$route);var t=this.$route.fullPath;this.$nextTick((function(){e.$router.replace({path:"/redirect"+t})}))}}}},"95c5":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("7db0"),a("d81d"),a("14d9"),a("b64b"),a("d3b7"),a("9911"),a("0643"),a("fffc"),a("a573");var n=a("a18c"),s=["/index","/user/profile"];t.default={data:function(){return{visibleNumber:5,currentIndex:void 0}},computed:{theme:function(){return this.$store.state.settings.theme},topMenus:function(){var e=[];return this.routers.map((function(t){!0!==t.hidden&&("/"===t.path?e.push(t.children[0]):e.push(t))})),e},routers:function(){return this.$store.state.permission.topbarRouters},childrenMenus:function(){var e=this,t=[];return this.routers.map((function(a){for(var n in a.children)void 0===a.children[n].parentPath&&("/"===a.path?a.children[n].path="/"+a.children[n].path:e.ishttp(a.children[n].path)||(a.children[n].path=a.path+"/"+a.children[n].path),a.children[n].parentPath=a.path),t.push(a.children[n])})),n.constantRoutes.concat(t)},activeMenu:function(){var e=this.$route.path,t=e;if(void 0!==e&&e.lastIndexOf("/")>0&&-1===s.indexOf(e)){var a=e.substring(1,e.length);t="/"+a.substring(0,a.indexOf("/")),this.$route.meta.link||this.$store.dispatch("app/toggleSideBarHide",!1)}else this.$route.children||(t=e,this.$store.dispatch("app/toggleSideBarHide",!0));return this.activeRoutes(t),t}},beforeMount:function(){window.addEventListener("resize",this.setVisibleNumber)},beforeDestroy:function(){window.removeEventListener("resize",this.setVisibleNumber)},mounted:function(){this.setVisibleNumber()},methods:{setVisibleNumber:function(){var e=document.body.getBoundingClientRect().width/3;this.visibleNumber=parseInt(e/85)},handleSelect:function(e,t){this.currentIndex=e;var a=this.routers.find((function(t){return t.path===e}));if(this.ishttp(e))window.open(e,"_blank");else if(a&&a.children)this.activeRoutes(e),this.$store.dispatch("app/toggleSideBarHide",!1);else{var n=this.childrenMenus.find((function(t){return t.path===e}));if(n&&n.query){var s=JSON.parse(n.query);this.$router.push({path:e,query:s})}else this.$router.push({path:e});this.$store.dispatch("app/toggleSideBarHide",!0)}},activeRoutes:function(e){var t=[];this.childrenMenus&&this.childrenMenus.length>0&&this.childrenMenus.map((function(a){(e==a.parentPath||"index"==e&&""==a.path)&&t.push(a)})),t.length>0?this.$store.commit("SET_SIDEBAR_ROUTERS",t):this.$store.dispatch("app/toggleSideBarHide",!0)},ishttp:function(e){return-1!==e.indexOf("http://")||-1!==e.indexOf("https://")}}}},"961f":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("4de4"),a("caad"),a("14d9"),a("a9e3"),a("d3b7"),a("2532"),a("0643"),a("2382");t.default={name:"RightToolbar",data:function(){return{value:[],title:"显示/隐藏",open:!1}},props:{showSearch:{type:Boolean,default:!0},columns:{type:Array},search:{type:Boolean,default:!0},showColumnsType:{type:String,default:"checkbox"},gutter:{type:Number,default:10}},computed:{style:function(){var e={};return this.gutter&&(e.marginRight="".concat(this.gutter/2,"px")),e}},created:function(){if("transfer"==this.showColumnsType)for(var e in this.columns)!1===this.columns[e].visible&&this.value.push(parseInt(e))},methods:{toggleSearch:function(){this.$emit("update:showSearch",!this.showSearch)},refresh:function(){this.$emit("queryTable")},dataChange:function(e){for(var t in this.columns){var a=this.columns[t].key;this.columns[t].visible=!e.includes(a)}},showColumn:function(){this.open=!0},checkboxChange:function(e,t){this.columns.filter((function(e){return e.label==t}))[0].visible=e}}}},"97d9":function(e,t,a){},9815:function(e,t,a){"use strict";a.r(t);var n=a("8c3b"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},9851:function(e,t,a){},"98ab":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-shopping",use:"icon-shopping-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-shopping"><path d="M42.913 101.36c1.642 0 3.198.332 4.667.996a12.28 12.28 0 0 1 3.89 2.772c1.123 1.184 1.987 2.582 2.592 4.193.605 1.612.908 3.318.908 5.118 0 1.8-.303 3.507-.908 5.118-.605 1.611-1.469 3.01-2.593 4.194a13.3 13.3 0 0 1-3.889 2.843 10.582 10.582 0 0 1-4.667 1.066c-1.729 0-3.306-.355-4.732-1.066a13.604 13.604 0 0 1-3.825-2.843c-1.123-1.185-1.988-2.583-2.593-4.194a14.437 14.437 0 0 1-.907-5.118c0-1.8.302-3.506.907-5.118.605-1.61 1.47-3.009 2.593-4.193a12.515 12.515 0 0 1 3.825-2.772c1.426-.664 3.003-.996 4.732-.996zm53.932.285c1.643 0 3.22.331 4.733.995a11.386 11.386 0 0 1 3.889 2.772c1.08 1.185 1.945 2.583 2.593 4.194.648 1.61.972 3.317.972 5.118 0 1.8-.324 3.506-.972 5.117-.648 1.611-1.513 3.01-2.593 4.194a12.253 12.253 0 0 1-3.89 2.843 11 11 0 0 1-4.732 1.066 10.58 10.58 0 0 1-4.667-1.066 12.478 12.478 0 0 1-3.824-2.843c-1.08-1.185-1.945-2.583-2.593-4.194a13.581 13.581 0 0 1-.973-5.117c0-1.801.325-3.507.973-5.118.648-1.611 1.512-3.01 2.593-4.194a11.559 11.559 0 0 1 3.824-2.772 11.212 11.212 0 0 1 4.667-.995zm21.781-80.747c2.42 0 4.3.355 5.64 1.066 1.34.71 2.29 1.587 2.852 2.63a6.427 6.427 0 0 1 .778 3.34c-.044 1.185-.195 2.204-.454 3.057-.26.853-.8 2.606-1.62 5.26a589.268 589.268 0 0 1-2.788 8.743 1236.373 1236.373 0 0 0-3.047 9.453c-.994 3.128-1.75 5.592-2.269 7.393-1.123 3.79-2.55 6.42-4.278 7.89-1.728 1.469-3.846 2.203-6.352 2.203H39.023l1.945 12.795h65.342c4.148 0 6.223 1.943 6.223 5.828 0 1.896-.41 3.53-1.232 4.905-.821 1.374-2.442 2.061-4.862 2.061H38.505c-1.729 0-3.176-.426-4.343-1.28-1.167-.852-2.14-1.966-2.917-3.34a21.277 21.277 0 0 1-1.88-4.478 44.128 44.128 0 0 1-1.102-4.55c-.087-.568-.324-1.942-.713-4.122-.39-2.18-.865-4.904-1.426-8.174l-1.88-10.947c-.692-4.027-1.383-8.079-2.075-12.154-1.642-9.572-3.5-20.234-5.574-31.986H6.87c-1.296 0-2.377-.356-3.24-1.067a9.024 9.024 0 0 1-2.14-2.558 10.416 10.416 0 0 1-1.167-3.2C.108 8.53 0 7.488 0 6.54c0-1.896.583-3.46 1.75-4.69C2.917.615 4.494 0 6.482 0h13.095c1.728 0 3.111.284 4.148.853 1.037.569 1.858 1.28 2.463 2.132a8.548 8.548 0 0 1 1.297 2.701c.26.948.475 1.754.648 2.417.173.758.346 1.825.519 3.199.173 1.374.345 2.772.518 4.193.26 1.706.519 3.507.778 5.403h88.678z" /></symbol>'});r.a.add(o);t["default"]=o},"98f3":function(e,t,a){},9936:function(e,t,a){"use strict";a("8ee8")},"997e":function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("6374"));a("99af"),a("4de4"),a("7db0"),a("a630"),a("a15b"),a("d81d"),a("14d9"),a("fb6a"),a("c19f"),a("ace4"),a("2c66"),a("249d"),a("40e9"),a("b0c0"),a("e9c4"),a("b680"),a("b64b"),a("d3b7"),a("ac1f"),a("8a79"),a("3ca3"),a("5319"),a("1276"),a("2ca0"),a("498a"),a("5cc6"),a("907a"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("986a"),a("1d02"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("6ce5"),a("2834"),a("72f7"),a("4ea1"),a("0643"),a("2382"),a("fffc"),a("4e3e"),a("a573"),a("81b2"),a("313d"),a("159b"),a("ddb0"),a("0eb6"),a("b7ef"),a("8bd4"),a("2b3d"),a("bf19"),a("9861"),a("88a7"),a("271a"),a("5494");var i=n(a("3452"));t.default={name:"AudioAssessment",data:function(){return{appId:"f9b0da45",apiKey:"38ad8ca75614d9c3935db71f86e08357",apiSecret:"YTlkYjU4MzA5ODg1ZjRiYjlmZDk0ZmUw",wsUrl:"wss://ise-api.xfyun.cn/v2/open-ise",presetScripts:[{id:1,title:"英语口语练习 - 自我介绍",content:"Hello, my name is Emily Chen. I am a student at Peking University. I am interested in artificial intelligence and data science. In my free time, I enjoy playing the piano and hiking in the mountains. I am learning English because it is essential for my future career in international research. My goal is to improve my speaking skills and communicate fluently with people from different countries."},{id:2,title:"英语口语练习 - 描述家乡",content:"I would like to tell you about my hometown. I come from Hangzhou. It is located in eastern China, about 180 kilometers southwest of Shanghai. The city is known for its beautiful West Lake and historical sites. The weather there is usually mild with four distinct seasons. There are many interesting places to visit, such as Lingyin Temple, Leifeng Pagoda, and the tea plantations in the hills. The local food is delicious, especially the Dongpo Pork and West Lake Fish. What I love most about my hometown is the perfect balance between natural beauty and modern development."},{id:3,title:"英语口语练习 - 未来计划",content:"In the future, I plan to become a software engineer specializing in machine learning. First, I want to complete my bachelor's degree with excellent grades. After that, I hope to pursue a master's degree in computer science at a university abroad. My long-term goal is to work for a leading technology company or start my own AI startup. To achieve these goals, I need to continuously improve my programming skills, build a strong professional network, and stay updated with the latest developments in technology. I believe that with hard work and determination, I can make my dreams come true."},{id:4,title:"英语口语练习 - 最喜欢的电影",content:'My favorite movie is "The Shawshank Redemption". It was directed by Frank Darabont and released in 1994. The movie is about a banker named Andy Dufresne who is sentenced to life in Shawshank State Penitentiary for the murder of his wife and her lover, despite his claims of innocence. The main characters are played by Tim Robbins and Morgan Freeman. What I like most about this movie is its powerful message about hope and friendship. The scene that impressed me the most was when Andy played the beautiful opera music over the prison\'s loudspeakers. I would recommend this movie to anyone who enjoys thought-provoking dramas with deep emotional impact.'},{id:5,title:"英语发音练习 - 元音和辅音",content:"Peter Piper picked a peck of pickled peppers. A peck of pickled peppers Peter Piper picked. If Peter Piper picked a peck of pickled peppers, where's the peck of pickled peppers Peter Piper picked? She sells seashells by the seashore. The shells she sells are surely seashells. How much wood would a woodchuck chuck if a woodchuck could chuck wood? Betty bought a bit of better butter but the butter Betty bought was bitter, so Betty bought a better butter to make the bitter butter better."}],selectedPresetScript:null,customScript:"",wordCount:0,maxWordCount:1e3,audioFile:null,audioUrl:"",isRecording:!1,mediaRecorder:null,audioChunks:[],ws:null,isConnected:!1,isAssessing:!1,assessmentResult:null,assessmentFeedback:"",assessmentDetailedFeedback:[],isRejected:!1,rejectionReason:"",wordAnalysis:[],pronunciationTips:[],currentWordError:null,errorMessage:"",currentScript:"",audioName:"",audioSize:"",assessmentProgress:0,progressInterval:null,activeScriptTab:"preset",selectedScriptId:1,customScriptContent:"",isWordCountExceeded:!1,sentenceAnalysisData:[],wordProblemGroups:{},selectedWord:null}},computed:{selectedScript:function(){var e=this;return this.presetScripts.find((function(t){return t.id===e.selectedScriptId}))},filteredSuggestions:function(){return this.assessmentResult&&this.assessmentResult.detailedFeedback?this.assessmentResult.detailedFeedback.filter((function(e){return e.startsWith("建议")||e.startsWith("继续练习")||e.startsWith("您的发音已经很好")})):[]}},methods:{handleAudioChange:function(e){var t=this;if(e){var a=e.name.toLowerCase(),n=a.endsWith(".wav")||a.endsWith(".pcm");if(n){var s=e.size/1024/1024<10;if(s){this.audioFile=e.raw,this.audioName=e.name,this.audioSize=this.formatFileSize(e.size),this.audioUrl=URL.createObjectURL(e.raw);var i=new FileReader;i.readAsArrayBuffer(this.audioFile),i.onload=function(e){var n=e.target.result;if(a.endsWith(".wav"))try{var s=new DataView(n),i=String.fromCharCode(s.getUint8(0),s.getUint8(1),s.getUint8(2),s.getUint8(3));if("RIFF"===i){console.log("检测到WAV格式，去除文件头");var r=12;while(r<100){var o=String.fromCharCode(s.getUint8(r),s.getUint8(r+1),s.getUint8(r+2),s.getUint8(r+3));if("data"===o)return r+=8,console.log("找到WAV数据块，数据开始位置: ".concat(r)),void(t.audioData=n.slice(r));var l=s.getUint32(r+4,!0);r+=8+l}console.warn("未找到WAV数据块，使用标准44字节偏移"),t.audioData=n.slice(44)}else console.warn("WAV文件头不符合标准格式，使用原始数据"),t.audioData=n}catch(c){console.error("处理WAV文件头时出错:",c),t.audioData=n}else t.audioData=n;console.log("音频数据已加载，大小: ".concat(t.audioData.byteLength," 字节"))},this.assessmentResult=null}else this.$message.error("音频大小不能超过 10MB，请上传更小的文件!")}else this.$message.error("请上传未压缩的PCM或WAV格式音频文件!")}},formatFileSize:function(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(2)+" KB":(e/1024/1024).toFixed(2)+" MB"},startAssessment:function(){if(this.audioUrl){if(!this.currentScript)if("preset"===this.activeScriptTab&&this.selectedScript)this.currentScript=this.selectedScript.content;else{if("custom"!==this.activeScriptTab||!this.customScriptContent.trim())return void this.$message.warning("请先提交脚本内容");if(this.isWordCountExceeded)return void this.$message.warning("自定义脚本超过1000个单词限制，请减少内容后提交");this.currentScript=this.customScriptContent}this.isAssessing=!0,this.assessmentProgress=5,this.assessmentResult=null,this.connectWebSocket()}else this.$message.warning("请先上传音频文件")},getAuthUrl:function(){var e=new URL(this.wsUrl),t=e.host,a=e.pathname,n=new Date;console.log("当前系统时间:",n);var s=n.toUTCString();console.log("生成的UTC时间:",s);var r="host: ".concat(t,"\ndate: ").concat(s,"\nGET ").concat(a," HTTP/1.1");console.log("签名原始字段:",r);var o=i.default.HmacSHA256(r,this.apiSecret),l=i.default.enc.Base64.stringify(o);console.log("生成的签名:",l);var c='api_key="'.concat(this.apiKey,'", algorithm="hmac-sha256", headers="host date request-line", signature="').concat(l,'"');console.log("authorization_origin:",c);var u=i.default.enc.Base64.stringify(i.default.enc.Utf8.parse(c));console.log("Base64编码后的authorization:",u);var d="".concat(this.wsUrl,"?authorization=").concat(encodeURIComponent(u),"&date=").concat(encodeURIComponent(s),"&host=").concat(encodeURIComponent(t));return console.log("生成的鉴权URL:",d),d},connectWebSocket:function(){var e=this;if(!this.appId||!this.apiKey||!this.apiSecret)return console.error("API配置不完整，请检查appId、apiKey和apiSecret"),this.$message.error("API配置不完整，请检查应用配置"),void this.resetAssessment();try{var t=this.getAuthUrl();this.ws&&this.ws.close(),console.log("正在连接WebSocket..."),this.ws=new WebSocket(t),this.ws.onopen=function(){console.log("WebSocket连接已建立"),e.sendStartFrame()},this.ws.onmessage=function(t){e.handleWebSocketMessage(t.data)},this.ws.onclose=function(t){console.log("WebSocket连接已关闭",t.code,t.reason),1e3!==t.code&&e.isAssessing&&(e.$message.error("连接已关闭: ".concat(t.code," ").concat(t.reason||"未知原因")),e.resetAssessment())},this.ws.onerror=function(t){console.error("WebSocket连接出错:",t),e.$message.error("评测服务连接失败，可能是网络问题或API密钥已过期"),e.resetAssessment()}}catch(a){console.error("创建WebSocket连接时出错:",a),this.$message.error("连接失败: ".concat(a.message)),this.resetAssessment()}},sendStartFrame:function(){var e=this;if(this.ws&&this.ws.readyState===WebSocket.OPEN){var t="";t="preset"===this.activeScriptTab?this.selectedScript.content:this.customScriptContent;var a=this.formatText(t);console.log("格式化后的评测文本:",a);var n={common:{app_id:this.appId},business:{sub:"ise",ent:"en_vip",category:"read_chapter",text:a,cmd:"ssb",ttp_skip:!0,rst:"entirety",ise_unite:"1",extra_ability:"syll_phone_err_msg",aue:"raw",auf:"audio/L16;rate=16000",rstcd:"utf8"},data:{status:0,format:"audio/L16;rate=16000"}};console.log("发送开始帧:",JSON.stringify(n)),this.ws.send(JSON.stringify(n)),this.handshakeSuccess=!0,setTimeout((function(){e.sendAudioData()}),500)}else this.$message.error("WebSocket连接未建立")},formatText:function(e){var t=e.trim().replace(/\s+/g," ");t=t.replace(/[^\w\s.,?!'"()]/g,""),t=t.replace(/\s*([.,?!])\s*/g,"$1 ").replace(/\s+/g," ");var a=t.split(/\s+/);a.length>1e3&&(t=a.slice(0,1e3).join(" "));var n,i=t.split(/[.!?]+\s+/),r=[],o=(0,s.default)(i);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.trim())if((new TextEncoder).encode(l).length>1e3){var c,u=l.split(" "),d="",f=(0,s.default)(u);try{for(f.s();!(c=f.n()).done;){var p=c.value,m=d+" "+p;(new TextEncoder).encode(m).length>900?(r.push(d.trim()),d=p):d=m}}catch(v){f.e(v)}finally{f.f()}d&&r.push(d.trim())}else r.push(l.trim())}}catch(v){o.e(v)}finally{o.f()}return t=r.join(". ")+".","[content]"+t},sendAudioData:function(){var e=this;if(this.audioData&&this.ws&&this.ws.readyState===WebSocket.OPEN){console.log("准备发送音频数据，总大小: ".concat(this.audioData.byteLength," 字节"));var t=4e3,a=25e3,n=100,s=0,i=this.audioData.byteLength,r=function(){if(s>=i)return console.log("所有音频数据已发送，发送结束帧"),void e.sendEndFrame();var o=Math.min(t,i-s),l=new Uint8Array(e.audioData,s,o),c="";try{var u=Array.from(l).map((function(e){return String.fromCharCode(e)})).join("");if(c=window.btoa(u),c.length>26e3){if(console.warn("Base64数据长度(".concat(c.length,")超过限制，减小切片大小")),o=Math.floor(o*(a/c.length)),o<n)return console.error("切片大小已经非常小，无法继续减小"),void e.$message.error("音频数据处理失败，请尝试使用更小的音频文件");var d=new Uint8Array(e.audioData,s,o),f=Array.from(d).map((function(e){return String.fromCharCode(e)})).join("");c=window.btoa(f),console.log("重新调整后的切片大小: ".concat(o,"字节，Base64长度: ").concat(c.length))}else if(c.length<.8*a&&o<i-s){var p=Math.min(Math.floor(o*(a/c.length)),i-s),m=new Uint8Array(e.audioData,s,p),v=Array.from(m).map((function(e){return String.fromCharCode(e)})).join(""),h=window.btoa(v);h.length<=26e3&&(o=p,c=h,console.log("增加切片大小: ".concat(o,"字节，Base64长度: ").concat(c.length)))}t=o}catch(y){return console.error("Base64编码失败:",y),void e.$message.error("音频数据编码失败，请检查音频格式")}var g=2;0===s?g=1:s+o>=i&&(g=4);var b={business:{cmd:"auw",aus:g},data:{status:1,data:c}};console.log("发送音频切片: 偏移=".concat(s,", 大小=").concat(o,"字节, 状态=").concat(g,", Base64长度=").concat(c.length)),e.ws.send(JSON.stringify(b)),s+=o;var w=Math.min(Math.round(s/i*90)+5,95);e.assessmentProgress=w,setTimeout(r,50)};r()}else console.error("WebSocket未连接或音频数据不存在")},sendEndFrame:function(){if(this.ws&&this.ws.readyState===WebSocket.OPEN){var e={business:{cmd:"auw",aus:4},data:{status:2,data:""}};console.log("发送结束帧"),this.ws.send(JSON.stringify(e))}},handleWebSocketMessage:function(e){var t=this;try{console.log("收到WebSocket消息:",e);var a=JSON.parse(e);if(0!==a.code)return console.error("评测服务返回错误，错误码: ".concat(a.code,", 错误信息: ").concat(a.message,", sid: ").concat(a.sid||"未知")),10163===a.code?(this.$message.error("参数验证错误: ".concat(a.message)),void(this.isAssessing=!1)):10105===a.code?(this.$message.error("评测文本格式错误，请检查文本内容"),void(this.isAssessing=!1)):11201===a.code?(this.$message.error("音频质量不佳，请在安静环境下录制清晰的音频"),void(this.isAssessing=!1)):(this.$message.error("评测失败，错误码: ".concat(a.code)),void(this.isAssessing=!1));if(a.data&&2===a.data.status){console.log("收到最终评测结果"),this.isAssessing=!1,this.assessmentProgress=100;var n=a.data.data;if(n)try{var s=atob(n);console.log("解码后的XML结果:",s);var i=this.parseAssessmentResult(s);if(i.success){if(this.assessmentResult={pronunciation:i.pronunciation,intonation:i.intonation,fluency:i.fluency,totalScore:i.totalScore,feedback:i.feedback,detailedFeedback:i.detailedFeedback,wordAnalysis:i.wordAnalysis,pronunciationTips:i.pronunciationTips,isRejected:i.isRejected},!i.isRejected){var r=new DOMParser,o=r.parseFromString(s,"text/xml"),l=o.querySelectorAll("sentence"),c=[];l.forEach((function(e,a){var n=e.getAttribute("content")||"",s=parseFloat(e.getAttribute("accuracy_score")||"0"),i=parseFloat(e.getAttribute("fluency_score")||"0"),r=parseFloat(e.getAttribute("standard_score")||"0");c.push({index:a+1,content:n,accuracyScore:s,fluencyScore:i,standardScore:r,feedback:t.generateSentenceFeedback(s,i,r)})})),this.processSentenceAnalysisData(c);var u=o.querySelectorAll("word"),d=[],f=[],p=o.querySelectorAll("sil");if(console.log("检测到 ".concat(p.length," 个静音段")),u.forEach((function(e){var a=e.getAttribute("content")||"",n=parseInt(e.getAttribute("dp_message")||"0"),s=parseFloat(e.getAttribute("total_score")||"0"),i=e.querySelectorAll("syll"),r=[];if(i.forEach((function(e){var t=e.getAttribute("content")||"",a=parseInt(e.getAttribute("serr_msg")||"0"),n=parseInt(e.getAttribute("syll_accent")||"0");1!==a&&2049!==a&&2048!==a||r.push({content:t,serrMsg:a,isAccentError:2049===a||2048===a,needsAccent:1===n})})),f.push({content:a+" ",dpMessage:n,score:s,syllProblems:r,isSil:!1}),0!==n||s<50||r.length>0){var o=t.getWordProblemType(n);d.push({content:a,problemType:o,score:s,syllProblems:r})}})),p.length>0){var m=[];f.forEach((function(e,t){m.push(e),t<f.length-1&&m.push({content:"sil ",isSil:!0,score:100,dpMessage:0,syllProblems:[]})})),this.assessmentResult.wordAnalysis=m}else this.assessmentResult.wordAnalysis=f;this.processWordProblemGroups(d)}console.log("解析后的评估结果:",this.assessmentResult)}else this.$message.error(i.message)}catch(v){console.error("解码base64结果时出错:",v),this.$message.error("解析评测结果时出错，请重试")}else console.error("未收到评测结果数据"),this.$message.error("未收到评测结果数据，请重试")}}catch(v){console.error("处理WebSocket消息时出错:",v),this.$message.error("处理评测结果时出错，请重试"),this.isAssessing=!1}},getWordClass:function(e){return e.isSil?"sil-mark":16===e.dpMessage?"word-missed":32===e.dpMessage?"word-added":64===e.dpMessage?"word-repeated":128===e.dpMessage?"word-substituted":e.syllProblems&&e.syllProblems.length>0?"word-pronunciation-error":e.score<50?"word-low-score":e.score<70?"word-medium-score":"word-good"},showWordError:function(e){!e.isSil&&(0!==e.dpMessage||e.syllProblems&&e.syllProblems.length>0||e.score<70)&&(this.currentWordError=e)},hideWordError:function(){this.currentWordError=null},translateErrorMessage:function(e){if(e.isSil)return"静音/停顿";if(16===e.dpMessage)return"漏读";if(32===e.dpMessage)return"增读";if(64===e.dpMessage)return"回读";if(128===e.dpMessage)return"替换";if(e.syllProblems&&e.syllProblems.length>0){var t=e.syllProblems.map((function(e){return e.content})).join(", ");return"发音问题: ".concat(t)}return e.score<50?"发音不准确":e.score<70?"发音需要改进":"发音良好"},selectScript:function(e){this.selectedScriptId=e,console.log("已选择脚本: ".concat(e))},checkWordCount:function(){if(!this.customScriptContent.trim())return this.wordCount=0,void(this.isWordCountExceeded=!1);var e=this.customScriptContent.trim().split(/\s+/);this.wordCount=e.length,this.isWordCountExceeded=this.wordCount>1e3,this.isWordCountExceeded&&this.$message.warning("自定义脚本不能超过1000个单词")},submitPresetScript:function(){this.selectedScript&&(this.currentScript=this.selectedScript.content,this.$message.success("预设脚本已提交，可以开始评测"))},submitCustomScript:function(){this.customScriptContent.trim()&&!this.isWordCountExceeded&&(this.currentScript=this.customScriptContent.trim(),this.$message.success("自定义脚本已提交，可以开始评测"))},clearCustomScript:function(){this.customScriptContent="",this.wordCount=0,this.isWordCountExceeded=!1},resetAssessment:function(){clearInterval(this.progressInterval),this.isAssessing=!1,this.assessmentProgress=0,this.ws&&(this.ws.close(),this.ws=null),this.handshakeSuccess=!1},resetAudio:function(){this.audioUrl&&URL.revokeObjectURL(this.audioUrl),this.audioUrl="",this.audioFile=null,this.audioName="",this.audioSize="",this.audioData=null,this.assessmentResult=null,this.sentenceAnalysisData=[],this.wordProblemGroups={},this.selectedWord=null,this.currentWordError=null,this.resetAssessment()},progressFormat:function(e){return 100===e?"完成":"".concat(e,"%")},getScoreColor:function(e){return e>=80?"#67c23a":e>=60?"#e6a23c":"#f56c6c"},getTagType:function(e){return e>=80?"success":e>=60?"warning":"danger"},showWordDetail:function(e){this.selectedWord=e},processSentenceAnalysisData:function(e){this.sentenceAnalysisData=e.map((function(e){return{index:e.index,content:e.content,accuracyScore:e.accuracyScore,fluencyScore:e.fluencyScore,standardScore:e.standardScore,feedback:e.feedback}}))},processWordProblemGroups:function(e){var t=this;this.wordProblemGroups={},e.forEach((function(e){t.wordProblemGroups[e.problemType]||(t.wordProblemGroups[e.problemType]=[]),t.wordProblemGroups[e.problemType].push(e)}))},getWordProblemType:function(e){switch(e){case 16:return"漏读";case 32:return"增读";case 64:return"回读";case 128:return"替换";default:return"发音问题"}},generateSentenceFeedback:function(e,t,a){var n="";return e<60?n+="发音准确度较低，请注意单词的正确发音；":e<80&&(n+="发音基本准确，但仍有改进空间；"),t<60?n+="流利度较低，朗读时请保持自然的语速和节奏；":t<80&&(n+="流利度一般，可以通过更多练习提高；"),a<60?n+="语调不够自然，请注意语句的重音和语调变化。":a<80&&(n+="语调基本自然，但可以更加注重语句的抑扬顿挫。"),n||"整体表现良好，继续保持。"},parseAssessmentResult:function(e){var t=this;try{console.log("解析评估结果XML:",e);var a=new DOMParser,n=a.parseFromString(e,"text/xml"),s=n.querySelector("read_chapter"),i=n.querySelector("rec_paper");if(!s&&!i)return console.error("未找到评分节点"),{success:!1,message:"解析评估结果失败：未找到评分节点"};var r=s||i,o=!!s,l="true"===r.getAttribute("is_rejected"),c=parseInt(r.getAttribute("except_info")||"0");if(l){var u="评测被拒绝",d="";return 28673===c?(u="无语音或音量过小",d="系统无法检测到有效的语音输入，或者音量太小。请确保麦克风正常工作并调整音量。"):28676===c?(u="检测到乱读",d="系统检测到朗读内容与文本不匹配。请确保按照提供的文本准确朗读，不要添加、省略或替换单词。"):28680===c?(u="信噪比低",d="背景噪音过大。请在安静的环境中重新录音，减少背景噪音干扰。"):28690===c?(u="音频截幅",d="音频音量过大导致信号失真。请调低麦克风音量或与麦克风保持适当距离后重新录音。"):28689===c&&(u="没有音频输入",d="系统未接收到任何音频数据。请检查麦克风设备是否正常连接并授权使用。"),console.log("评测被拒绝，原因: ".concat(u,"，错误码: ").concat(c)),{success:!0,pronunciation:1,fluency:1,intonation:1,totalScore:20,feedback:"评测未成功：".concat(u),detailedFeedback:[d],isRejected:!0,rejectCode:c}}var f=0,p=0,m=0,v=0,h=0;o?(p=parseFloat(s.getAttribute("accuracy_score")||"0"),m=parseFloat(s.getAttribute("fluency_score")||"0"),v=parseFloat(s.getAttribute("integrity_score")||"0"),h=parseFloat(s.getAttribute("standard_score")||"0"),f=parseFloat(s.getAttribute("total_score")||"0"),f||(f=v/100*(.5*p+.3*m+.2*h)),console.log("从read_chapter提取的原始分数: 发音=".concat(p,", 流利=").concat(m,", 完整=").concat(v,", 标准=").concat(h,", 总分=").concat(f))):(p=parseFloat(i.getAttribute("pronunciation")||"0"),m=parseFloat(i.getAttribute("fluency")||"0"),v=parseFloat(i.getAttribute("integrity")||"0"),h=parseFloat(i.getAttribute("tone")||"0"),f=parseFloat(i.getAttribute("total_score")||"0"),console.log("从rec_paper提取的原始分数: 发音=".concat(p,", 流利=").concat(m,", 完整=").concat(v,", 标准=").concat(h,", 总分=").concat(f)));var g=Math.max(1,Math.min(5,Math.round(p/20))),b=Math.max(1,Math.min(5,Math.round(m/20))),w=Math.max(1,Math.min(5,Math.round(h/20)));f=Math.max(0,Math.min(100,Math.round(f)));var y=n.querySelectorAll("sentence"),C=[];y.forEach((function(e,a){var n=e.getAttribute("content")||"",s=parseFloat(e.getAttribute("accuracy_score")||"0"),i=parseFloat(e.getAttribute("fluency_score")||"0"),r=parseFloat(e.getAttribute("standard_score")||"0");(s<70||i<70||r<70)&&C.push({index:a+1,content:n,accuracyScore:s,fluencyScore:i,standardScore:r,feedback:t.generateSentenceFeedback(s,i,r)})}));var x=n.querySelectorAll("word"),k=[],_=[];x.forEach((function(e){var a=e.getAttribute("content")||"",n=parseInt(e.getAttribute("dp_message")||"0"),s=parseFloat(e.getAttribute("total_score")||"0"),i={content:a+" ",dpMessage:n,score:s,syllProblems:[]},r=e.querySelectorAll("syll");if(r.forEach((function(e){var t=e.getAttribute("content")||"",a=parseInt(e.getAttribute("serr_msg")||"0"),n=parseInt(e.getAttribute("syll_accent")||"0");1!==a&&2049!==a&&2048!==a||i.syllProblems.push({content:t,serrMsg:a,isAccentError:2049===a||2048===a,needsAccent:1===n})})),_.push(i),0!==n||s<50||i.syllProblems.length>0){var o=t.getWordProblemType(n);k.push({content:a,problemType:o,score:s,syllProblems:i.syllProblems})}}));var S=this.generateDetailedFeedback(f,C,k),T=this.generatePronunciationTips(k,f),I="";return I=f>=90?"您的英语口语表现优秀！发音清晰，语调自然，流利度高。":f>=80?"您的英语口语表现很好！发音基本清晰，语调较为自然，流利度良好。":f>=70?"您的英语口语表现良好，但仍有提升空间。建议关注发音准确性和语调自然度。":f>=60?"您的英语口语表现一般，需要更多练习。建议重点关注发音问题和流利度。":"您的英语口语需要大量练习。建议从基础发音开始，逐步提高流利度和语调。",{success:!0,pronunciation:g,fluency:b,intonation:w,totalScore:f,feedback:I,detailedFeedback:S,wordAnalysis:_,pronunciationTips:T,isRejected:!1}}catch(A){return console.error("解析评估结果出错:",A),{success:!1,message:"解析评估结果失败："+A.message}}},generateDetailedFeedback:function(e,t,a){var n=this,s=[];if(t.length>0&&t.forEach((function(e){s.push("句子 ".concat(e.index,'："').concat(n.truncateText(e.content,30),'" - ').concat(e.feedback))})),a.length>0){var i={};a.forEach((function(e){i[e.problemType]||(i[e.problemType]=[]),i[e.problemType].push(e)})),Object.keys(i).forEach((function(e){var t=i[e];if(t.length>0){var a=t.map((function(e){return e.content})).join("、");s.push("".concat(e,"问题：").concat(n.truncateText(a,50))),t.forEach((function(e){if(e.syllProblems&&e.syllProblems.length>0){var t=e.syllProblems.map((function(e){return e.content})).join("、");s.push('  "'.concat(e.content,'" 中的音节问题：').concat(t))}}))}}))}return e<60?(s.push("建议：多听英语音频，模仿标准发音，注意单词的重音和句子的语调。"),s.push("可以使用英语发音应用或查看在线发音词典，学习正确的发音方式。"),s.push("尝试跟读英语材料，从简单的句子开始，逐渐增加难度。")):e<80?(s.push("继续练习，关注朗读的流利度和自然度，注意语句间的连贯性。"),s.push("尝试录制自己的朗读并与标准发音比较，找出需要改进的地方。")):s.push("您的发音已经很好，继续保持并尝试更复杂的材料来提高。"),s},generatePronunciationTips:function(e,t){var a=[],n={};if(e.forEach((function(e){n[e.problemType]||(n[e.problemType]=[]),n[e.problemType].push(e)})),n["漏读"]&&n["漏读"].length>0&&a.push("注意不要漏读单词，确保朗读所有文本内容。"),n["增读"]&&n["增读"].length>0&&a.push("避免增读不存在的单词，仔细阅读文本内容。"),n["回读"]&&n["回读"].length>0&&a.push("尽量避免重复朗读同一单词，保持流畅的语速。"),n["替换"]&&n["替换"].length>0&&a.push("注意准确朗读单词，不要用其他单词替换原文。"),n["发音问题"]&&n["发音问题"].length>0){a.push("关注单词的正确发音，特别是元音和辅音的区别。");var s=!1;n["发音问题"].forEach((function(e){e.syllProblems&&e.syllProblems.length>0&&(s=!0)})),s&&a.push("注意单词中的音节发音，尤其是重音音节。")}return t<60?(a.push("建议多听英语音频，模仿标准发音，注意单词的重音和句子的语调。"),a.push("可以使用英语发音应用或查看在线发音词典，学习正确的发音方式。"),a.push("尝试跟读英语材料，从简单的句子开始，逐渐增加难度。")):t<80?(a.push("继续练习，关注朗读的流利度和自然度，注意语句间的连贯性。"),a.push("尝试录制自己的朗读并与标准发音比较，找出需要改进的地方。")):a.push("您的发音已经很好，继续保持并尝试更复杂的材料来提高。"),a},truncateText:function(e,t){return e?e.length>t?e.substring(0,t)+"...":e:""}}}},"99c3":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-time-range",use:"icon-time-range-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-time-range"><defs><style type="text/css"></style></defs><path d="M498.595712 482.290351 345.420077 482.290351l0 57.307194 210.477712 0L555.897789 274.196942l-57.301054 0L498.596735 482.290351zM498.595712 482.290351" p-id="1249" /><path d="M577.685002 644.98478l379.879913 0 0 57.302077L577.685002 702.286858 577.685002 644.98478 577.685002 644.98478zM577.685002 644.98478" p-id="1250" /><path d="M577.685002 773.764795l379.879913 0 0 57.307194L577.685002 831.071989 577.685002 773.764795 577.685002 773.764795zM577.685002 773.764795" p-id="1251" /><path d="M577.685002 902.549927l379.879913 0 0 57.307194L577.685002 959.857121 577.685002 902.549927 577.685002 902.549927zM577.685002 902.549927" p-id="1252" /><path d="M102.523001 382.290823c4.450359 2.615571 9.470699 3.954055 14.530948 3.954055 2.969635 0 5.952572-0.461511 8.836249-1.394766l190.809767-61.886489c15.052834-4.882194 23.297612-21.040199 18.415418-36.08894-4.882194-15.052834-21.040199-23.297612-36.093033-18.415418L175.676092 308.458257c15.994276-26.115797 35.170011-50.537 57.370639-72.743768 73.767074-73.767074 171.845857-114.388237 276.16783-114.388237 104.32095 0 202.39564 40.622186 276.16169 114.388237s114.393353 171.845857 114.393353 276.16783c0 26.427906-2.615571 52.449559-7.709589 77.780481l58.302871 0c4.464685-25.499767 6.708795-51.470255 6.708795-77.780481 0-60.449767-11.845793-119.102608-35.204803-174.336584-22.559808-53.334719-54.850236-101.226472-95.968725-142.349055-41.122583-41.122583-89.017406-73.408917-142.348032-95.968725C628.317169 75.866898 569.659211 64.021106 509.215584 64.021106c-60.448744 0-119.106702 11.845793-174.336584 35.207873-53.334719 22.559808-101.230566 54.846142-142.349055 95.968725-23.980157 23.980157-44.934398 50.278103-62.727647 78.601172l-20.738323-105.655342c-3.043313-15.527648-18.105357-25.642007-33.631982-22.599717-15.527648 3.048429-25.64303 18.105357-22.599717 33.637098l36.102243 183.932126C90.51348 371.153158 95.460142 378.13313 102.523001 382.290823L102.523001 382.290823zM102.523001 382.290823" p-id="1253" /><path d="M126.020158 587.9416 67.768453 587.9416c5.759167 33.679054 15.368012 66.544579 28.789697 98.278327 22.559808 53.333696 54.850236 101.225449 95.971795 142.348032 41.122583 41.122583 89.014336 73.408917 142.349055 95.968725 54.112432 22.88829 111.517863 34.71157 170.668031 35.18229L505.547031 902.395408c-102.94972-0.941442-199.594851-41.445948-272.499277-114.349351C177.545672 732.543975 140.810003 663.275355 126.020158 587.9416L126.020158 587.9416zM126.020158 587.9416" p-id="1254" /></symbol>'});r.a.add(o);t["default"]=o},"9a27":function(e,t,a){},"9a2d":function(e,t,a){"use strict";a.r(t);var n=a("2bb9"),s=a("dda2");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("2309");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"470c3b51",null);t["default"]=o.exports},"9a4c":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-radio",use:"icon-radio-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-radio"><defs><style type="text/css"></style></defs><path d="M507.39346659 71.84873358c241.53533667 0 437.39770766 195.85422109 437.39770767 437.37442191 0 241.53766571-195.86237099 437.38955776-437.39770767 437.38955776-241.50040803 0-437.34997219-195.85189205-437.34997219-437.38955776C70.0434944 267.70295467 265.89189347 71.84873358 507.39346659 71.84873358L507.39346659 71.84873358zM507.39346659 282.81899805c-125.00686734 0-226.37039389 101.38914133-226.37039388 226.41813048 0 125.01268821 101.36352768 226.39717262 226.37039388 226.39717262 125.04295993 0 226.42395136-101.38448441 226.42395136-226.39717262C733.81625401 384.20813938 632.43642653 282.81899805 507.39346659 282.81899805L507.39346659 282.81899805zM507.39346659 120.78172615c-214.46664192 0-388.42047261 173.95150279-388.4204726 388.44026539 0 214.51204949 173.95499463 388.46122325 388.4204726 388.46122325 214.52369237 0 388.46005817-173.94800981 388.46005818-388.46122325C895.85236082 294.73322894 721.91715897 120.78172615 507.39346659 120.78172615z" p-id="880" /></symbol>'});r.a.add(o);t["default"]=o},"9ab3":function(e,t,a){e.exports=a.p+"static/img/logo4.0a681450.png"},"9b2c":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-logininfor",use:"icon-logininfor-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-logininfor"><defs><style type="text/css"></style></defs><path d="M896 128h-85.333333a42.666667 42.666667 0 0 0 0 85.333333h42.666666v640H170.666667V213.333333h42.666666a42.666667 42.666667 0 0 0 0-85.333333H128a42.666667 42.666667 0 0 0-42.666667 42.666667v725.333333a42.666667 42.666667 0 0 0 42.666667 42.666667h768a42.666667 42.666667 0 0 0 42.666667-42.666667V170.666667a42.666667 42.666667 0 0 0-42.666667-42.666667z" p-id="5262" /><path d="M341.333333 298.666667a42.666667 42.666667 0 0 0 42.666667-42.666667V128a42.666667 42.666667 0 0 0-85.333333 0v128a42.666667 42.666667 0 0 0 42.666666 42.666667zM512 298.666667a42.666667 42.666667 0 0 0 42.666667-42.666667V128a42.666667 42.666667 0 0 0-85.333334 0v128a42.666667 42.666667 0 0 0 42.666667 42.666667zM682.666667 298.666667a42.666667 42.666667 0 0 0 42.666666-42.666667V128a42.666667 42.666667 0 0 0-85.333333 0v128a42.666667 42.666667 0 0 0 42.666667 42.666667zM341.333333 768a42.666667 42.666667 0 0 0 42.666667-42.666667 128 128 0 0 1 256 0 42.666667 42.666667 0 0 0 85.333333 0 213.333333 213.333333 0 0 0-107.52-184.32A128 128 0 0 0 640 469.333333a128 128 0 0 0-256 0 128 128 0 0 0 22.186667 71.68A213.333333 213.333333 0 0 0 298.666667 725.333333a42.666667 42.666667 0 0 0 42.666666 42.666667z m128-298.666667a42.666667 42.666667 0 1 1 42.666667 42.666667 42.666667 42.666667 0 0 1-42.666667-42.666667z" p-id="5263" /></symbol>'});r.a.add(o);t["default"]=o},"9b8f":function(e,t,a){"use strict";a.r(t);var n=a("e0df");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);var i,r,o=a("2877"),l=Object(o["a"])(n["default"],i,r,!1,null,null,null);t["default"]=l.exports},"9cb5":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-log",use:"icon-log-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-log"><defs><style type="text/css"></style></defs><path d="M208.736 566.336H64.384v59.328h144.352v-59.328z m0-336.096H165.44V74.592c0-7.968 4.896-14.848 10.464-14.848h502.016V0.448H175.936c-38.72 1.248-69.248 34.368-68.192 74.144v155.648H64.384V289.6h144.352V230.24z m0 168.096H64.384v59.328h144.352v-59.328z m714.656 76.576h-57.76v474.496c0 7.936-4.896 14.848-10.464 14.848H175.936c-5.568 0-10.464-6.912-10.464-14.848v-155.68h43.296v-59.296H64.384v59.296h43.328v155.68c-1.024 39.776 29.472 72.896 68.192 74.144h679.232c38.72-1.184 69.248-34.368 68.256-74.144V474.912z m14.944-290.336l-83.072-85.312a71.264 71.264 0 0 0-52.544-21.728 71.52 71.52 0 0 0-51.616 23.872L386.528 507.264a30.496 30.496 0 0 0-6.176 10.72L308.16 740.512a30.016 30.016 0 0 0 6.976 30.24c7.712 7.968 19.2 10.752 29.568 7.2l216.544-74.112a28.736 28.736 0 0 0 12.128-7.936L940.448 287.456a75.552 75.552 0 0 0-2.112-102.88z m-557.12 518.272l39.104-120.64 78.336 80.416-117.44 40.224z m170.048-70.016l-103.552-106.016 200.16-222.4 103.52 106.304-200.128 222.112zM897.952 247.072l-0.256 0.224-107.136 119.168-103.52-106.528 106.432-118.624a14.144 14.144 0 0 1 10.304-4.736 13.44 13.44 0 0 1 10.464 4.288l83.264 85.696c5.472 5.6 5.664 14.72 0.448 20.512z" p-id="4806" /></symbol>'});r.a.add(o);t["default"]=o},"9d28":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("61f7");t.default={name:"SvgIcon",props:{iconClass:{type:String,required:!0},className:{type:String,default:""}},computed:{isExternal:function(){return(0,n.isExternal)(this.iconClass)},iconName:function(){return"#icon-".concat(this.iconClass)},svgClass:function(){return this.className?"svg-icon "+this.className:"svg-icon"},styleExternalIcon:function(){return{mask:"url(".concat(this.iconClass,") no-repeat 50% 50%"),"-webkit-mask":"url(".concat(this.iconClass,") no-repeat 50% 50%")}}}}},"9d81":function(e,t,a){"use strict";a("d703")},"9dc8":function(e,t,a){},"9dfb":function(e,t,a){"use strict";a.r(t);var n=a("398c"),s=a("37e1");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},"9e35":function(e,t,a){"use strict";a.r(t);var n=a("cd51"),s=a("bccb");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("d27a");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"1db940f3",null);t["default"]=o.exports},"9ec1":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-checkbox",use:"icon-checkbox-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-checkbox"><defs><style type="text/css"></style></defs><path d="M828.40625 90.125H195.59375C137.375 90.125 90.125 137.375 90.125 195.59375v632.8125c0 58.21875 47.25 105.46875 105.46875 105.46875h632.8125c58.21875 0 105.46875-47.25 105.46875-105.46875V195.59375c0-58.21875-47.25-105.46875-105.46875-105.46875z m52.734375 738.28125c0 29.16-23.57015625 52.734375-52.734375 52.734375H195.59375c-29.109375 0-52.734375-23.574375-52.734375-52.734375V195.59375c0-29.109375 23.625-52.734375 52.734375-52.734375h632.8125c29.16 0 52.734375 23.625 52.734375 52.734375v632.8125z" p-id="903" /><path d="M421.52890625 709.55984375a36.28125 36.28125 0 0 1-27.55265625-12.66890625L205.17453125 476.613125a36.28546875 36.28546875 0 0 1 55.10109375-47.22890625l164.986875 192.4846875 342.16171875-298.48078125a36.2896875 36.2896875 0 0 1 47.70984375 54.68765625L445.3859375 700.6203125a36.3234375 36.3234375 0 0 1-23.85703125 8.93953125z" p-id="904" /></symbol>'});r.a.add(o);t["default"]=o},"9f4c":function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-icon",use:"icon-icon-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-icon"><path d="M115.147.062a13 13 0 0 1 4.94.945c1.55.63 2.907 1.526 4.069 2.688a13.148 13.148 0 0 1 2.761 4.069c.678 1.55 1.017 3.245 1.017 5.086v102.3c0 3.681-1.187 6.733-3.56 9.155-2.373 2.422-5.352 3.633-8.937 3.633H12.992c-3.875 0-7-1.26-9.373-3.779-2.373-2.518-3.56-5.667-3.56-9.445V12.704c0-3.39 1.163-6.345 3.488-8.863C5.872 1.32 8.972.062 12.847.062h102.3zM81.434 109.047c1.744 0 3.003-.412 3.778-1.235.775-.824 1.163-1.914 1.163-3.27 0-1.26-.388-2.325-1.163-3.197-.775-.872-2.034-1.307-3.778-1.307H72.57c.097-.194.145-.485.145-.872V27.09h9.01c1.743 0 2.954-.436 3.633-1.308.678-.872 1.017-1.938 1.017-3.197 0-1.26-.34-2.325-1.017-3.197-.679-.872-1.89-1.308-3.633-1.308H46.268c-1.743 0-2.954.436-3.632 1.308-.678.872-1.018 1.938-1.018 3.197 0 1.26.34 2.325 1.018 3.197.678.872 1.889 1.308 3.632 1.308h8.138v72.075c0 .193.024.339.073.436.048.096.072.242.072.436H46.56c-1.744 0-3.003.435-3.778 1.307-.775.872-1.163 1.938-1.163 3.197 0 1.356.388 2.446 1.163 3.27.775.823 2.034 1.235 3.778 1.235h34.875z" /></symbol>'});r.a.add(o);t["default"]=o},a012:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-lock",use:"icon-lock-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-lock"><path d="M119.88 49.674h-7.987V39.52C111.893 17.738 90.45.08 63.996.08 37.543.08 16.1 17.738 16.1 39.52v10.154H8.113c-4.408 0-7.987 2.94-7.987 6.577v65.13c0 3.637 3.57 6.577 7.987 6.577H119.88c4.407 0 7.987-2.94 7.987-6.577v-65.13c-.008-3.636-3.58-6.577-7.987-6.577zm-23.953 0H32.065V39.52c0-14.524 14.301-26.295 31.931-26.295 17.63 0 31.932 11.777 31.932 26.295v10.153z" /></symbol>'});r.a.add(o);t["default"]=o},a028:function(e,t,a){"use strict";a("b661")},a04e:function(e,t,a){"use strict";a.r(t);var n=a("fd30"),s=a("e5ab");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("08e4");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"31c6c7cc",null);t["default"]=o.exports},a159:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addJob=o,t.changeJobStatus=u,t.delJob=c,t.getJob=r,t.listJob=i,t.runJob=d,t.updateJob=l;var s=n(a("b775"));function i(e){return(0,s.default)({url:"/monitor/job/list",method:"get",params:e})}function r(e){return(0,s.default)({url:"/monitor/job/"+e,method:"get"})}function o(e){return(0,s.default)({url:"/monitor/job",method:"post",data:e})}function l(e){return(0,s.default)({url:"/monitor/job",method:"put",data:e})}function c(e){return(0,s.default)({url:"/monitor/job/"+e,method:"delete"})}function u(e,t){var a={jobId:e,status:t};return(0,s.default)({url:"/monitor/job/changeStatus",method:"put",data:a})}function d(e,t){var a={jobId:e,jobGroup:t};return(0,s.default)({url:"/monitor/job/run",method:"put",data:a})}},a16b:function(e,t,a){"use strict";a("3a17")},a17a:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-language",use:"icon-language-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-language"><path d="M84.742 36.8c2.398 7.2 5.595 12.8 11.19 18.4 4.795-4.8 7.992-11.2 10.39-18.4h-21.58zm-52.748 40h20.78l-10.39-28-10.39 28z" /><path d="M111.916 0H16.009C7.218 0 .025 7.2.025 16v96c0 8.8 7.193 16 15.984 16h95.907c8.791 0 15.984-7.2 15.984-16V16c0-8.8-6.394-16-15.984-16zM72.754 103.2c-1.598 1.6-3.197 1.6-4.795 1.6-.8 0-2.398 0-3.197-.8-.8-.8-1.599 0-1.599-.8s-.799-1.6-1.598-3.2c-.8-1.6-.8-2.4-1.599-4l-3.196-8.8H28.797L25.6 96c-1.598 3.2-2.398 5.6-3.197 7.2-.8 1.6-2.398 1.6-4.795 1.6-1.599 0-3.197-.8-4.796-1.6-1.598-1.6-2.397-2.4-2.397-4 0-.8 0-1.6.799-3.2.8-1.6.8-2.4 1.598-4l17.583-44.8c.8-1.6.8-3.2 1.599-4.8.799-1.6 1.598-3.2 2.397-4 .8-.8 1.599-2.4 3.197-3.2 1.599-.8 3.197-.8 4.796-.8 1.598 0 3.196 0 4.795.8 1.598.8 2.398 1.6 3.197 3.2.799.8 1.598 2.4 2.397 4 .8 1.6 1.599 3.2 2.398 5.6l17.583 44c1.598 3.2 2.398 5.6 2.398 7.2-.8.8-1.599 2.4-2.398 4zM116.711 72c-8.791-3.2-15.185-7.2-20.78-12-5.594 5.6-12.787 9.6-21.579 12l-2.397-4c8.791-2.4 15.984-5.6 21.579-11.2C87.939 51.2 83.144 44 81.545 36h-7.992v-3.2h21.58c-1.6-2.4-3.198-5.6-4.796-8l2.397-.8c1.599 2.4 3.997 5.6 5.595 8.8h19.98v4h-7.992c-2.397 8-6.393 15.2-11.189 20 5.595 4.8 11.988 8.8 20.78 11.2l-3.197 4z" /></symbol>'});r.a.add(o);t["default"]=o},a17e:function(e,t,a){"use strict";a.r(t);var n=a("ce5a"),s=a("62dc");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},a18c:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicRoutes=t.default=t.constantRoutes=void 0,a("b64b"),a("d3b7"),a("ac1f");var s=n(a("dbce")),i=n(a("2b0e")),r=n(a("8c4f")),o=n(a("c1f7"));i.default.use(r.default);var l=t.constantRoutes=[{path:"/redirect",component:o.default,hidden:!0,children:[{path:"/redirect/:path(.*)",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("9b8f"))}))}}]},{path:"/login",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("dd7b"))}))},hidden:!0},{path:"/register",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("7803"))}))},hidden:!0},{path:"/404",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("2754"))}))},hidden:!0},{path:"/401",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("ec55"))}))},hidden:!0},{path:"",component:o.default,redirect:"index",children:[{path:"index",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("1e4b"))}))},name:"Index",meta:{title:"首页",icon:"dashboard",affix:!0}}]},{path:"/user",component:o.default,hidden:!0,redirect:"noredirect",children:[{path:"profile",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("4c1b"))}))},name:"Profile",meta:{title:"个人中心",icon:"user"}}]},{path:"/cas/callback",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("f092"))}))},hidden:!0}],c=(t.dynamicRoutes=[{path:"/system/user-auth",component:o.default,hidden:!0,meta:{roles:["admin"],permissions:["system:user:edit"],icon:"druid"},children:[{path:"role/:userId",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("6a33"))}))},name:"AuthRole",meta:{title:"分配角色",activeMenu:"/system/user",icon:"druid"}}]},{path:"/system/role-auth",component:o.default,hidden:!0,meta:{roles:["admin"],permissions:["system:role:edit"],icon:"druid"},children:[{path:"user/:roleId(\\d+)",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("7054"))}))},name:"AuthUser",meta:{title:"分配用户",activeMenu:"/system/role"}}]},{path:"/system/dict-data",component:o.default,hidden:!0,meta:{roles:["admin"],permissions:["system:user:edit"],icon:"druid"},children:[{path:"index/:dictId(\\d+)",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("bfc4"))}))},name:"Data",meta:{title:"字典数据",activeMenu:"/system/dict"}}]},{path:"/monitor/job-log",component:o.default,hidden:!0,meta:{roles:["admin"],permissions:["system:user:edit"],icon:"druid"},children:[{path:"index/:jobId(\\d+)",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("0062"))}))},name:"JobLog",meta:{title:"调度日志",activeMenu:"/monitor/job"}}]},{path:"/memberManage/",component:o.default,hidden:!1,meta:{roles:["admin"],permissions:["system:user:edit"],icon:"user"},children:[{path:"index/",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("6eb4"))}))},name:"memberManage",meta:{title:"成员管理",activeMenu:"/memberManage/",icon:"user"}},{path:"userDetail/",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("126b"))}))},name:"userDetail",hidden:!0,meta:{title:"用户详情",activeMenu:"/memberManage/index"}}]},{path:"/homeworkManage/",component:o.default,hidden:!1,meta:{roles:["admin"],permissions:["system:user:edit"],icon:"druid"},children:[{path:"index/",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("f2e6"))}))},name:"index",meta:{title:"作业管理",activeMenu:"/homeworkManage/"}},{path:"createHomework",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("572a"))}))},hidden:!0,name:"createHomework",meta:{title:"创建作业",activeMenu:"/homeworkManage/index/createHomework"}},{path:"homeWorkDetail/:ownerId/:assignmentId",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("4b61"))}))},hidden:!0,name:"homeWorkDetail",meta:{title:"作业详情",activeMenu:"/homeworkManage/index/homeWorkDetail"}},{path:"/assign-task/:taskId",name:"AssignTask",hidden:!0,component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("6ae2"))}))},meta:{title:"分配作业",activeMenu:"/homeworkManage/index/createHomework/"}}]},{path:"/classManage/",component:o.default,hidden:!1,meta:{title:"班级管理",icon:"user"},children:[{path:"teacher/index/",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("3c57"))}))},name:"teacher/index",hidden:!1,meta:{title:"教师班级",roles:["admin"],activeMenu:"/classManage/"}},{path:"teacher/:classId",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("5f4a"))}))},name:"classapplication",hidden:!0,meta:{title:"查看申请",activeMenu:"/classManage/teacher/index"},props:!0},{path:"student/index/",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("b4ba"))}))},name:"student/index",hidden:!1,meta:{title:"学生班级",roles:["common"],activeMenu:"/classManage/"}}]},{path:"/myTask/",component:o.default,hidden:!1,meta:{title:"我的任务",icon:"user"},children:[{path:"myEvaluation/index/",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("9554"))}))},name:"myEvaluation/index/",hidden:!1,meta:{title:"我的评价",roles:["common"],activeMenu:"/myTask/"}},{path:"/myEvaluation/selfReview",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("2923"))}))},name:"myEvaluation/selfReview",hidden:!0,props:function(e){return e.query},meta:{title:"自评",roles:["common"],activeMenu:"/myTask/"}},{path:"/myEvaluation/mutualReview",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("9e35"))}))},name:"myEvaluation/mutualReview",hidden:!0,props:function(e){return e.query},meta:{title:"互评",roles:["common"],activeMenu:"/myTask/"}},{path:"/myEvaluation/teacherReview",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("ce7f"))}))},name:"myEvaluation/teacherReview",hidden:!0,props:function(e){return e.query},meta:{title:"师评",roles:["common"],activeMenu:"/myTask/"}},{path:"myHomework/index/",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("edba"))}))},name:"myHomework/index/",hidden:!1,meta:{title:"我的任务",roles:["common"],activeMenu:"/myTask/"}},{path:"myHomework/machineEvaluation/:taskId/:submitId",name:"MachineEvaluation",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("0ee4"))}))},props:function(e){return{taskId:e.params.taskId,submitId:e.params.submitId,fileNames:e.query.fileNames||"{}"}},hidden:!0,meta:{title:"提交作业",roles:["common"],activeMenu:"/myTask/myHomework/"}},{path:"myHomework/machineEvaluation/showmachineEvaluation",name:"showmachineEvaluation",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("6173"))}))},props:function(e){return{taskId:e.query.taskId,submitId:e.query.submitId,taskDetails:e.query.taskDetails?JSON.parse(e.query.taskDetails):{}}},hidden:!0,meta:{title:"机评详情",roles:["common"],activeMenu:"/myTask/myHomework/"}},{path:"myHomework/machineEvaluation/showSelfReview",name:"showSelfReview",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("607a"))}))},props:function(e){return{taskId:e.query.taskId,submitId:e.query.submitId,taskDetails:e.query.taskDetails?JSON.parse(e.query.taskDetails):{}}},hidden:!0,meta:{title:"自评详情",roles:["common"],activeMenu:"/myTask/myHomework/"}},{path:"myHomework/machineEvaluation/showMutualReview",name:"showMutualReview",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("3eff"))}))},props:function(e){return{taskId:e.query.taskId,submitId:e.query.submitId,taskDetails:e.query.taskDetails?JSON.parse(e.query.taskDetails):{}}},hidden:!0,meta:{title:"互评详情",roles:["common"],activeMenu:"/myTask/myHomework/"}},{path:"myHomework/machineEvaluation/showTeacherReview",name:"showTeacherReview",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("5758"))}))},props:function(e){return{taskId:e.query.taskId,submitId:e.query.submitId,taskDetails:e.query.taskDetails?JSON.parse(e.query.taskDetails):{}}},hidden:!0,meta:{title:"师评详情",roles:["common"],activeMenu:"/myTask/myHomework/"}}]},{path:"/homeworkTrial/",component:o.default,hidden:!1,meta:{title:"特色功能",icon:"user"},children:[{path:"video/index",name:"homeworkTrial_video",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("8e02"))}))},meta:{title:"演讲视频智能评价",roles:["common"],icon:"tab"}},{path:"audio/index",name:"homeworkTrial_audio",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("cfb0"))}))},meta:{title:"英语语音智能评价",roles:["common"],icon:"tab"}},{path:"chat/index",name:"homeworkTrial_chat",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("6f29"))}))},meta:{title:"演讲稿智能写作",roles:["common"],icon:"message"}}]},{path:"/tool/gen-edit",component:o.default,hidden:!0,meta:{roles:["admin"],permissions:["system:user:edit"],icon:"druid"},children:[{path:"index/:tableId(\\d+)",component:function(){return Promise.resolve().then((function(){return(0,s.default)(a("76f8"))}))},name:"GenEdit",meta:{title:"修改生成配置",activeMenu:"/tool/gen"}}]}],r.default.prototype.push),u=r.default.prototype.replace;r.default.prototype.push=function(e){return c.call(this,e).catch((function(e){return e}))},r.default.prototype.replace=function(e){return u.call(this,e).catch((function(e){return e}))};t.default=new r.default({mode:"history",scrollBehavior:function(){return{y:0}},routes:l})},a1ac:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-number",use:"icon-number-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-number"><defs><style type="text/css"></style></defs><path d="M279.272727 791.272727h512a46.545455 46.545455 0 0 1 0 93.090909H279.272727a46.545455 46.545455 0 0 1 0-93.090909z m33.838546-617.984V651.636364H193.722182V395.170909c0-37.003636-0.884364-59.298909-2.653091-66.746182a24.948364 24.948364 0 0 0-14.615273-16.989091c-8.005818-3.863273-25.786182-5.771636-53.341091-5.771636h-11.822545v-55.854545c57.716364-12.381091 101.562182-37.888 131.490909-76.520728h70.283636z m303.709091 396.8V651.636364H354.164364v-68.235637c77.777455-127.255273 124.043636-206.010182 138.705454-236.218182 14.661818-30.254545 22.016-53.853091 22.016-70.74909 0-13.032727-2.234182-22.714182-6.656-29.137455-4.421818-6.376727-11.170909-9.588364-20.247273-9.588364a22.248727 22.248727 0 0 0-20.200727 10.612364c-4.468364 7.121455-6.656 21.178182-6.656 42.263273v45.521454H354.164364v-17.454545c0-26.763636 1.396364-47.941818 4.142545-63.348364 2.746182-15.499636 9.541818-30.72 20.386909-45.661091 10.798545-14.987636 24.901818-26.298182 42.216727-33.978182 17.361455-7.68 38.167273-11.543273 62.37091-11.543272 47.476364 0 83.316364 11.776 107.706181 35.328 24.296727 23.552 36.445091 53.341091 36.445091 89.367272 0 27.368727-6.842182 56.32-20.48 86.853819-13.730909 30.533818-54.039273 95.325091-121.018182 194.420363h130.885819z m270.615272-189.393454c18.152727 6.097455 31.650909 16.104727 40.494546 29.975272 8.843636 13.917091 13.312 46.452364 13.312 97.652364 0 38.027636-4.328727 67.490909-13.032727 88.529455-8.657455 20.945455-23.598545 36.910545-44.869819 47.848727-21.271273 10.938182-48.593455 16.384-81.873454 16.384-37.794909 0-67.490909-6.330182-89.088-19.083636-21.550545-12.660364-35.746909-28.253091-42.542546-46.638546-6.795636-18.432-10.193455-50.362182-10.193454-95.883636v-37.841455h119.389091v77.730909c0 20.666182 1.210182 33.838545 3.723636 39.424 2.420364 5.585455 7.912727 8.424727 16.337455 8.424728 9.309091 0 15.36-3.537455 18.338909-10.612364 2.932364-7.121455 4.421818-25.6 4.421818-55.575273v-33.047273c0-18.338909-2.048-31.744-6.190546-40.215272a30.72 30.72 0 0 0-18.338909-16.709818c-8.052364-2.653091-23.738182-4.189091-46.964363-4.561455V357.050182c28.392727 0 45.893818-1.070545 52.596363-3.258182a22.946909 22.946909 0 0 0 14.475637-14.149818c2.932364-7.307636 4.421818-18.711273 4.421818-34.257455v-26.624c0-16.756364-1.722182-27.741091-5.12-33.047272-3.490909-5.352727-8.843636-8.005818-16.151273-8.005819-8.285091 0-13.963636 2.792727-16.989091 8.378182-3.025455 5.632-4.561455 17.640727-4.561454 35.933091v39.284364h-119.389091v-40.773818c0-45.661091 10.472727-76.567273 31.325091-92.625455 20.898909-16.058182 54.085818-24.064 99.607272-24.064 56.878545 0 95.511273 11.170909 115.805091 33.373091 20.293818 22.248727 30.394182 53.201455 30.394182 92.765091 0 26.810182-3.630545 46.173091-10.891636 58.088727-7.307636 11.915636-20.107636 22.807273-38.446546 32.628364z" p-id="2868" /></symbol>'});r.a.add(o);t["default"]=o},a1f8:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("7ec2")),i=n(a("278c")),r=n(a("c973")),o=n(a("448a"));a("d9e2"),a("4de4"),a("7db0"),a("d81d"),a("fb6a"),a("4fad"),a("d3b7"),a("25f0"),a("6062"),a("1e70"),a("79a4"),a("c1a1"),a("8b00"),a("a4e7"),a("1e5a"),a("72c3"),a("3ca3"),a("0643"),a("2382"),a("fffc"),a("a573"),a("ddb0");var l=a("839b");t.default={name:"PeerReview",props:{taskId:{type:String,required:!0},activeTab:{type:String,required:!0},assignedStudents:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{loading:{allocating:!1,table:!1},allocationMode:"auto",selectedClass:"",reviewerClass:"",selectedStudents:[],selectedReviewers:[],peerAssignments:[],filterClass:""}},computed:{uniqueClasses:function(){return(0,o.default)(new Set(this.assignedStudents.map((function(e){return e.className})))).filter(Boolean)},uniqueClassCount:function(){return this.uniqueClasses.length},classStudents:function(){var e=this;return this.assignedStudents.filter((function(t){return t.className===e.selectedClass}))},availableReviewerClasses:function(){var e=this;return this.uniqueClasses.filter((function(t){return t!==e.selectedClass}))},reviewerClassStudents:function(){var e=this;return this.assignedStudents.filter((function(t){return t.className===e.reviewerClass}))},canAllocate:function(){return 0!==this.assignedStudents.length&&(1===this.assignedStudents.length||("auto"===this.allocationMode?this.uniqueClassCount>0:"manual"===this.allocationMode&&(!(this.uniqueClassCount<2)&&(!(!this.selectedStudents.length||!this.selectedReviewers.length)&&this.selectedStudents.length===this.selectedReviewers.length))))},getAllocationButtonText:function(){return this.loading.allocating?"分配中...":1===this.assignedStudents.length?"设置自我互评":"auto"===this.allocationMode?"分配班内互评":"确认跨班级互评"},filteredAssignments:function(){var e=this;return this.filterClass?this.peerAssignments.filter((function(t){return t.student.className===e.filterClass})):this.peerAssignments}},watch:{activeTab:{handler:function(e){"peer"===e&&this.fetchPeerReviewAssignments()},immediate:!0},assignedStudents:{handler:function(){this.fetchPeerReviewAssignments(),this.handleAllocationModeChange()},immediate:!0},selectedReviewers:{handler:function(e){e.length>this.selectedStudents.length&&(this.selectedReviewers=e.slice(0,this.selectedStudents.length),this.$message.warning("评价人数量不能超过被评价学生数量"))}}},methods:{handleAllocationModeChange:function(){this.selectedClass="",this.reviewerClass="",this.selectedStudents=[],this.selectedReviewers=[]},handleClassChange:function(){this.selectedStudents=[],this.reviewerClass="",this.selectedReviewers=[]},handleReviewerClassChange:function(){this.selectedReviewers=[]},validateSelections:function(){this.selectedReviewers.length>this.selectedStudents.length&&(this.selectedReviewers=this.selectedReviewers.slice(0,this.selectedStudents.length),this.$message.warning("评价人数量需要与被评价学生数量相同"))},fetchPeerReviewAssignments:function(){var e=this;return(0,r.default)((0,s.default)().mark((function t(){var a,n;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.assignedStudents.length){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,e.loading.table=!0,t.next=6,(0,l.getTaskInfoById)(e.taskId);case 6:if(a=t.sent,1!==a.code){t.next=12;break}n=a.data.mulAccessIds||{},e.peerAssignments=Object.entries(n).map((function(t){var a=(0,i.default)(t,2),n=a[0],s=a[1],r=e.assignedStudents.find((function(e){return e.id.toString()===n})),o=-1!==s?e.assignedStudents.find((function(e){return e.id.toString()===s.toString()})):null;return{student:r||{},reviewer:o||null}})),t.next=13;break;case 12:throw new Error(a.msg||"获取互评分配信息失败");case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](2),e.$message.error("获取互评分配信息失败："+t.t0.message);case 18:return t.prev=18,e.loading.table=!1,t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[2,15,18,21]])})))()},allocateReviewers:function(){var e=this;return(0,r.default)((0,s.default)().mark((function t(){var a,n,i,r;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.canAllocate){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,e.loading.allocating=!0,a={taskId:e.taskId,stuIds:[],allocateStudents:[],reAllocate:!0},1===e.assignedStudents.length?(n=e.assignedStudents[0].id,a.stuIds=[n],a.allocateStudents=[n]):"auto"===e.allocationMode?(i=e.selectedClass?e.assignedStudents.filter((function(t){return t.className===e.selectedClass})):e.assignedStudents,a.stuIds=i.map((function(e){return e.id}))):(a.stuIds=e.selectedStudents,a.allocateStudents=e.selectedReviewers),t.next=8,(0,l.setReviewStudents)(a);case 8:if(r=t.sent,1!==r.code){t.next=16;break}return e.$message.success("互评分配成功！"),t.next=13,e.fetchPeerReviewAssignments();case 13:e.handleAllocationModeChange(),t.next=17;break;case 16:throw new Error(r.msg||"分配失败");case 17:t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](2),e.$message.error("分配失败："+t.t0.message);case 22:return t.prev=22,e.loading.allocating=!1,t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[2,19,22,25]])})))()},handleFilterChange:function(){}}}},a263:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-skill",use:"icon-skill-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-skill"><path d="M31.652 93.206h33.401c1.44 2.418 3.077 4.663 4.93 6.692h-38.33v-6.692zm0-10.586h28.914a44.8 44.8 0 0 1-1.264-6.688h-27.65v6.688zm0-17.27H59.39c.288-2.286.714-4.532 1.34-6.687H31.65v6.687h.003zm53.913 44.84v5.85c0 2.798-2.095 5.075-4.667 5.075h-70.07c-2.576 0-4.663-2.277-4.663-5.075V31.26l23.22-20.96v22.25H17.16v6.688h18.39V6.688h45.348c2.576 0 4.667 2.277 4.667 5.066v20.009c1.987-.675 4.053-1.128 6.17-1.445v-18.56C91.738 5.28 86.874 0 80.902 0H31.15L0 28.118v87.917c0 6.48 4.859 11.759 10.832 11.759h70.07c5.974 0 10.837-5.27 10.837-11.759v-4.41c-2.117-.312-4.183-.765-6.17-1.435h-.004zM23.279 58.667h-7.96v6.688h7.96v-6.688zm-7.956 41.23h7.96v-6.691h-7.96v6.692zm7.956-23.96h-7.96v6.687h7.96v-6.688zm89.718-15.042l-4.896-4.07-12.447 17.613-11.19-9.305-3.762 5.311 16.091 13.38 16.204-22.929zM128 70.978c0-18.632-13.97-33.782-31.147-33.782-17.168 0-31.135 15.155-31.135 33.782 0 18.628 13.97 33.783 31.135 33.783 17.172 0 31.143-15.15 31.143-33.783H128zm-6.17 0c0 14.933-11.203 27.1-24.981 27.1-13.77 0-24.987-12.158-24.987-27.1 0-14.941 11.195-27.099 24.987-27.099 13.778 0 24.982 12.158 24.982 27.1z" /></symbol>'});r.a.add(o);t["default"]=o},a285:function(e,t,a){},a297:function(e,t,a){"use strict";a.r(t);var n=a("4b0e"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},a2bfe:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-date",use:"icon-date-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-date"><defs><style type="text/css"></style></defs><path d="M479.85714249 608.42857168h64.28571502c19.28571417 0 32.14285751-12.85714249 32.14285664-32.14285751s-12.85714249-32.14285751-32.14285664-32.14285664h-64.28571504c-19.28571417 0-32.14285751 12.85714249-32.14285664 32.14285662s12.85714249 32.14285751 32.14285664 32.14285753z m-2e-8 122.14285665h64.28571504c19.28571417 0 32.14285751-12.85714249 32.14285664-32.14285665s-12.85714249-32.14285751-32.14285664-32.14285751h-64.28571504c-19.28571417 0-32.14285751 12.85714249-32.14285664 32.14285751s12.85714249 32.14285751 32.14285664 32.14285664z m353.57142921-559.28571416h-128.57142921v-32.14285664c0-19.28571417-12.85714249-32.14285751-32.14285664-32.14285753s-32.14285751 12.85714249-32.14285751 32.14285753v32.14285664h-257.14285665v-32.14285664c0-19.28571417-12.85714249-32.14285751-32.14285752-32.14285753s-32.14285751 12.85714249-32.14285664 32.14285753v32.14285664h-128.57142919c-70.71428585 0-128.57142832 57.85714249-128.57142832 122.14285751v501.42857081c0 70.71428585 57.85714249 128.57142832 128.57142832 122.14285751h642.85714335c70.71428585 0 128.57142832-57.85714249 128.57142833-122.14285751v-501.42857081c0-70.71428585-57.85714249-122.14285753-128.57142833-122.14285751z m64.28571415 623.57142832c0 32.14285751-32.14285751 64.28571415-64.28571416 64.28571504h-642.85714335c-32.14285751 0-64.28571415-25.71428583-64.28571417-64.28571504v-372.85714249h771.42857168v372.85714249z m0-437.14285664h-771.42857168v-64.28571417c0-32.14285751 32.14285751-64.28571415 64.28571417-64.28571415h128.57142919v32.14285664c0 19.28571417 12.85714249 32.14285751 32.14285664 32.14285751s32.14285751-12.85714249 32.14285753-32.14285751v-32.14285664h257.14285665v32.14285664c0 19.28571417 12.85714249 32.14285751 32.1428575 32.14285751s32.14285751-12.85714249 32.14285664-32.14285751v-32.14285664h128.57142921c32.14285751 0 64.28571415 25.71428583 64.28571415 64.28571415v64.28571417z m-610.71428583 372.85714247h64.28571415c19.28571417 0 32.14285751-12.85714249 32.14285753-32.14285664s-12.85714249-32.14285751-32.14285753-32.14285751h-64.28571415c-19.28571417 0-32.14285751 12.85714249-32.14285751 32.14285751s12.85714249 32.14285751 32.14285751 32.14285665z m385.71428583-122.14285664h64.28571417c19.28571417 0 32.14285751-12.85714249 32.14285751-32.14285751s-12.85714249-32.14285751-32.14285751-32.14285664h-64.28571415c-19.28571417 0-32.14285751 12.85714249-32.14285753 32.14285664s12.85714249 32.14285751 32.14285753 32.14285751z m-385.71428583 0h64.28571415c19.28571417 0 32.14285751-12.85714249 32.14285753-32.14285751s-12.85714249-32.14285751-32.14285753-32.14285664h-64.28571415c-19.28571417 0-32.14285751 12.85714249-32.14285751 32.14285664s12.85714249 32.14285751 32.14285751 32.14285751z m385.71428583 122.14285665h64.28571417c19.28571417 0 32.14285751-12.85714249 32.14285751-32.14285665s-12.85714249-32.14285751-32.14285751-32.14285751h-64.28571415c-19.28571417 0-32.14285751 12.85714249-32.14285753 32.14285751s12.85714249 32.14285751 32.14285753 32.14285665z" p-id="1069" /></symbol>'});r.a.add(o);t["default"]=o},a2d0:function(e,t,a){e.exports=a.p+"static/img/light.4183aad0.svg"},a2e3:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("970b")),i=n(a("5bc3")),r=function(){function e(){(0,s.default)(this,e),this.originalPixelRatio=window.devicePixelRatio}return(0,i.default)(e,[{key:"_getSystem",value:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("windows")>=0}},{key:"_addHandler",value:function(e,t,a){e.addEventListener?e.addEventListener(t,a,!1):e.attachEvent?e.attachEvent("on"+t,a):e["on"+t]=a}},{key:"_correct",value:function(){var e=1/window.devicePixelRatio;document.body.style.transform="scale(".concat(e,")"),document.body.style.transformOrigin="0 0";var t=100*window.devicePixelRatio+"%";document.body.style.width=t,document.body.style.height=t,document.body.style.position="relative",document.body.style.overflow="hidden"}},{key:"_watch",value:function(){var e,t=this,a=window.devicePixelRatio,n=function(){a!==window.devicePixelRatio&&(a=window.devicePixelRatio,t._correct())};this._addHandler(window,"resize",(function(){clearTimeout(e),e=setTimeout(n,100)}))}},{key:"destroy",value:function(){document.body.style.transform="",document.body.style.transformOrigin="",document.body.style.width="",document.body.style.height="",document.body.style.position="",document.body.style.overflow=""}},{key:"init",value:function(){return!!this._getSystem()&&(this._correct(),this._watch(),!0)}}])}();t.default=r},a2f6:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-drag",use:"icon-drag-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-drag"><path d="M73.137 29.08h-9.209 29.7L63.886.093 34.373 29.08h20.49v27.035H27.238v17.948h27.625v27.133h18.274V74.063h27.41V56.115h-27.41V29.08zm-9.245 98.827l27.518-26.711H36.59l27.302 26.71zM.042 64.982l27.196 27.029V38.167L.042 64.982zm100.505-26.815V92.01l27.41-27.029-27.41-26.815z" /></symbol>'});r.a.add(o);t["default"]=o},a36b:function(e,t,a){e.exports=a.p+"static/img/404.a57b6f31.png"},a381:function(e,t,a){"use strict";a.r(t);var n=a("3ba1"),s=a("0a5c");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("d74f");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"3260e426",null);t["default"]=o.exports},a448:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d81d"),a("4e82"),a("a434"),a("d3b7"),a("3ca3"),a("0643"),a("76d6"),a("a573"),a("ddb0");var s=a("4b72"),i=a("ed45"),r=a("a6dc"),o=n(a("ed69")),l=n(a("8586")),c=n(a("aa47"));t.default={name:"GenEdit",components:{basicInfoForm:o.default,genInfoForm:l.default},data:function(){return{activeName:"columnInfo",tableHeight:document.documentElement.scrollHeight-245+"px",tables:[],columns:[],dictOptions:[],menus:[],info:{}}},created:function(){var e=this,t=this.$route.params&&this.$route.params.tableId;t&&((0,s.getGenTable)(t).then((function(t){e.columns=t.data.rows,e.info=t.data.info,e.tables=t.data.tables})),(0,i.optionselect)().then((function(t){e.dictOptions=t.data})),(0,r.listMenu)().then((function(t){e.menus=e.handleTree(t.data,"menuId")})))},methods:{submitForm:function(){var e=this,t=this.$refs.basicInfo.$refs.basicInfoForm,a=this.$refs.genInfo.$refs.genInfoForm;Promise.all([t,a].map(this.getFormPromise)).then((function(n){var i=n.every((function(e){return!!e}));if(i){var r=Object.assign({},t.model,a.model);r.columns=e.columns,r.params={treeCode:r.treeCode,treeName:r.treeName,treeParentCode:r.treeParentCode,parentMenuId:r.parentMenuId},(0,s.updateGenTable)(r).then((function(t){e.$modal.msgSuccess(t.msg),200===t.code&&e.close()}))}else e.$modal.msgError("表单校验未通过，请重新检查提交内容")}))},getFormPromise:function(e){return new Promise((function(t){e.validate((function(e){t(e)}))}))},close:function(){var e={path:"/tool/gen",query:{t:Date.now(),pageNum:this.$route.query.pageNum}};this.$tab.closeOpenPage(e)}},mounted:function(){var e=this,t=this.$refs.dragTable.$el.querySelectorAll(".el-table__body-wrapper > table > tbody")[0];c.default.create(t,{handle:".allowDrag",onEnd:function(t){var a=e.columns.splice(t.oldIndex,1)[0];for(var n in e.columns.splice(t.newIndex,0,a),e.columns)e.columns[n].sort=parseInt(n)+1}})}}},a49f:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ac1f"),a("5319");var s=n(a("ded3"));t.default={name:"AISidebar",props:{selection:{type:Object,default:null}},data:function(){return{menuItems:[{type:"continue",text:"智能续写",description:"基于选中内容智能续写",prompt:"请基于以下内容进行续写，保持语言风格、叙述视角和行文逻辑。\n         续写要求：\n1. 延续原文的主题和语气\n2. 保持叙述的连贯性和流畅度\n3. 补充合理的细节和发展\n4. 确保与原文在风格上的统一\n5. 给出中文续写和英文续写\n        \n原文：\n{text}\n\n\n"},{type:"polish",text:"句子润色",description:"优化语言表达和用词",prompt:"请对以下文本进行精细润色，提升其表达质量\n          \n润色要求：\n1. 优化语言表达，使其更加优美流畅\n2. 改进用词用语，使其更加准确专业\n3. 调整句式结构，使其更加通顺自然\n4. 保持原文的核心意思和风格特点\n5. 给出中文润色和英文润色\n         \n原文：\n{text}\n\n"},{type:"summarize",text:"整体概括",description:"提取核心内容要点",prompt:"请对以下文本进行精炼的总结概括\n         概括要求：\n1. 提取核心观点和关键信息\n2. 保持逻辑结构的清晰\n3. 使用简洁准确的语言\n4. 确保概括的完整性\n5. 按重要性排序呈现要点\n6. 给出中文概括和英文概括\n\n          \n原文：\n{text}\n\n\n"},{type:"shorten",text:"段落缩写",description:"精简文本保留重点",prompt:"请在保留核心内容的前提下，对以下文本进行精炼缩写\n          \n缩写要求：\n1. 保留关键信息和核心观点\n2. 删除冗余内容\n3. 使用简洁的表达方式\n4. 确保语言的准确性\n5. 维持文本的连贯性\n6. 保持原有的语气特点\n7. 给出中文缩写和英文缩写   \n          \n原文：\n{text}\n\n\n\n"},{type:"expand",text:"段落扩写",description:"扩充内容和细节",prompt:"请对以下文本进行合理的扩充和丰富：\n        扩写要求：\n1. 补充相关的细节和例证\n2. 深化核心观点的论述\n3. 增加必要的背景信息\n4. 保持内容的连贯性\n5. 维持原有的语言风格\n6. 确保扩写内容与原文主题相关\n7. 给出中文扩写和英文扩写\n          \n原文：\n{text}\n\n\n"},{type:"translate",text:"多语翻译",description:"将选中文本翻译为简体中文/英文",prompt:"请将以下文本进行翻译：\n如果原文是中文，请翻译成地道的英文；\n如果原文是英文，请翻译成优美的简体中文。\n请确保：\n1. 准确传达原文含义\n2. 符合目标语言的表达习惯\n3. 保持专业术语的准确性\n4. 维持原文的语气和风格\n\n\n原文：\n{text}\n"},{type:"custom",text:"其他个性化",description:"自定义AI交互",action:"sendToChat"}]}},computed:{hasSelection:function(){return!!(this.selection&&this.selection.length>0&&this.$parent.$refs.myQuillEditor)}},methods:{handleAction:function(e){if(this.selection&&this.selection.length>0){var t=this.$parent.$refs.myQuillEditor.quill,a=(0,s.default)({},this.selection);setTimeout((function(){t.setSelection(a.index,a.length)}),0);var n=t.getText(a.index,a.length);if("sendToChat"===e.action){var i='【以下是选中的原文】：\n"'.concat(n,'"\n\n【我的要求】：\n');this.$bus.$emit("insertToChat",i)}else this.$emit("action",{type:e.type,prompt:e.prompt.replace("{text}",n)})}else this.$message.warning("请先选择文本")},getIconClass:function(e){var t={translate:"el-icon-document-copy",continue:"el-icon-edit-outline",polish:"el-icon-magic-stick",summarize:"el-icon-reading",expand:"el-icon-full-screen",shorten:"el-icon-crop",custom:"el-icon-more"};return t[e]}},watch:{selection:{handler:function(e){},deep:!0}}}},a4b0:function(e,t,a){"use strict";a("64a1")},a533:function(e,t,a){"use strict";a.r(t);var n=a("413c"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},a5a2:function(e,t,a){"use strict";a.r(t);var n=a("0fc0"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},a601:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-international",use:"icon-international-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-international"><path d="M83.287 103.01c-1.57-3.84-6.778-10.414-15.447-19.548-2.327-2.444-2.182-4.306-1.338-9.862v-.64c.553-3.81 1.513-6.05 14.313-8.087 6.516-1.018 8.203 1.57 10.589 5.178l.785 1.193a12.625 12.625 0 0 0 6.43 5.207c1.134.524 2.53 1.164 4.421 2.24 4.596 2.53 4.596 5.41 4.596 11.753v.727a26.91 26.91 0 0 1-5.178 17.454 59.055 59.055 0 0 1-19.025 11.026c3.49-6.546.814-14.313 0-16.553l-.146-.087zM64 5.12a58.502 58.502 0 0 1 25.484 5.818 54.313 54.313 0 0 0-12.859 10.327c-.93 1.28-1.716 2.473-2.472 3.579-2.444 3.694-3.637 5.352-5.818 5.614a25.105 25.105 0 0 1-4.219 0c-4.276-.29-10.094-.64-11.956 4.422-1.193 3.23-1.396 11.956 2.444 16.495.66 1.077.778 2.4.32 3.578a7.01 7.01 0 0 1-2.066 3.229 18.938 18.938 0 0 1-2.909-2.91 18.91 18.91 0 0 0-8.32-6.603c-1.25-.349-2.647-.64-3.985-.93-3.782-.786-8.03-1.688-9.019-3.812a14.895 14.895 0 0 1-.727-5.818 21.935 21.935 0 0 0-1.396-9.25 8.873 8.873 0 0 0-5.557-4.946A58.705 58.705 0 0 1 64 5.12zM0 64c0 35.346 28.654 64 64 64 35.346 0 64-28.654 64-64 0-35.346-28.654-64-64-64C28.654 0 0 28.654 0 64z" /></symbol>'});r.a.add(o);t["default"]=o},a678:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d9e2");var n=a("c0c7");t.default={props:{user:{type:Object}},data:function(){var e=this,t=function(t,a,n){e.userForm.newPassword!==a?n(new Error("两次输入的密码不一致")):n()};return{userForm:{oldPassword:"",newPassword:"",confirmPassword:""},rules:{oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"},{pattern:/^[^<>"'|\\]+$/,message:"不能包含非法字符：< > \" ' \\ |",trigger:"blur"}],confirmPassword:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{required:!0,validator:t,trigger:"blur"}]}}},created:function(){console.log("Received user object:",this.user)},methods:{submit:function(){var e=this;console.log("userId:",this.user.userId),console.log("oldPassword:",this.userForm.oldPassword),this.$refs["form"].validate((function(t){t&&e.user&&e.user.userId&&(0,n.updateUserPwd)(e.user.userId,e.userForm.oldPassword,e.userForm.newPassword).then((function(t){e.$modal.msgSuccess("修改成功")}))}))},close:function(){this.$tab.closePage()}}}},a6bd:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.handleFile=o,a("d9e2"),a("d3b7");var s=n(a("7ec2")),i=n(a("c973")),r=n(a("c343"));function o(e){return l.apply(this,arguments)}function l(){return l=(0,i.default)((0,s.default)().mark((function e(t){var a,n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e,a){var n=new FileReader;n.onload=function(t){return e(t.target.result)},n.onerror=a,n.readAsArrayBuffer(t)}));case 3:return a=e.sent,e.next=6,r.default.convertToHtml({arrayBuffer:a});case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e["catch"](0),new Error("文件处理失败");case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),l.apply(this,arguments)}},a6dc:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addMenu=c,t.delMenu=d,t.getMenu=r,t.listMenu=i,t.roleMenuTreeselect=l,t.treeselect=o,t.updateMenu=u;var s=n(a("b775"));function i(e){return(0,s.default)({url:"/system/menu/list",method:"get",params:e})}function r(e){return(0,s.default)({url:"/system/menu/"+e,method:"get"})}function o(){return(0,s.default)({url:"/system/menu/treeselect",method:"get"})}function l(e){return(0,s.default)({url:"/system/menu/roleMenuTreeselect/"+e,method:"get"})}function c(e){return(0,s.default)({url:"/system/menu",method:"post",data:e})}function u(e){return(0,s.default)({url:"/system/menu",method:"put",data:e})}function d(e){return(0,s.default)({url:"/system/menu/"+e,method:"delete"})}},a6e1:function(e,t,a){"use strict";a.r(t);var n=a("f63e"),s=a("65a9");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},a72c:function(e,t,a){"use strict";a("dc2b")},a74b:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"register"},[a("div",{staticClass:"overlay"}),a("div",{staticClass:"register-container"},[a("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:e.registerForm,rules:e.registerRules}},[a("h3",{staticClass:"title"},[e._v("北京邮电大学多模态英语教学与评估平台")]),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"邮箱"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"email"},slot:"prefix"})],1)],1),a("el-form-item",{attrs:{prop:"nickname"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"昵称"},model:{value:e.registerForm.nickname,callback:function(t){e.$set(e.registerForm,"nickname",t)},expression:"registerForm.nickname"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),a("el-form-item",{attrs:{prop:"mobile"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"手机号"},model:{value:e.registerForm.mobile,callback:function(t){e.$set(e.registerForm,"mobile",t)},expression:"registerForm.mobile"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"phone"},slot:"prefix"})],1)],1),a("el-form-item",{attrs:{prop:"studentId"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"学号"},model:{value:e.registerForm.studentId,callback:function(t){e.$set(e.registerForm,"studentId",t)},expression:"registerForm.studentId"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"tree"},slot:"prefix"})],1)],1),a("el-form-item",{attrs:{prop:"classAndMajor"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-select",{staticClass:"select-custom",attrs:{placeholder:"请选择学校"},model:{value:e.registerForm.school,callback:function(t){e.$set(e.registerForm,"school",t)},expression:"registerForm.school"}},e._l(e.schools,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-col",{attrs:{span:12}},[a("el-select",{staticClass:"select-custom",attrs:{placeholder:"请选择班级"},model:{value:e.registerForm.classId,callback:function(t){e.$set(e.registerForm,"classId",t)},expression:"registerForm.classId"}},e._l(e.classIds,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-form-item",{attrs:{prop:"deptAndschool"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-select",{staticClass:"select-custom",attrs:{placeholder:"请选择系"},model:{value:e.registerForm.major,callback:function(t){e.$set(e.registerForm,"major",t)},expression:"registerForm.major"}},e._l(e.majors,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-col",{attrs:{span:12}},[a("el-select",{staticClass:"select-custom",attrs:{placeholder:"请选择专业"},model:{value:e.registerForm.dept,callback:function(t){e.$set(e.registerForm,"dept",t)},expression:"registerForm.dept"}},e._l(e.depts,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-form-item",{staticClass:"sexsex",attrs:{label:"性别: ",prop:"gender"}},[a("el-radio-group",{model:{value:e.registerForm.sex,callback:function(t){e.$set(e.registerForm,"sex",t)},expression:"registerForm.sex"}},[a("el-radio",{attrs:{label:"男"}},[e._v("男")]),a("el-radio",{attrs:{label:"女"}},[e._v("女")])],1)],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),a("el-form-item",{attrs:{prop:"confirmPassword"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"确认密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.confirmPassword,callback:function(t){e.$set(e.registerForm,"confirmPassword",t)},expression:"registerForm.confirmPassword"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),a("el-form-item",{attrs:{prop:"secretKey"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"秘钥（教师/管理员）"},model:{value:e.registerForm.secretKey,callback:function(t){e.$set(e.registerForm,"secretKey",t)},expression:"registerForm.secretKey"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"lock"},slot:"prefix"})],1)],1),a("el-form-item",[a("el-checkbox",{attrs:{disabled:e.registerForm.isTeacher||e.registerForm.isAdmin},model:{value:e.registerForm.isStudent,callback:function(t){e.$set(e.registerForm,"isStudent",t)},expression:"registerForm.isStudent"}},[e._v("注册为学生")]),a("el-checkbox",{attrs:{disabled:"123"!==e.registerForm.secretKey||e.registerForm.isStudent||e.registerForm.isAdmin},model:{value:e.registerForm.isTeacher,callback:function(t){e.$set(e.registerForm,"isTeacher",t)},expression:"registerForm.isTeacher"}},[e._v("注册为教师")]),a("el-checkbox",{attrs:{disabled:"123"!==e.registerForm.secretKey||e.registerForm.isStudent||e.registerForm.isTeacher},model:{value:e.registerForm.isAdmin,callback:function(t){e.$set(e.registerForm,"isAdmin",t)},expression:"registerForm.isAdmin"}},[e._v("注册为管理员")])],1),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticClass:"register-button",staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e.loading?a("span",[e._v("注 册 中...")]):a("span",[e._v("注 册")])]),a("div",{staticStyle:{float:"right"}},[a("router-link",{staticClass:"link-type",attrs:{to:"/login"}},[e._v("使用已有账户登录")])],1)],1)],1)],1)])},s=[]},a75d:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-zip",use:"icon-zip-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-zip"><path d="M78.527 116.793c.178.008.348.024.527.024h40.233c4.711-.005 8.53-3.677 8.534-8.21V18.895c-.004-4.532-3.823-8.204-8.534-8.209H79.054c-.179 0-.353.016-.527.024V0L0 10.082v107.406l78.527 10.342v-11.037zm0-101.362c.174-.024.348-.052.527-.052h40.233c2.018 0 3.659 1.578 3.659 3.52v89.713c-.003 1.942-1.64 3.517-3.659 3.519H79.054c-.179 0-.353-.028-.527-.052V15.431zM30.262 75.757l-18.721-.46V72.37l11.3-16.673v-.148l-10.266.164v-4.51l17.504-.44v3.264L18.696 70.76v.144l11.566.176v4.678zm9.419.231l-5.823-.144V50.671l5.823-.144v25.461zm22.255-11.632c-2.168 1.922-5.353 2.76-9.02 2.736-.702.004-1.402-.04-2.097-.131v9.303l-5.997-.148V50.743c1.852-.352 4.473-.647 8.218-.743 3.838-.096 6.608.539 8.48 1.913 1.807 1.306 3.032 3.5 3.032 6.112s-.926 4.833-2.612 6.331h-.004zM53.36 54.45c-.856-.01-1.71.083-2.541.275v7.682c.523.116 1.167.152 2.06.152 3.301-.004 5.36-1.614 5.36-4.314 0-2.425-1.772-3.843-4.875-3.791l-.004-.004zm39.847-37.066h9.564v3.795h-9.564v-3.795zm-9.568 5.68h9.564v3.8h-9.564v-3.8zm9.568 6.216h9.564v3.799h-9.564V29.28zm0 12h9.564v3.794h-9.564V41.28zm-9.568-6.096h9.564v3.795h-9.564v-3.795zm9.472 47.064c2.512 0 4.921-.96 6.697-2.67 1.776-1.708 2.773-4.026 2.772-6.442l-1.748-15.263c0-5.033-2.492-9.112-7.725-9.112-5.232 0-7.72 4.079-7.72 9.112l-1.752 15.263c-.001 2.417.996 4.735 2.773 6.444 1.777 1.71 4.187 2.669 6.7 2.668h.003zm-3.135-16.75h6.27v12.743h-6.27V65.5z" /></symbol>'});r.a.add(o);t["default"]=o},a762:function(e,t,a){},a8af:function(e,t,a){"use strict";a.r(t);var n=a("ff4d"),s=a("d6d6f");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("395d");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"7391b94a",null);t["default"]=o.exports},a8cc:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pdf-container"},[e.pdfUrl?a("iframe",{staticClass:"pdf-viewer",attrs:{src:e.pdfUrl,type:"application/pdf"}}):e._e()])},s=[]},a955:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"0 15px"},on:{click:e.toggleClick}},[a("svg",{staticClass:"hamburger",class:{"is-active":e.isActive},attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64"}},[a("path",{attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"}})])])},s=[]},a9dd:function(e,t,a){"use strict";a.r(t);var n=a("1e6f"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},aa2c:function(e,t,a){"use strict";a.r(t);var n=a("fe4a"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},aa3a:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addData=l,t.delData=u,t.getData=r,t.getDicts=o,t.listData=i,t.updateData=c;var s=n(a("b775"));function i(e){return(0,s.default)({url:"/system/dict/data/list",method:"get",params:e})}function r(e){return(0,s.default)({url:"/system/dict/data/"+e,method:"get"})}function o(e){return(0,s.default)({url:"/system/dict/data/type/"+e,method:"get"})}function l(e){return(0,s.default)({url:"/system/dict/data",method:"post",data:e})}function c(e){return(0,s.default)({url:"/system/dict/data",method:"put",data:e})}function u(e){return(0,s.default)({url:"/system/dict/data/"+e,method:"delete"})}},aa89:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("7ec2")),i=n(a("c973")),r=n(a("ded3"));a("caad"),a("d81d"),a("14d9"),a("e9c4"),a("a9e3"),a("b680"),a("d3b7"),a("0643"),a("4e3e"),a("a573"),a("9a9a"),a("159b");var o=a("2f62"),l=a("e1ef");t.default={name:"ScoreTable",props:{taskId:{type:String,required:!0},submitId:{type:String,required:!0},submissionStatus:{type:String,default:"none",validator:function(e){return["none","submitted","completed"].includes(e)}},taskDetails:{type:Object,default:null}},data:function(){return{scoreData:[],loading:!1,pollTimer:null,pollCount:0,maxPollCount:5,baseInterval:5e3,showLegend:!0,headerStyle:{background:"#f5f7fa",color:"#606266",fontWeight:"600",borderBottom:"2px solid #EBEEF5"}}},computed:(0,r.default)((0,r.default)({},(0,o.mapGetters)(["userId"])),{},{isGrading:function(){return"submitted"===this.submissionStatus&&!this.hasGrades&&this.pollCount<this.maxPollCount},hasGrades:function(){return this.scoreData.some((function(e){return null!==e.total&&"-"!==e.total}))},gradingMessage:function(){return this.pollCount>=this.maxPollCount?"评分可能需要较长时间，请稍后手动刷新查看":"系统正在评分中，请稍候..."}}),watch:{submissionStatus:{handler:function(e){"submitted"===e&&this.startGradingCheck()},immediate:!0}},mounted:function(){},methods:{formatScore:function(e){if(null===e||void 0===e||""===e)return"-";var t=Number(e);return isNaN(t)?"-":t.toFixed(2)},getScoreClass:function(e){return null===e?"score-empty":e>=90?"excellent":e>=80?"good":e>=60?"pass":"fail"},rowStyle:function(e){var t=e.rowIndex;return{backgroundColor:t%2===0?"#ffffff":"#fafafa",borderBottom:"none"}},cellStyle:function(){return{borderBottom:"none",padding:"12px 0"}},manualRefresh:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.fetchScores();case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},startGradingCheck:function(){this.pollCount=0,this.schedulePoll()},schedulePoll:function(){var e=this;this.pollTimer&&clearTimeout(this.pollTimer);var t=this.baseInterval*Math.pow(1.5,this.pollCount);this.pollCount<this.maxPollCount&&(this.pollTimer=setTimeout((function(){e.checkGradingStatus()}),t))},checkGradingStatus:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){var a,n;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.fetchScores();case 3:a=t.sent,null!==a&&void 0!==a&&a.data?(n=e.checkForNewGrades(a.data),n?(e.$emit("grading-completed"),e.pollTimer&&clearTimeout(e.pollTimer)):(e.pollCount++,e.pollCount<e.maxPollCount&&e.schedulePoll())):(e.pollCount++,e.pollCount<e.maxPollCount&&e.schedulePoll()),t.next=12;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error("检查评分状态失败:",t.t0),e.pollCount++,e.pollCount<e.maxPollCount&&e.schedulePoll();case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))()},checkForNewGrades:function(e){var t=e.evaluationTypes.some((function(e){return e.evaluationContents.some((function(e){return e.finished&&null!==e.grade&&"-"!==e.grade}))}));return t},processEvaluationData:function(e){var t=this,a=function(e){if(null===e||void 0===e)return null;var t=20*e+10;return Math.min(Math.round(t),100)};return e.evaluationTypes.map((function(e){var n={type:e.evaluationMethod,video:null,audio:null,ppt:null,speech:null,total:null},s=0,i=0;return e.evaluationContents.forEach((function(e){var r,o,l,c;if(e.finished){var u=e.grade,d=0;switch(e.evaluationContent){case"视频":n.video=u,d=(null===(r=t.taskDetails)||void 0===r?void 0:r.weights[0])||0,null!==u&&"-"!==u&&(s+=Number(u)*d,i+=d);break;case"音频":u=a(u),n.audio=u,d=(null===(o=t.taskDetails)||void 0===o?void 0:o.weights[1])||0,null!==u&&"-"!==u&&(s+=Number(u)*d,i+=d);break;case"PPT":n.ppt=e.grade,d=(null===(l=t.taskDetails)||void 0===l?void 0:l.weights[2])||0,null!==u&&"-"!==u&&(s+=Number(u)*d,i+=d);break;case"演讲稿":n.speech=u,d=(null===(c=t.taskDetails)||void 0===c?void 0:c.weights[3])||0,null!==u&&"-"!==u&&(s+=Number(u)*d,i+=d);break}}})),i>0&&(n.total=(s/i).toFixed(2)),n}))},fetchScores:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){var a;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,l.getEvaluationByTaskIdAndStuId)(e.taskId,e.userId);case 3:if(a=t.sent,1!==a.code){t.next=9;break}return e.scoreData=e.processEvaluationData(a.data),t.abrupt("return",a);case 9:e.$message.error(a.msg||"获取成绩失败");case 10:t.next=17;break;case 12:return t.prev=12,t.t0=t["catch"](0),console.error("获取成绩失败:",t.t0),e.$message.error("获取成绩失败，请稍后重试"),t.abrupt("return",null);case 17:case"end":return t.stop()}}),t,null,[[0,12]])})))()},handleTypeClick:function(e,t){if(null!==t&&"-"!==t){var a={"自评":"showSelfReview","机评":"showmachineEvaluation","互评":"showMutualReview","师评":"showTeacherReview"},n=a[e];n&&this.$router.push({name:n,query:{taskId:this.taskId,submitId:this.submitId,taskDetails:JSON.stringify(this.taskDetails)}})}}},created:function(){this.fetchScores(),"submitted"===this.submissionStatus&&this.startGradingCheck()},beforeDestroy:function(){this.pollTimer&&clearTimeout(this.pollTimer)}}},aab3:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("5bc3")),i=n(a("970b"));t.default=(0,s.default)((function e(t,a,n){(0,i.default)(this,e),this.label=t,this.value=a,this.raw=n}))},aacd:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-file"},[a("el-upload",{ref:"fileUpload",staticClass:"upload-file-uploader",attrs:{multiple:"",action:e.uploadFileUrl,"before-upload":e.handleBeforeUpload,"file-list":e.fileList,limit:e.limit,"on-error":e.handleUploadError,"on-exceed":e.handleExceed,"on-success":e.handleUploadSuccess,"show-file-list":!1,headers:e.headers}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("选取文件")]),e.showTip?a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 请上传 "),e.fileSize?[e._v(" 大小不超过 "),a("b",{staticStyle:{color:"#f56c6c"}},[e._v(e._s(e.fileSize)+"MB")])]:e._e(),e.fileType?[e._v(" 格式为 "),a("b",{staticStyle:{color:"#f56c6c"}},[e._v(e._s(e.fileType.join("/")))])]:e._e(),e._v(" 的文件 ")],2):e._e()],1),a("transition-group",{staticClass:"upload-file-list el-upload-list el-upload-list--text",attrs:{name:"el-fade-in-linear",tag:"ul"}},e._l(e.fileList,(function(t,n){return a("li",{key:t.url,staticClass:"el-upload-list__item ele-upload-list__item-content"},[a("el-link",{attrs:{href:""+e.baseUrl+t.url,underline:!1,target:"_blank"}},[a("span",{staticClass:"el-icon-document"},[e._v(" "+e._s(e.getFileName(t.name))+" ")])]),a("div",{staticClass:"ele-upload-list__item-content-action"},[a("el-link",{attrs:{underline:!1,type:"danger"},on:{click:function(t){return e.handleDelete(n)}}},[e._v("删除")])],1)],1)})),0)],1)},s=[]},ab03:function(e,t,a){"use strict";a.r(t);var n=a("ded0"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},ab71:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("ded3")),i=n(a("7ec2")),r=n(a("c973")),o=n(a("448a"));a("d9e2"),a("99af"),a("4de4"),a("7db0"),a("caad"),a("b0c0"),a("d3b7"),a("6062"),a("1e70"),a("79a4"),a("c1a1"),a("8b00"),a("a4e7"),a("1e5a"),a("72c3"),a("2532"),a("3ca3"),a("4d90"),a("0643"),a("76d6"),a("2382"),a("fffc"),a("ddb0");var l=n(a("e6e9")),c=n(a("5b79")),u=n(a("72ae")),d=n(a("d47f")),f=n(a("6bc4")),p=a("839b");t.default={name:"AssignTask",components:{AssignStudents:l.default,SetEvaluationDimensions:c.default,SelfEvaluation:u.default,PeerEvaluation:d.default,TeacherEvaluation:f.default},data:function(){return{taskId:"",taskData:{},activeTab:"assign",hasAssignedStudents:!1,assignedStudentsInfo:[],classData:{classList:[],originalStudentList:[],selectedClassId:"",assignedStudentIds:new Set},submitting:!1}},watch:{classData:{deep:!0,handler:function(e,t){console.group("父组件 - classData变化"),console.log("新的classData:",{classList:(0,o.default)(e.classList||[]),selectedClassId:e.selectedClassId,assignedStudentIds:(0,o.default)(e.assignedStudentIds||new Set)}),console.log("旧的classData:",{classList:(0,o.default)(t.classList||[]),selectedClassId:t.selectedClassId,assignedStudentIds:(0,o.default)(t.assignedStudentIds||new Set)}),console.groupEnd()}},"classData.assignedStudentIds":{deep:!0,handler:function(e){console.group("父组件 - assignedStudentIds变化"),console.log("新的已分配学生IDs:",(0,o.default)(e||new Set)),console.log("当前已分配学生数量:",e?e.size:0),console.groupEnd(),this.updateAssignedStudentsInfo()}},taskData:{deep:!0,handler:function(e,t){console.group("父组件 - taskData变化"),console.log("新的taskData:",{taskName:e.taskName,assignedStudents:e.assignedStudents,evaluationMethods:e.evaluationMethods}),console.log("旧的taskData:",{taskName:t.taskName,assignedStudents:t.assignedStudents,evaluationMethods:t.evaluationMethods}),console.groupEnd()}},hasAssignedStudents:function(e,t){console.group("父组件 - hasAssignedStudents变化"),console.log("分配状态变化:",{from:t,to:e}),console.log("当前classData状态:",{selectedClassId:this.classData.selectedClassId,assignedStudentIds:(0,o.default)(this.classData.assignedStudentIds)}),console.groupEnd()},"classData.selectedClassId":function(e,t){console.group("父组件 - selectedClassId变化"),console.log("班级ID变化:",{from:t,to:e}),console.log("当前班级学生分配状态:",{assignedStudentIds:(0,o.default)(this.classData.assignedStudentIds)}),console.groupEnd()},"classData.originalStudentList":{handler:function(e){null!==e&&void 0!==e&&e.length&&this.hasAssignedStudents&&(this.updateAssignedStudentsInfo(),console.log("学生列表更新后的已分配学生信息:",this.assignedStudentsInfo))}}},created:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.taskId=e.$route.params.taskId,t.next=3,e.refreshAssignmentStatus();case 3:e.updateAssignedStudentsInfo();case 4:case"end":return t.stop()}}),t)})))()},methods:{formatDate:function(e){if(!e)return"";try{var t=new Date(e),a=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0");return"".concat(a,"-").concat(n,"-").concat(s," ").concat(i,":").concat(r)}catch(o){return e}},hasEvaluationMethod:function(e){return this.taskData.evaluationMethods&&this.taskData.evaluationMethods.includes(e)},handleTabClick:function(e){if(!this.hasAssignedStudents&&"assign"!==e.name)return this.$message.warning("请先完成学生分配"),this.activeTab="assign",!1},updateClassData:function(e){console.group("父组件 - 更新ClassData"),console.log("更新前的数据:",this.classData),console.log("接收的新数据:",e),this.classData=(0,s.default)((0,s.default)({},this.classData),{},{classList:e.classList||this.classData.classList,originalStudentList:e.originalStudentList||this.classData.originalStudentList,selectedClassId:e.selectedClassId||this.classData.selectedClassId,assignedStudentIds:e.assignedStudentIds||this.classData.assignedStudentIds}),console.log("更新后的数据:",this.classData),console.groupEnd(),e.originalStudentList&&this.updateAssignedStudentsInfo()},refreshAssignmentStatus:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a,n;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,p.getTaskInfoById)(e.taskId);case 3:a=t.sent,1===a.code&&a.data&&(e.taskData=a.data,n=a.data.assignedStudents||[],e.hasAssignedStudents=!(!a.data.assignedStudents||!a.data.assignedStudents.length),e.classData.assignedStudentIds=new Set(a.data.assignedStudents||[]),console.group("刷新分配状态"),console.log("更新后的任务数据:",e.taskData),console.log("已分配学生数量:",n.length),console.log("分配状态:",e.hasAssignedStudents),console.log("已分配学生IDs:",(0,o.default)(e.classData.assignedStudentIds)),console.groupEnd()),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error("刷新分配状态失败:",t.t0),e.$message.error("刷新分配状态失败");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},updateAssignedStudentsInfo:function(){var e=this;this.assignedStudentsInfo=this.classData.originalStudentList.filter((function(t){return e.classData.assignedStudentIds.has(t.id)})),console.group("父组件 - 已分配学生信息更新"),console.log("已分配学生数量:",this.assignedStudentsInfo.length),console.log("已分配学生详细信息:",this.assignedStudentsInfo),console.groupEnd()},handleStudentsAssigned:function(e){var t=this;return(0,r.default)((0,i.default)().mark((function a(){return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.hasAssignedStudents=e,a.next=3,t.refreshAssignmentStatus();case 3:e&&(t.updateAssignedStudentsInfo(),t.$message.success("学生分配完成"));case 4:case"end":return a.stop()}}),a)})))()},checkEvaluationDimensions:function(e){var t=e.evaluationMethods,a=e.evaluationDimensions;return t.every((function(e){var t=a.find((function(t){return t.evaluationMethods===e}));return t&&t.evaluationTypes.length>0}))},checkPeerEvaluation:function(e){if(!e.evaluationMethods.includes("互评"))return!0;var t=e.mulAccessIds,a=e.assignedStudents;return a.every((function(e){return t[e]&&-1!==t[e]}))},checkTeacherEvaluation:function(e){return!e.evaluationMethods.includes("师评")||e.reviewTeachers&&e.reviewTeachers.length>0},checkStudentAssignment:function(e){return e.assignedStudents&&e.assignedStudents.length>0},handleSubmitTaskSettings:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a,n;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.submitting=!0,t.next=4,(0,p.getTaskInfoById)(e.taskId);case 4:if(a=t.sent,1===a.code&&a.data){t.next=7;break}throw new Error("获取任务数据失败");case 7:if(n=a.data,e.checkStudentAssignment(n)){t.next=12;break}return e.$message.warning("请先完成学生分配"),e.activeTab="assign",t.abrupt("return");case 12:if(e.checkEvaluationDimensions(n)){t.next=16;break}return e.$message.warning("请完善所有评价方法的评价维度设置"),e.activeTab="dimensions",t.abrupt("return");case 16:if(e.checkPeerEvaluation(n)){t.next=20;break}return e.$message.warning("请完成互评分配"),e.activeTab="peer",t.abrupt("return");case 20:if(e.checkTeacherEvaluation(n)){t.next=24;break}return e.$message.warning("请完成教师分配"),e.activeTab="teacher",t.abrupt("return");case 24:e.$message.success("任务设置已完成，即将返回"),setTimeout((function(){e.$router.go(-2)}),1500),t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](0),e.$message.error("提交失败："+t.t0.message);case 31:return t.prev=31,e.submitting=!1,t.finish(31);case 34:case"end":return t.stop()}}),t,null,[[0,28,31,34]])})))()}}}},ac17:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a("c0c7"),t.default={props:{user:{type:Object}},data:function(){return{form:{}}},watch:{},methods:{submit:function(){},close:function(){}}}},ac1e:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("61f7");t.default={props:{to:{type:[String,Object],required:!0}},computed:{isExternal:function(){return(0,n.isExternal)(this.to)},type:function(){return this.isExternal?"a":"router-link"}},methods:{linkProps:function(e){return this.isExternal?{href:e,target:"_blank",rel:"noopener"}:{to:e}}}}},ac67:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("ded3"));a("d81d"),a("a573");var i=a("aa3a"),r=a("ed45");t.default={name:"Data",dicts:["sys_normal_disable"],data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,dataList:[],defaultDictType:"",title:"",open:!1,listClassOptions:[{value:"default",label:"默认"},{value:"primary",label:"主要"},{value:"success",label:"成功"},{value:"info",label:"信息"},{value:"warning",label:"警告"},{value:"danger",label:"危险"}],typeOptions:[],queryParams:{pageNum:1,pageSize:10,dictType:void 0,dictLabel:void 0,status:void 0},form:{},rules:{dictLabel:[{required:!0,message:"数据标签不能为空",trigger:"blur"}],dictValue:[{required:!0,message:"数据键值不能为空",trigger:"blur"}],dictSort:[{required:!0,message:"数据顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this.$route.params&&this.$route.params.dictId;this.getType(e),this.getTypeList()},methods:{getType:function(e){var t=this;(0,r.getType)(e).then((function(e){t.queryParams.dictType=e.data.dictType,t.defaultDictType=e.data.dictType,t.getList()}))},getTypeList:function(){var e=this;(0,r.optionselect)().then((function(t){e.typeOptions=t.data}))},getList:function(){var e=this;this.loading=!0,(0,i.listData)(this.queryParams).then((function(t){e.dataList=t.rows,e.total=t.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={dictCode:void 0,dictLabel:void 0,dictValue:void 0,cssClass:void 0,listClass:"default",dictSort:0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},handleClose:function(){var e={path:"/system/dict"};this.$tab.closeOpenPage(e)},resetQuery:function(){this.resetForm("queryForm"),this.queryParams.dictType=this.defaultDictType,this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字典数据",this.form.dictType=this.queryParams.dictType},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.dictCode})),this.single=1!=e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.dictCode||this.ids;(0,i.getData)(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改字典数据"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.dictCode?(0,i.updateData)(e.form).then((function(t){e.$store.dispatch("dict/removeDict",e.queryParams.dictType),e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):(0,i.addData)(e.form).then((function(t){e.$store.dispatch("dict/removeDict",e.queryParams.dictType),e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.dictCode||this.ids;this.$modal.confirm('是否确认删除字典编码为"'+a+'"的数据项？').then((function(){return(0,i.delData)(a)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功"),t.$store.dispatch("dict/removeDict",t.queryParams.dictType)})).catch((function(){}))},handleExport:function(){this.download("system/dict/data/export",(0,s.default)({},this.queryParams),"data_".concat((new Date).getTime(),".xlsx"))}}}},ad41:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-date-range",use:"icon-date-range-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-date-range"><defs><style type="text/css"></style></defs><path d="M887.466667 192.853333h-100.693334V119.466667c0-10.24-6.826667-17.066667-17.066666-17.066667s-17.066667 6.826667-17.066667 17.066667v73.386666H303.786667V119.466667c0-10.24-6.826667-17.066667-17.066667-17.066667s-17.066667 6.826667-17.066667 17.066667v73.386666H168.96c-46.08 0-85.333333 37.546667-85.333333 85.333334V836.266667c0 46.08 37.546667 85.333333 85.333333 85.333333H887.466667c46.08 0 85.333333-37.546667 85.333333-85.333333V278.186667c0-47.786667-37.546667-85.333333-85.333333-85.333334z m-718.506667 34.133334h100.693333v66.56c0 10.24 6.826667 17.066667 17.066667 17.066666s17.066667-6.826667 17.066667-17.066666v-66.56h450.56v66.56c0 10.24 6.826667 17.066667 17.066666 17.066666s17.066667-6.826667 17.066667-17.066666v-66.56H887.466667c27.306667 0 51.2 22.186667 51.2 51.2v88.746666H117.76v-88.746666c0-29.013333 22.186667-51.2 51.2-51.2zM887.466667 887.466667H168.96c-27.306667 0-51.2-22.186667-51.2-51.2V401.066667H938.666667V836.266667c0 27.306667-22.186667 51.2-51.2 51.2z" p-id="1377" /><path d="M858.453333 493.226667H327.68c-10.24 0-17.066667 6.826667-17.066667 17.066666v114.346667h-116.053333c-10.24 0-17.066667 6.826667-17.066667 17.066667v133.12c0 10.24 6.826667 17.066667 17.066667 17.066666H460.8c10.24 0 17.066667-6.826667 17.066667-17.066666v-114.346667h380.586666c10.24 0 17.066667-6.826667 17.066667-17.066667v-133.12c0-10.24-6.826667-17.066667-17.066667-17.066666z m-413.013333 34.133333v97.28h-98.986667v-97.28h98.986667z m-230.4 131.413333h98.986667v98.986667h-98.986667v-98.986667z m131.413333 97.28v-97.28h98.986667v97.28h-98.986667z m133.12-228.693333h97.28v98.986667h-97.28v-98.986667z m131.413334 0h98.986666v98.986667h-98.986666v-98.986667z m230.4 97.28h-98.986667v-98.986667h98.986667v98.986667z" p-id="1378" /></symbol>'});r.a.add(o);t["default"]=o},adb3:function(e,t,a){},adba:function(e,t,a){e.exports=a.p+"static/img/dark.412ca67e.svg"},ae6e:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-people",use:"icon-people-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-people"><path d="M104.185 95.254c8.161 7.574 13.145 17.441 13.145 28.28 0 1.508-.098 2.998-.285 4.466h-10.784c.238-1.465.403-2.948.403-4.465 0-8.983-4.36-17.115-11.419-23.216C86 104.66 75.355 107.162 64 107.162c-11.344 0-21.98-2.495-31.22-6.83-7.064 6.099-11.444 14.218-11.444 23.203 0 1.517.165 3 .403 4.465H10.955a35.444 35.444 0 0 1-.285-4.465c0-10.838 4.974-20.713 13.127-28.291C9.294 85.42.003 70.417.003 53.58.003 23.99 28.656.001 64 .001s63.997 23.988 63.997 53.58c0 16.842-9.299 31.85-23.812 41.673zM64 36.867c-29.454 0-53.33-10.077-53.33 15.342 0 25.418 23.876 46.023 53.33 46.023 29.454 0 53.33-20.605 53.33-46.023 0-25.419-23.876-15.342-53.33-15.342zm24.888 25.644c-3.927 0-7.111-2.665-7.111-5.953 0-3.288 3.184-5.954 7.11-5.954 3.928 0 7.111 2.666 7.111 5.954s-3.183 5.953-7.11 5.953zm-3.556 16.372c0 4.11-9.55 7.442-21.332 7.442-11.781 0-21.332-3.332-21.332-7.442 0-1.06.656-2.064 1.8-2.976 3.295 2.626 10.79 4.465 19.532 4.465 8.743 0 16.237-1.84 19.531-4.465 1.145.912 1.801 1.916 1.801 2.976zm-46.22-16.372c-3.927 0-7.11-2.665-7.11-5.953 0-3.288 3.183-5.954 7.11-5.954 3.927 0 7.111 2.666 7.111 5.954s-3.184 5.953-7.11 5.953z" /></symbol>'});r.a.add(o);t["default"]=o},af0d:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("4de4"),a("a15b"),a("14d9"),a("fb6a"),a("a9e3"),a("b680"),a("d3b7"),a("4d63"),a("c607"),a("ac1f"),a("2c3e"),a("00b4"),a("25f0"),a("5319"),a("0643"),a("2382"),a("4e3e"),a("159b");var s=n(a("7ec2")),i=n(a("c973")),r=a("f6f8").version,o="#409EFF";t.default={data:function(){return{chalk:"",theme:""}},computed:{defaultTheme:function(){return this.$store.state.settings.theme}},watch:{defaultTheme:{handler:function(e,t){this.theme=e},immediate:!0},theme:function(e){var t=this;return(0,i.default)((0,s.default)().mark((function a(){return(0,s.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.setTheme(e);case 2:case"end":return a.stop()}}),a)})))()}},created:function(){this.defaultTheme!==o&&this.setTheme(this.defaultTheme)},methods:{setTheme:function(e){var t=this;return(0,i.default)((0,s.default)().mark((function a(){var n,i,l,c,u,d,f;return(0,s.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.chalk?t.theme:o,"string"===typeof e){a.next=3;break}return a.abrupt("return");case 3:if(i=t.getThemeCluster(e.replace("#","")),l=t.getThemeCluster(n.replace("#","")),c=function(e,a){return function(){var n=t.getThemeCluster(o.replace("#","")),s=t.updateStyle(t[e],n,i),r=document.getElementById(a);r||(r=document.createElement("style"),r.setAttribute("id",a),document.head.appendChild(r)),r.innerText=s}},t.chalk){a.next=10;break}return u="https://unpkg.com/element-ui@".concat(r,"/lib/theme-chalk/index.css"),a.next=10,t.getCSSString(u,"chalk");case 10:d=c("chalk","chalk-style"),d(),f=[].slice.call(document.querySelectorAll("style")).filter((function(e){var t=e.innerText;return new RegExp(n,"i").test(t)&&!/Chalk Variables/.test(t)})),f.forEach((function(e){var a=e.innerText;"string"===typeof a&&(e.innerText=t.updateStyle(a,l,i))})),t.$emit("change",e);case 15:case"end":return a.stop()}}),a)})))()},updateStyle:function(e,t,a){var n=e;return t.forEach((function(e,t){n=n.replace(new RegExp(e,"ig"),a[t])})),n},getCSSString:function(e,t){var a=this;return new Promise((function(n){var s=new XMLHttpRequest;s.onreadystatechange=function(){4===s.readyState&&200===s.status&&(a[t]=s.responseText.replace(/@font-face{[^}]+}/,""),n())},s.open("GET",e),s.send()}))},getThemeCluster:function(e){for(var t=function(e,t){var a=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),s=parseInt(e.slice(4,6),16);return 0===t?[a,n,s].join(","):(a+=Math.round(t*(255-a)),n+=Math.round(t*(255-n)),s+=Math.round(t*(255-s)),a=a.toString(16),n=n.toString(16),s=s.toString(16),"#".concat(a).concat(n).concat(s))},a=function(e,t){var a=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),s=parseInt(e.slice(4,6),16);return a=Math.round((1-t)*a),n=Math.round((1-t)*n),s=Math.round((1-t)*s),a=a.toString(16),n=n.toString(16),s=s.toString(16),"#".concat(a).concat(n).concat(s)},n=[e],s=0;s<=9;s++)n.push(t(e,Number((s/10).toFixed(2))));return n.push(a(e,.1)),n}}}},af1e:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入任务名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.jobName,callback:function(t){e.$set(e.queryParams,"jobName",t)},expression:"queryParams.jobName"}})],1),a("el-form-item",{attrs:{label:"任务组名",prop:"jobGroup"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请选择任务组名",clearable:""},model:{value:e.queryParams.jobGroup,callback:function(t){e.$set(e.queryParams,"jobGroup",t)},expression:"queryParams.jobGroup"}},e._l(e.dict.type.sys_job_group,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"执行状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请选择执行状态",clearable:""},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.dict.type.sys_common_status,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"执行时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:export"],expression:"['monitor:job:export']"}],attrs:{type:"warning",plain:"",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-close",size:"mini"},on:{click:e.handleClose}},[e._v("关闭")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.jobLogList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"日志编号",width:"80",align:"center",prop:"jobLogId"}}),a("el-table-column",{attrs:{label:"任务名称",align:"center",prop:"jobName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"任务组名",align:"center",prop:"jobGroup","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_job_group,value:t.row.jobGroup}})]}}])}),a("el-table-column",{attrs:{label:"调用目标字符串",align:"center",prop:"invokeTarget","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"日志信息",align:"center",prop:"jobMessage","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"执行状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_common_status,value:t.row.status}})]}}])}),a("el-table-column",{attrs:{label:"执行时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:query"],expression:"['monitor:job:query']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("详细")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:"调度日志详细",visible:e.open,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"日志序号："}},[e._v(e._s(e.form.jobLogId))]),a("el-form-item",{attrs:{label:"任务名称："}},[e._v(e._s(e.form.jobName))])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务分组："}},[e._v(e._s(e.form.jobGroup))]),a("el-form-item",{attrs:{label:"执行时间："}},[e._v(e._s(e.form.createTime))])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"调用方法："}},[e._v(e._s(e.form.invokeTarget))])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"日志信息："}},[e._v(e._s(e.form.jobMessage))])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"执行状态："}},[0==e.form.status?a("div",[e._v("正常")]):1==e.form.status?a("div",[e._v("失败")]):e._e()])],1),a("el-col",{attrs:{span:24}},[1==e.form.status?a("el-form-item",{attrs:{label:"异常信息："}},[e._v(e._s(e.form.exceptionInfo))]):e._e()],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.open=!1}}},[e._v("关 闭")])],1)],1)],1)},s=[]},af83:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"basicInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入仓库名称"},model:{value:e.info.tableName,callback:function(t){e.$set(e.info,"tableName",t)},expression:"info.tableName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.tableComment,callback:function(t){e.$set(e.info,"tableComment",t)},expression:"info.tableComment"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"实体类名称",prop:"className"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.className,callback:function(t){e.$set(e.info,"className",t)},expression:"info.className"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作者",prop:"functionAuthor"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.functionAuthor,callback:function(t){e.$set(e.info,"functionAuthor",t)},expression:"info.functionAuthor"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.info.remark,callback:function(t){e.$set(e.info,"remark",t)},expression:"info.remark"}})],1)],1)],1)],1)},s=[]},af89:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"split-container"},[a("div",{staticClass:"split-section"},[a("DocumentEditor")],1),a("div",{staticClass:"split-section"},[a("Chat")],1)])},s=[]},b18f:function(e,t,a){"use strict";a.r(t);var n=a("1ad8"),s=a("d01d");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("bfea");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},b1d2:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cas-callback"},[a("div",{staticClass:"loading"},[a("i",{staticClass:"el-icon-loading"}),a("p",[e._v("正在验证身份，请稍候...")])])])}]},b23a:function(e,t,a){"use strict";a.r(t);var n=a("6b70"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},b31c:function(e,t,a){"use strict";a.r(t);var n=a("c567"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},b34b:function(e,t,a){},b3ad:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("svg-icon",{attrs:{"icon-class":e.isFullscreen?"exit-fullscreen":"fullscreen"},on:{click:e.click}})],1)},s=[]},b3d7:function(e,t,a){"use strict";a.r(t);var n=a("bf6e"),s=a("a9dd");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("de06");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"41421bb2",null);t["default"]=o.exports},b3d9:function(e,t,a){"use strict";a("0e22")},b470:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-phone",use:"icon-phone-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-phone"><defs><style type="text/css"></style></defs><path d="M761.503029 2.90619 242.121921 2.90619c-32.405037 0-58.932204 26.060539-58.932204 58.527998l0 902.302287c0 32.156374 26.217105 58.216913 58.932204 58.216913l519.381108 0c32.344662 0 58.591443-26.060539 58.591443-58.216913L820.094472 61.123103C820.094472 28.966729 793.847691 2.90619 761.503029 2.90619M452.878996 61.123103l98.147344 0c6.780427 0 12.31549 5.536087 12.31549 12.253068 0 6.748704-5.535063 12.253068-12.31549 12.253068l-98.147344 0c-6.779404 0-12.345166-5.504364-12.345166-12.253068C440.532807 66.659189 446.099592 61.123103 452.878996 61.123103M501.641583 980.593398c-29.636994 0-53.987588-23.946388-53.987588-53.677527 0-29.356608 24.039509-53.614082 53.987588-53.614082 29.91738 0 53.987588 23.883967 53.987588 53.614082C555.629171 956.647009 531.559986 980.593398 501.641583 980.593398M766.35657 803.142893c0 16.23373-13.186324 29.107945-29.233811 29.107945l-470.618521 0c-16.35755 0-29.325909-13.186324-29.325909-29.107945L237.178329 163.500794c0-16.232706 13.279445-29.138644 29.325909-29.138644l470.246037 0c16.420995 0 29.357632 13.1853 29.357632 29.138644l0 639.642099L766.35657 803.142893zM766.35657 803.142893" p-id="2267" /></symbol>'});r.a.add(o);t["default"]=o},b4ba:function(e,t,a){"use strict";a.r(t);var n=a("39b5"),s=a("378f");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("713a");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"6ce19556",null);t["default"]=o.exports},b613:function(e,t,a){"use strict";a("8e49")},b661:function(e,t,a){},b699:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"assignment-page"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"AssignTasktitle"},[e._v("任务详情")])]),a("el-form",{staticClass:"task-form",attrs:{"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业名称:"}},[a("span",[e._v(e._s(e.taskData.taskName))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"截止日期:"}},[a("span",[e._v(e._s(e.formatDate(e.taskData.deadline)))])])],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"提交类型:"}},[a("span",[e._v(e._s(e.taskData.submissionTypes&&e.taskData.submissionTypes.join("、")))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"评阅流程:"}},[a("span",[e._v(e._s(e.taskData.evaluationMethods&&e.taskData.evaluationMethods.join("、")))])])],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"评阅设置:"}},[a("span",[e._v(e._s(e.taskData.reviewSettings&&e.taskData.reviewSettings.join("、")))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业描述:"}},[a("div",{domProps:{innerHTML:e._s(e.taskData.taskRequirements)}})])],1)],1)],1)],1),a("el-card",{staticClass:"config-card"},[a("div",{staticClass:"card-header-wrapper"},[e.hasAssignedStudents||"assign"===e.activeTab?e._e():a("el-alert",{staticClass:"alert-message",attrs:{title:"请先完成学生分配",type:"warning","show-icon":"",closable:!1}}),a("el-button",{staticClass:"submit-button",attrs:{type:"primary",loading:e.submitting},on:{click:e.handleSubmitTaskSettings}},[e._v(" 提交所有任务设置 ")])],1),a("el-tabs",{on:{"tab-click":e.handleTabClick},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"分配作业",name:"assign"}},[a("assign-students",{ref:"AssignStudents",attrs:{"task-id":e.taskId,"class-data":e.classData},on:{"update:assignedStudents":e.handleStudentsAssigned,"update:classData":e.updateClassData}})],1),a("el-tab-pane",{attrs:{label:"评价维度设置",name:"dimensions"}},[a("set-evaluation-dimensions",{attrs:{"task-id":e.taskId,disabled:!e.hasAssignedStudents}})],1),e.hasEvaluationMethod("自评")?a("el-tab-pane",{attrs:{disabled:!e.hasAssignedStudents,"assigned-students":e.assignedStudentsInfo,label:"自评",name:"self"}},[e.hasAssignedStudents?a("div",[a("self-evaluation",{attrs:{"task-id":e.taskId,"assigned-students":e.assignedStudentsInfo,"active-tab":e.activeTab}})],1):a("el-empty",{attrs:{description:"请先完成学生分配"}})],1):e._e(),e.hasEvaluationMethod("互评")?a("el-tab-pane",{attrs:{disabled:!e.hasAssignedStudents,"assigned-students":e.assignedStudentsInfo,label:"互评",name:"peer"}},[e.hasAssignedStudents?a("div",[a("peer-evaluation",{attrs:{"task-id":e.taskId,"assigned-students":e.assignedStudentsInfo,"active-tab":e.activeTab}})],1):a("el-empty",{attrs:{description:"请先完成学生分配"}})],1):e._e(),e.hasEvaluationMethod("师评")?a("el-tab-pane",{attrs:{disabled:!e.hasAssignedStudents,label:"师评",name:"teacher"}},[e.hasAssignedStudents?a("div",[a("teacher-evaluation",{attrs:{"task-id":e.taskId}})],1):a("el-empty",{attrs:{description:"请先完成学生分配"}})],1):e._e()],1)],1)],1)},s=[]},b69f:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("7ec2")),i=n(a("c973")),r=a("092f"),o=a("c0c7");t.default={data:function(){return{userInfo:{},newPassword:""}},created:function(){var e=this.$route.query.userId;e?this.fetchUserInfo(e):console.error("userId 未定义，无法加载用户信息")},methods:{fetchUserInfo:function(e){var t=this;return(0,i.default)((0,s.default)().mark((function a(){var n;return(0,s.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,o.getUserProfile)(e);case 3:n=a.sent,1===n.code&&(t.userInfo=n.data),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error("获取用户信息失败:",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},updateUserInfo:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){var a,n;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={nickName:e.userInfo.nickName,school:e.userInfo.school},t.next=4,(0,r.updateUserInfo)(e.userInfo.userId,a);case 4:n=t.sent,1===n.code?e.$message.success("用户信息更新成功"):e.$message.error(n.msg||"用户信息更新失败"),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.error("更新用户信息失败:",t.t0),e.$message.error("更新用户信息失败，请稍后再试");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},updatePassword:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){var a;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.newPassword){t.next=3;break}return e.$message.error("请输入新密码"),t.abrupt("return");case 3:return t.prev=3,t.next=6,(0,o.updateUserPwd)(e.userInfo.userId," ",e.newPassword);case 6:a=t.sent,0===a.code?(e.$message.success(a.msg||"密码更新成功"),e.newPassword=""):e.$message.error(a.msg||"密码更新失败"),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](3),console.error("密码更新失败:",t.t0),e.$message.error("密码更新失败，请稍后再试");case 14:case"end":return t.stop()}}),t,null,[[3,10]])})))()}}}},b6f9:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-example",use:"icon-example-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-example"><path d="M96.258 57.462h31.421C124.794 27.323 100.426 2.956 70.287.07v31.422a32.856 32.856 0 0 1 25.971 25.97zm-38.796-25.97V.07C27.323 2.956 2.956 27.323.07 57.462h31.422a32.856 32.856 0 0 1 25.97-25.97zm12.825 64.766v31.421c30.46-2.885 54.507-27.253 57.713-57.712H96.579c-2.886 13.466-13.146 23.726-26.292 26.291zM31.492 70.287H.07c2.886 30.46 27.253 54.507 57.713 57.713V96.579c-13.466-2.886-23.726-13.146-26.291-26.292z" /></symbol>'});r.a.add(o);t["default"]=o},b769:function(e,t,a){"use strict";a.r(t);var n=a("90bc"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},b775:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.download=w,t.isRelogin=void 0;var s=n(a("7ec2")),i=n(a("c973")),r=n(a("ded3")),o=n(a("7037"));a("d9e2"),a("caad"),a("fb6a"),a("e9c4"),a("b64b"),a("d3b7"),a("2532");var l,c=n(a("bc3a")),u=a("5c96"),d=n(a("4360")),f=a("5f87"),p=n(a("81ae")),m=a("c38a"),v=n(a("63f0")),h=a("21a6"),g=t.isRelogin={show:!1};c.default.defaults.headers["Content-Type"]="application/json;charset=utf-8";var b=c.default.create({baseURL:"/api",timeout:1e4});function w(e,t,a,n){return l=u.Loading.service({text:"正在下载数据，请稍候",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),b.post(e,t,(0,r.default)({transformRequest:[function(e){return(0,m.tansParams)(e)}],headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"blob"},n)).then(function(){var e=(0,i.default)((0,s.default)().mark((function e(t){var n,i,r,o,c;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=(0,m.blobValidate)(t),!n){e.next=6;break}i=new Blob([t]),(0,h.saveAs)(i,a),e.next=12;break;case 6:return e.next=8,t.text();case 8:r=e.sent,o=JSON.parse(r),c=p.default[o.code]||o.msg||p.default["default"],u.Message.error(c);case 12:l.close();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error(e),u.Message.error("下载文件出现错误，请联系管理员！"),l.close()}))}b.interceptors.request.use((function(e){(e.headers||{}).isToken;var t=!1===(e.headers||{}).repeatSubmit,a=(0,f.getToken)();if(a&&(e.headers["token"]="".concat(a)),"get"===e.method&&e.params){var n=e.url+"?"+(0,m.tansParams)(e.params);n=n.slice(0,-1),e.params={},e.url=n}if(!t&&("post"===e.method||"put"===e.method)){var s={url:e.url,data:"object"===(0,o.default)(e.data)?JSON.stringify(e.data):e.data,time:(new Date).getTime()},i=Object.keys(JSON.stringify(s)).length,r=5242880;if(i>=r)return console.warn("[".concat(e.url,"]: ")+"请求数据大小超出允许的5M限制，无法进行防重复提交验证。"),e;var l=v.default.session.getJSON("sessionObj");if(void 0===l||null===l||""===l)v.default.session.setJSON("sessionObj",s);else{var c=l.url,u=l.data,d=l.time,p=1e3;if(u===s.data&&s.time-d<p&&c===s.url){var h="数据正在处理，请勿重复提交";return console.warn("[".concat(c,"]: ")+h),Promise.reject(new Error(h))}v.default.session.setJSON("sessionObj",s)}}return console.log(e),e}),(function(e){console.log(e),Promise.reject(e)})),b.interceptors.response.use((function(e){var t=e.data.code||1,a=p.default[t]||e.data.msg||p.default["default"];return"blob"===e.request.responseType||"arraybuffer"===e.request.responseType?e.data:401===t?(g.show||(g.show=!0,u.MessageBox.confirm("登录状态已过期，您可以继续留在该页面，或者重新登录","系统提示",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then((function(){g.show=!1,d.default.dispatch("FedLogOut").then((function(){location.href="/index"}))})).catch((function(){g.show=!1}))),Promise.reject("无效的会话，或者会话已过期，请重新登录。")):500===t?((0,u.Message)({message:a,type:"error"}),Promise.reject(new Error(a))):601===t?((0,u.Message)({message:a,type:"warning"}),Promise.reject("error")):1!==t?(u.Notification.error({title:a}),Promise.reject("error")):e.data}),(function(e){console.log("err"+e);var t=e.message;return"Network Error"==t?t="后端接口连接异常":t.includes("timeout")?t="系统接口请求超时":t.includes("Request failed with status code")&&(t="系统接口"+t.substr(t.length-3)+"异常"),(0,u.Message)({message:t,type:"error",duration:5e3}),Promise.reject(e)}));t.default=b},b7ca:function(e,t,a){"use strict";a("9a27")},b7cd:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-detail-container"},[a("h3",{staticClass:"title"},[e._v("用户详情")]),a("el-form",{staticClass:"user-info-form",attrs:{model:e.userInfo,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"学号"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{disabled:""},model:{value:e.userInfo.studentId,callback:function(t){e.$set(e.userInfo,"studentId",t)},expression:"userInfo.studentId"}})],1),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{staticStyle:{width:"220px"},model:{value:e.userInfo.nickName,callback:function(t){e.$set(e.userInfo,"nickName",t)},expression:"userInfo.nickName"}})],1),a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{disabled:""},model:{value:e.userInfo.userName,callback:function(t){e.$set(e.userInfo,"userName",t)},expression:"userInfo.userName"}})],1),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{disabled:""},model:{value:e.userInfo.mobile,callback:function(t){e.$set(e.userInfo,"mobile",t)},expression:"userInfo.mobile"}})],1),a("el-form-item",{attrs:{label:"学校"}},[a("el-input",{staticStyle:{width:"220px"},model:{value:e.userInfo.school,callback:function(t){e.$set(e.userInfo,"school",t)},expression:"userInfo.school"}})],1),a("el-form-item",{attrs:{label:"专业"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{disabled:""},model:{value:e.userInfo.dept,callback:function(t){e.$set(e.userInfo,"dept",t)},expression:"userInfo.dept"}})],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-select",{staticStyle:{width:"220px"},attrs:{disabled:"",placeholder:"请选择"},model:{value:e.userInfo.sex,callback:function(t){e.$set(e.userInfo,"sex",t)},expression:"userInfo.sex"}},[a("el-option",{attrs:{label:"男",value:"男"}}),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1)],1),a("div",{staticClass:"button-group"},[a("el-button",{attrs:{type:"primary"},on:{click:e.updateUserInfo}},[e._v("修改信息")])],1),a("h4",{staticClass:"password-section-title"},[e._v("修改密码")]),a("el-form",{staticClass:"password-form",attrs:{model:{newPassword:e.newPassword},"label-width":"100px"}},[a("el-form-item",{attrs:{label:"新密码"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入新密码"},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1)],1),a("div",{staticClass:"password-button-group"},[a("el-button",{staticClass:"highlighted-password-button",attrs:{type:"danger"},on:{click:e.updatePassword}},[e._v("修改密码")])],1)],1)},s=[]},b7e1:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.checkConnection=c,t.getHealth=p,t.sendChatMessage=d,t.sendStreamChatMessage=f;var s=n(a("7ec2")),i=n(a("6374")),r=n(a("c973"));a("d9e2"),a("e9c4"),a("b64b"),a("d3b7"),a("2ca0");var o=n(a("bc3a")),l=o.default.create({baseURL:"http://10.120.48.67:8001",timeout:6e4,headers:{"Content-Type":"application/json"}});function c(){return u.apply(this,arguments)}function u(){return u=(0,r.default)((0,s.default)().mark((function e(){var t;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Checking health endpoint..."),e.next=4,p();case 4:return t=e.sent,console.log("Health check successful:",t),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e["catch"](0),console.error("Health check failed:",e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),u.apply(this,arguments)}function d(e){var t={model:"/mnt/mydisk/LLMs/LLM-Research/Meta-Llama-3.1-8B-Instruct",messages:e.conversation_messages||[],max_tokens:4096,temperature:.7,top_p:.9};return l.post("/v1/chat/completions",t).then((function(e){if(e.choices&&e.choices.length>0)return{status:"success",data:{role:"assistant",content:e.choices[0].message.content}};throw new Error("返回数据格式不正确")}))}function f(e,t,a,n){var s={model:"/mnt/mydisk/LLMs/LLM-Research/Meta-Llama-3.1-8B-Instruct",messages:e.conversation_messages||[],max_tokens:4096,temperature:.7,top_p:.9,stream:!0};fetch("".concat(l.defaults.baseURL,"/v1/chat/completions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){if(!e.ok)throw new Error("HTTP错误 ".concat(e.status));if(!e.body)throw new Error("ReadableStream不可用");var n=e.body.getReader(),s=new TextDecoder("utf-8"),r="";function o(e){var l=e.done,c=e.value;if(l)return console.log("流式响应完成"),void(a&&a({status:"success",data:{role:"assistant",content:r}}));var u=s.decode(c,{stream:!0});console.log("收到数据块:",u);var d,f=u.split("\n"),p="",m=(0,i.default)(f);try{for(m.s();!(d=m.n()).done;){var v=d.value;if(v.startsWith("data: ")&&"data: [DONE]"!==v)try{var h=JSON.parse(v.substring(6));if(h.choices&&h.choices.length>0){var g,b=(null===(g=h.choices[0].delta)||void 0===g?void 0:g.content)||"";b&&(p+=b,r+=b)}}catch(w){console.error("解析数据块失败:",w)}}}catch(y){m.e(y)}finally{m.f()}return p&&t&&t(p),n.read().then(o)}return n.read().then(o)})).catch((function(e){console.error("流式请求失败:",e),n&&n(e)}))}function p(){return l.get("/v1/models").then((function(e){return{status:"healthy"}})).catch((function(e){return{status:"unhealthy",error:e.message}}))}l.interceptors.request.use((function(e){return console.log("Request URL:",e.baseURL+e.url),console.log("Request Method:",e.method),console.log("Request Data:",e.data),e}),(function(e){return console.error("Request Error:",e),Promise.reject(e)})),l.interceptors.response.use((function(e){return console.log("Response:",e.data),e.data}),(function(e){console.error("Response Error:",e),console.error("Error Config:",e.config),console.error("Error Message:",e.message);var t="未知错误";if(e.response)switch(e.response.status){case 400:t=e.response.data.error||"请求参数错误";break;case 500:t=e.response.data.error||"服务器内部错误";break;default:t="请求失败: ".concat(e.response.status)}else e.request?(t="无法连接到服务器",console.error("No response received"),console.error("Target URL:",e.config.baseURL)):t=e.message;return Promise.reject(new Error(t))}))},b88c:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-build",use:"icon-build-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-build"><defs><style type="text/css"></style></defs><path d="M960 591.424V368.96c0-0.288 0.16-0.512 0.16-0.768S960 367.68 960 367.424V192a32 32 0 0 0-32-32H96a32 32 0 0 0-32 32v175.424c0 0.288-0.16 0.512-0.16 0.768s0.16 0.48 0.16 0.768v222.464c0 0.288-0.16 0.512-0.16 0.768s0.16 0.48 0.16 0.768V864a32 32 0 0 0 32 32h832a32 32 0 0 0 32-32v-271.04c0-0.288 0.16-0.512 0.16-0.768S960 591.68 960 591.424z m-560-31.232v-160H608v160h-208z m208 64V832h-208v-207.808H608z m-480-224h208v160H128v-160z m544 0h224v160h-224v-160zM896 224v112.192H128V224h768zM128 624.192h208V832H128v-207.808zM672 832v-207.808h224V832h-224z" p-id="2055" /></symbol>'});r.a.add(o);t["default"]=o},b8d5:function(e,t,a){"use strict";a.r(t);var n=a("b69f"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},b9eb:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("278c")),i=n(a("6374")),r=n(a("ded3"));a("a4d3"),a("e01a"),a("a15b"),a("d81d"),a("14d9"),a("13d5"),a("fb6a"),a("b0c0"),a("e9c4"),a("b680"),a("d3b7"),a("0643"),a("76d6"),a("4e3e"),a("a573"),a("9d4a"),a("159b"),a("ddb0");var o=a("2cc0"),l=a("2f62");t.default={data:function(){return{dialogVisible:!1,assignment:{description:"",name:"",deadline:"",contentTypes:["音频","演讲稿"],attachments:[]},maxDescriptionLength:50,reviewProcesses:[],hiddenInformation:[],scoreItems:[{category:"视频",weight:25,fullScore:100},{category:"音频",weight:25,fullScore:100},{category:"演讲稿",weight:25,fullScore:100},{category:"PPT",weight:25,fullScore:100}],totalScore:100,weightSum:100,fileList:[],taskJson:null}},created:function(){console.log("Owner Name:",this.name),console.log("Owner ID:",this.userId)},computed:(0,r.default)((0,r.default)({},(0,l.mapGetters)(["name","userId"])),{},{descriptionLength:function(){return this.assignment.description.length},reviewProcessDescription:function(){return this.reviewProcesses.join("-")}}),methods:{handleBeforeUpload:function(e){return this.fileList.push(e),!1},validateForm:function(){return this.assignment.name?this.assignment.deadline?this.assignment.description?this.assignment.contentTypes.length?this.reviewProcesses.length?!!this.scoreItems.every((function(e){return e.weight>0}))||(this.$message.error("请为所有评分项设置权重"),!1):(this.$message.error("请选择评阅流程"),!1):(this.$message.error("请选择至少一个提交内容类型"),!1):(this.$message.error("请填写作业描述"),!1):(this.$message.error("请设置作业截止日期"),!1):(this.$message.error("请填写作业名称"),!1)},createAssignment:function(){var e=this;if(this.validateForm()){this.taskJson={submissionTypes:this.assignment.contentTypes,taskName:this.assignment.name,deadline:this.assignment.deadline,taskRequirements:this.assignment.description,evaluationMethods:this.reviewProcesses,reviewSettings:this.hiddenInformation,ownerName:this.name,ownerId:this.userId,weights:this.scoreItems.map((function(e){return e.weight}))};var t=new FormData;t.append("taskJson",JSON.stringify(this.taskJson)),this.fileList.length>0&&this.fileList.forEach((function(e,a){e.raw?t.append("file",e.raw):t.append("file",e)}));var a,n=(0,i.default)(t.entries());try{for(n.s();!(a=n.n()).done;){var r=(0,s.default)(a.value,2),l=r[0],c=r[1];console.log("".concat(l,":"),c)}}catch(u){n.e(u)}finally{n.f()}(0,o.uploadTaskAssignment)(t).then((function(t){1===t.code?(e.$message.success("作业创建成功"),console.log("创建成功的任务ID:",t.data.id),e.handleTaskSuccess(t.data)):e.$message.error("作业创建失败")})).catch((function(t){e.$message.error("作业创建失败"),console.error(t)}))}},handleTaskSuccess:function(e){console.log("任务详情:",e),this.$router.push({name:"AssignTask",params:{taskId:e.id},query:{taskData:JSON.stringify(e)}})},cancelAssignment:function(){this.dialogVisible=!0},leavePage:function(){this.$router.go(-1)},handleClose:function(e){this.reviewProcesses=[],this.hiddenInformation=[],this.scoreItems.forEach((function(e){e.weight=25,e.weightedScore=0})),this.totalScore=0,this.weightSum=100,e()},handlePreview:function(e){},handleRemove:function(e,t){},beforeUpload:function(e){},handleInput:function(){this.descriptionLength>this.maxDescriptionLength&&(this.assignment.description=this.assignment.description.slice(0,this.maxDescriptionLength),this.$message.error("最多只能输入 ".concat(this.maxDescriptionLength," 个字")))},calculateScores:function(){this.weightSum=this.scoreItems.reduce((function(e,t){return e+t.weight}),0),this.totalScore=this.scoreItems.reduce((function(e,t){return e+100*t.weight/100}),0).toFixed(2),100!==this.weightSum&&this.$message.warning("权重相加需为100%")},updateTaskJson:function(){this.taskJson={submissionTypes:this.assignment.contentTypes,taskName:this.assignment.name,deadline:this.assignment.deadline,taskRequirements:this.assignment.description,evaluationMethods:this.reviewProcesses,reviewSettings:this.hiddenInformation,ownerName:this.name,ownerId:this.userId,weights:this.scoreItems.map((function(e){return e.weight}))},console.log("Updated Task JSON:",this.taskJson)}},watch:{weightSum:function(e){100!==e&&this.$message.warning("权重相加需为100%")},mounted:function(){this.calculateScores()},assignment:{deep:!0,handler:function(){this.updateTaskJson()}},reviewProcesses:function(){this.updateTaskJson()},hiddenInformation:function(){this.updateTaskJson()},scoreItems:{deep:!0,handler:function(){this.updateTaskJson()}}}}},ba17:function(e,t,a){"use strict";a.r(t);var n=a("5637"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},baad:function(e,t,a){"use strict";a.r(t);var n=a("7d9c"),s=a("c9dd");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("0c94"),a("c95c");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"3c18e64f",null);t["default"]=o.exports},badf:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-redis-list",use:"icon-redis-list-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-redis-list"><defs><style type="text/css">@font-face { font-family: feedback-iconfont; src: url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944") format("woff2"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944") format("woff"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944") format("truetype"); }\r\n</style></defs><path d="M958.88 730.06H65.12c-18.28 0-33.12-14.82-33.12-33.12V68.91c0-18.29 14.83-33.12 33.12-33.12h893.77c18.28 0 33.12 14.82 33.12 33.12v628.03c-0.01 18.3-14.84 33.12-33.13 33.12zM98.23 663.83h827.53v-561.8H98.23v561.8z" p-id="3396" /><path d="M512 954.55c-18.28 0-33.12-14.82-33.12-33.12V733.92c0-18.29 14.83-33.12 33.12-33.12s33.12 14.82 33.12 33.12v187.51c0 18.3-14.84 33.12-33.12 33.12z" p-id="3397" /><path d="M762.01 988.21H261.99c-18.28 0-33.12-14.82-33.12-33.12 0-18.29 14.83-33.12 33.12-33.12h500.03c18.28 0 33.12 14.82 33.12 33.12-0.01 18.29-14.84 33.12-33.13 33.12zM514.74 578.55c-21.63 0-43.31-3.87-64.21-11.65-45.95-17.13-82.49-51.13-102.86-95.74-5.07-11.08-0.19-24.19 10.89-29.26 11.08-5.09 24.19-0.18 29.26 10.91 15.5 33.88 43.25 59.7 78.14 72.71 34.93 12.99 72.79 11.64 106.66-3.85 33.22-15.17 58.8-42.26 72.03-76.3 4.42-11.37 17.21-17.01 28.57-12.58 11.36 4.42 16.99 17.22 12.57 28.58-17.42 44.82-51.1 80.5-94.82 100.47-24.34 11.12-50.25 16.71-76.23 16.71z" p-id="3398" /><path d="M325.27 528.78c-1.66 0-3.34-0.18-5.02-0.57-11.88-2.77-19.28-14.63-16.49-26.51l18.84-81c1.34-5.82 5-10.84 10.13-13.92 5.09-3.09 11.3-3.96 17.03-2.41l80.51 21.43c11.79 3.14 18.8 15.23 15.67 27.02-3.15 11.79-15.42 18.75-27.02 15.65l-58.49-15.57-13.69 58.81c-2.37 10.2-11.45 17.07-21.47 17.07zM360.8 351.01c-2.65 0-5.37-0.49-8-1.51-11.36-4.41-16.99-17.21-12.59-28.57 17.4-44.79 51.06-80.47 94.8-100.48 92.15-42.06 201.25-1.39 243.31 90.68 5.07 11.08 0.19 24.19-10.89 29.26-11.13 5.07-24.19 0.17-29.26-10.91-31.97-69.91-114.9-100.82-184.79-68.86-33.22 15.19-58.8 42.28-71.99 76.29-3.41 8.74-11.75 14.1-20.59 14.1z" p-id="3399" /><path d="M684.68 376.74c-1.47 0-2.95-0.15-4.42-0.44l-81.61-16.68c-11.94-2.45-19.64-14.11-17.21-26.06 2.44-11.96 14.1-19.64 26.04-17.22l59.29 12.12 10.23-59.5c2.05-12 13.52-20.19 25.48-18.01 12.03 2.06 20.09 13.48 18.02 25.5l-14.08 81.96a22.089 22.089 0 0 1-9.29 14.49c-3.7 2.51-8.03 3.84-12.45 3.84z" p-id="3400" /></symbol>'});r.a.add(o);t["default"]=o},bb4a:function(e,t){},bb50:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var s=n(a("46c2")),i=a("39e3");function r(e,t){(0,i.mergeOptions)(t),e.mixin({data:function(){if(void 0===this.$options||void 0===this.$options.dicts||null===this.$options.dicts)return{};var e=new s.default;return e.owner=this,{dict:e}},created:function(){var e=this;this.dict instanceof s.default&&(t.onCreated&&t.onCreated(this.dict),this.dict.init(this.$options.dicts).then((function(){t.onReady&&t.onReady(e.dict),e.$nextTick((function(){e.$emit("dictReady",e.dict),e.$options.methods&&e.$options.methods.onDictReady instanceof Function&&e.$options.methods.onDictReady.call(e,e.dict)}))})))}})}},bbae:function(e,t,a){"use strict";a("6ddb")},bc70:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height,attrs:{"element-loading-text":"正在加载页面，请稍候！"}},[a("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{id:e.iframeId,src:e.src,frameborder:"no"}})])},s=[]},bc7b:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-druid",use:"icon-druid-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-druid"><defs><style type="text/css"></style></defs><path d="M832 128H192a64.19 64.19 0 0 0-64 64v640a64.19 64.19 0 0 0 64 64h640a64.19 64.19 0 0 0 64-64V192a64.19 64.19 0 0 0-64-64z m0 703.89l-0.11 0.11H192.11l-0.11-0.11V768h640zM832 544H720L605.6 696.54 442.18 435.07 333.25 544H192v-64h114.75l147.07-147.07L610.4 583.46 688 480h144z m0-288H192v-63.89l0.11-0.11h639.78l0.11 0.11z" p-id="5854" /></symbol>'});r.a.add(o);t["default"]=o},bccb:function(e,t,a){"use strict";a.r(t);var n=a("15ae"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},bce6:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("448a")),i=n(a("7ec2")),r=n(a("c973")),o=n(a("ded3"));a("d9e2"),a("4de4"),a("7db0"),a("caad"),a("d81d"),a("fb6a"),a("b0c0"),a("d3b7"),a("6062"),a("1e70"),a("79a4"),a("c1a1"),a("8b00"),a("a4e7"),a("1e5a"),a("72c3"),a("2532"),a("3ca3"),a("498a"),a("0643"),a("2382"),a("fffc"),a("4e3e"),a("a573"),a("159b"),a("ddb0");var l=a("f190"),c=a("839b"),u=a("2f62");t.default={name:"AssignStudents",props:{taskId:{type:String,required:!0},classData:{type:Object,required:!0}},data:function(){return{selectedClassId:"",classList:[],originalStudentList:[],studentList:[],selectedStudents:[],total:0,searchForm:{name:"",studentId:""},currentPage:1,pageSize:10,loading:!1,assignedStudentIds:new Set}},computed:(0,o.default)({},(0,u.mapGetters)(["userId"])),created:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchClassList();case 2:if(!e.classData.selectedClassId){t.next=6;break}return e.selectedClassId=e.classData.selectedClassId,t.next=6,e.fetchStudents();case 6:case"end":return t.stop()}}),t)})))()},watch:{searchForm:{deep:!0,handler:function(){this.handleSearch()}},classData:{immediate:!0,deep:!0,handler:function(e){e.selectedClassId&&(this.selectedClassId=e.selectedClassId),e.assignedStudentIds&&(this.assignedStudentIds=new Set(e.assignedStudentIds))}}},methods:{fetchClassList:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,(0,l.getClasses)(e.userId);case 4:if(a=t.sent,1!==a.code||!a.data){t.next=10;break}e.classList=a.data.rows,e.$emit("update:classData",(0,o.default)((0,o.default)({},e.classData),{},{classList:a.data.rows})),t.next=11;break;case 10:throw new Error(a.msg||"获取班级列表失败");case 11:t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](1),console.error("获取班级列表失败:",t.t0),e.$message.error(t.t0.message||"获取班级列表失败");case 17:return t.prev=17,e.loading=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[1,13,17,20]])})))()},fetchStudents:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a,n,s;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.selectedClassId){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,t.next=6,(0,l.getClassMembers)({classId:e.selectedClassId});case 6:if(n=t.sent,null!==n&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.rows){t.next=9;break}throw new Error("获取学生数据失败");case 9:return t.next=11,(0,c.getTaskInfoById)(e.taskId);case 11:s=t.sent,1===s.code&&s.data&&(e.assignedStudentIds=new Set(s.data.assignedStudents||[]),e.$emit("update:classData",(0,o.default)((0,o.default)({},e.classData),{},{assignedStudentIds:e.assignedStudentIds}))),e.originalStudentList=n.data.rows.map((function(t){return{id:t.userId,studentId:t.studentId,name:t.nickName,className:e.getClassName(e.selectedClassId),email:t.userName,mobile:t.mobile,school:t.school,major:t.major,dept:t.dept,sex:t.sex,isAssigned:e.assignedStudentIds.has(t.userId)}})),e.$emit("update:classData",(0,o.default)((0,o.default)({},e.classData),{},{originalStudentList:e.originalStudentList})),e.filterAndPaginateData(),console.log("获取到的原始学生列表:",e.originalStudentList),t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](3),console.error("获取数据失败:",t.t0),e.$message.error(t.t0.message||"获取数据失败");case 23:return t.prev=23,e.loading=!1,t.finish(23);case 26:case"end":return t.stop()}}),t,null,[[3,19,23,26]])})))()},filterAndPaginateData:function(){var e=(0,s.default)(this.originalStudentList),t=this.searchForm.name.trim().toLowerCase(),a=this.searchForm.studentId.trim().toLowerCase();(t||a)&&(e=e.filter((function(e){var n=!t||(e.name||"").toLowerCase().includes(t),s=!a||(e.studentId||"").toLowerCase().includes(a);return n&&s}))),this.total=e.length;var n=(this.currentPage-1)*this.pageSize,i=n+this.pageSize;this.studentList=e.slice(n,i),console.log("搜索条件:",{name:t,id:a}),console.log("过滤后的数据:",e)},checkAssignmentStatus:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a,n;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.getTaskInfoById)(e.$route.params.taskId);case 3:a=t.sent,1===a.code&&a.data&&(n=(0,s.default)(new Set(a.data.assignedStudents)),e.studentList=e.studentList.map((function(e){return(0,o.default)((0,o.default)({},e),{},{isAssigned:n.includes(e.id)})}))),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$message.error("获取分配状态失败");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},isSelectable:function(e){return!e.isAssigned},getClassName:function(e){var t=this.classList.find((function(t){return t.classId===e}));return t?t.className:""},handleClassChange:function(e){var t=this;return(0,r.default)((0,i.default)().mark((function a(){return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.selectedClassId=e,t.$emit("update:classData",(0,o.default)((0,o.default)({},t.classData),{},{selectedClassId:e})),t.currentPage=1,a.next=5,t.fetchStudents();case 5:case"end":return a.stop()}}),a)})))()},handleSearch:function(){this.currentPage=1,this.filterAndPaginateData()},resetSearch:function(){this.searchForm={name:"",studentId:""},this.currentPage=1,this.filterAndPaginateData()},handleSelectionChange:function(e){this.selectedStudents=e},handleSizeChange:function(e){this.pageSize=e,this.filterAndPaginateData()},handleCurrentChange:function(e){this.currentPage=e,this.filterAndPaginateData()},handleSingleAssign:function(e){var t=this;return(0,r.default)((0,i.default)().mark((function a(){return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,c.assignStudentsToTask)(t.taskId,[e.id]);case 3:return t.assignedStudentIds.add(e.id),t.$emit("update:classData",(0,o.default)((0,o.default)({},t.classData),{},{assignedStudentIds:t.assignedStudentIds})),a.next=7,t.fetchStudents();case 7:t.$message.success("分配成功"),t.$emit("update:assignedStudents",!0),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](0),console.error("分配失败:",a.t0),t.$message.error("分配失败");case 15:case"end":return a.stop()}}),a,null,[[0,11]])})))()},handleAssign:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.selectedStudents.length){t.next=3;break}return e.$message.warning("请选择要分配的学生"),t.abrupt("return");case 3:return t.prev=3,a=e.selectedStudents.map((function(e){return e.id})),t.next=7,(0,c.assignStudentsToTask)(e.taskId,a);case 7:return a.forEach((function(t){return e.assignedStudentIds.add(t)})),e.$emit("update:classData",(0,o.default)((0,o.default)({},e.classData),{},{assignedStudentIds:e.assignedStudentIds})),t.next=11,e.fetchStudents();case 11:e.$refs.studentTable.clearSelection(),e.$message.success("分配成功"),e.$emit("update:assignedStudents",!0),t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](3),console.error("批量分配失败:",t.t0),e.$message.error("分配失败");case 20:case"end":return t.stop()}}),t,null,[[3,16]])})))()}}}},bdc0:function(e,t,a){"use strict";a("70b1")},bdc07:function(e,t,a){"use strict";a.r(t);var n=a("71f7"),s=a("c982");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("1e5b");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"266b59e2",null);t["default"]=o.exports},bed3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("bf19"),a("9861"),a("88a7"),a("271a"),a("5494");t.default={name:"pdf-viewer",props:{pdfData:{required:!0}},data:function(){return{pdfUrl:null}},watch:{pdfData:{immediate:!0,handler:function(e){if(e){var t=new Blob([e],{type:"application/pdf"});this.pdfUrl=URL.createObjectURL(t)}}}},beforeDestroy:function(){this.pdfUrl&&URL.revokeObjectURL(this.pdfUrl)}}},bf6e:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-scrollbar",{ref:"scrollContainer",staticClass:"scroll-container",attrs:{vertical:!1},nativeOn:{wheel:function(t){return t.preventDefault(),e.handleScroll(t)}}},[e._t("default")],2)},s=[]},bf84:function(e,t,a){"use strict";a.r(t);var n=a("116f"),s=a("52b5");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("d7fe");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"2ec97888",null);t["default"]=o.exports},bfc4:function(e,t,a){"use strict";a.r(t);var n=a("64c5"),s=a("7204");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},bfcb:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"member-management"},[a("el-row",{staticClass:"form-row",staticStyle:{"margin-bottom":"10px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:1}},[a("span",[e._v("学号：")])]),a("el-col",{attrs:{span:10}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"学号查询"},on:{input:e.searchMembers},model:{value:e.searchQuery.stuIndex,callback:function(t){e.$set(e.searchQuery,"stuIndex",t)},expression:"searchQuery.stuIndex"}})],1)],1),a("el-row",{staticClass:"form-row",staticStyle:{"margin-bottom":"10px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:1}},[a("span",[e._v("姓名：")])]),a("el-col",{attrs:{span:10}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"姓名查询"},on:{input:e.searchMembers},model:{value:e.searchQuery.name,callback:function(t){e.$set(e.searchQuery,"name",t)},expression:"searchQuery.name"}})],1)],1),a("el-row",{staticClass:"form-row",staticStyle:{"margin-bottom":"10px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:1}},[a("span",[e._v("邮箱：")])]),a("el-col",{attrs:{span:10}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"邮箱查询"},on:{input:e.searchMembers},model:{value:e.searchQuery.mail,callback:function(t){e.$set(e.searchQuery,"mail",t)},expression:"searchQuery.mail"}})],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:e.searchMembers}},[e._v("查询")]),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.members}},[a("el-table-column",{attrs:{label:"序号",width:"200","class-name":"number"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((e.currentPage-1)*e.pageSize+t.$index+1)+" ")]}}])}),a("el-table-column",{attrs:{prop:"studentId",label:"学号","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"nickName",label:"姓名","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"班级",label:"班级","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"userName",label:"邮箱","header-align":"center",align:"center",width:"200"}}),a("el-table-column",{attrs:{prop:"roleId",label:"角色","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"sex",label:"性别","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"mobile",label:"手机号","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"createTime",label:"加入时间","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{label:"操作",width:"180","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.editMember(t.row.userId)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.confirmDelete(t.row.userId)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{staticStyle:{"margin-top":"20px","text-align":"right"},attrs:{"current-page":e.currentPage,"page-size":e.pageSize,total:e.members.length,layout:"total, prev, pager, next, jumper"},on:{"current-change":e.changePage}})],1)},s=[]},bfe9:function(e,t,a){"use strict";a.r(t);var n=a("db8b"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},bfea:function(e,t,a){"use strict";a("2587")},c00a:function(e,t,a){"use strict";a.r(t);var n=a("005c"),s=a("5e772");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("7651");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"248913c8",null);t["default"]=o.exports},c044:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"Page404",computed:{message:function(){return"找不到网页！"}}}},c078:function(e,t,a){"use strict";a.r(t);var n=a("95b3"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},c0c3:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addConfig=l,t.delConfig=u,t.getConfig=r,t.getConfigKey=o,t.listConfig=i,t.refreshCache=d,t.updateConfig=c;var s=n(a("b775"));function i(e){return(0,s.default)({url:"/system/config/list",method:"get",params:e})}function r(e){return(0,s.default)({url:"/system/config/"+e,method:"get"})}function o(e){return(0,s.default)({url:"/system/config/configKey/"+e,method:"get"})}function l(e){return(0,s.default)({url:"/system/config",method:"post",data:e})}function c(e){return(0,s.default)({url:"/system/config",method:"put",data:e})}function u(e){return(0,s.default)({url:"/system/config/"+e,method:"delete"})}function d(){return(0,s.default)({url:"/system/config/refreshCache",method:"delete"})}},c0c7:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addUser=l,t.changeUserStatus=f,t.delUser=u,t.deptTreeSelect=y,t.getAuthRole=b,t.getUser=o,t.getUserProfile=p,t.getUserProfiles=m,t.listUser=r,t.resetUserPwd=d,t.updateAuthRole=w,t.updateUser=c,t.updateUserProfile=v,t.updateUserPwd=h,t.uploadAvatar=g;var s=n(a("b775")),i=a("c38a");n(a("0062"));function r(e){return(0,s.default)({url:"/system/user/list",method:"get",params:e})}function o(e){return(0,s.default)({url:"/system/user/"+(0,i.parseStrEmpty)(e),method:"get"})}function l(e){return(0,s.default)({url:"/system/user",method:"post",data:e})}function c(e){return(0,s.default)({url:"/system/user",method:"put",data:e})}function u(e){return(0,s.default)({url:"/system/user/"+e,method:"delete"})}function d(e,t){var a={userId:e,password:t};return(0,s.default)({url:"/system/user/resetPwd",method:"put",data:a})}function f(e,t){var a={userId:e,status:t};return(0,s.default)({url:"/system/user/changeStatus",method:"put",data:a})}function p(e){return(0,s.default)({url:"/member/getInfoById?userId=".concat(e),method:"get"})}function m(e){return(0,s.default)({url:"/members/getStuByIds",method:"post",data:{page:1,pageSize:1e4,stuIds:e}})}function v(e){return(0,s.default)({url:"/system/user/profile",method:"put",data:e})}function h(e,t,a){var n={userId:e,oldPassword:t,newPassword:a};return console.log("data",n),(0,s.default)({url:"/account/changePassword",method:"get",params:n})}function g(e){return(0,s.default)({url:"/system/user/profile/avatar",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e})}function b(e){return(0,s.default)({url:"/system/user/authRole/"+e,method:"get"})}function w(e){return(0,s.default)({url:"/system/user/authRole",method:"put",params:e})}function y(){return(0,s.default)({url:"/system/user/deptTree",method:"get"})}},c101:function(e,t,a){"use strict";a("2c41")},c19b:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af");var s=n(a("b18f"));t.default={components:{ThemePicker:s.default},data:function(){return{theme:this.$store.state.settings.theme,sideTheme:this.$store.state.settings.sideTheme}},computed:{visible:{get:function(){return this.$store.state.settings.showSettings}},fixedHeader:{get:function(){return this.$store.state.settings.fixedHeader},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"fixedHeader",value:e})}},topNav:{get:function(){return this.$store.state.settings.topNav},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"topNav",value:e}),e||(this.$store.dispatch("app/toggleSideBarHide",!1),this.$store.commit("SET_SIDEBAR_ROUTERS",this.$store.state.permission.defaultRoutes))}},tagsView:{get:function(){return this.$store.state.settings.tagsView},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"tagsView",value:e})}},sidebarLogo:{get:function(){return this.$store.state.settings.sidebarLogo},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"sidebarLogo",value:e})}},dynamicTitle:{get:function(){return this.$store.state.settings.dynamicTitle},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"dynamicTitle",value:e})}}},methods:{themeChange:function(e){this.$store.dispatch("settings/changeSetting",{key:"theme",value:e}),this.theme=e},handleTheme:function(e){this.$store.dispatch("settings/changeSetting",{key:"sideTheme",value:e}),this.sideTheme=e},saveSetting:function(){this.$modal.loading("正在保存到本地，请稍候..."),this.$cache.local.set("layout-setting",'{\n            "topNav":'.concat(this.topNav,',\n            "tagsView":').concat(this.tagsView,',\n            "fixedHeader":').concat(this.fixedHeader,',\n            "sidebarLogo":').concat(this.sidebarLogo,',\n            "dynamicTitle":').concat(this.dynamicTitle,',\n            "sideTheme":"').concat(this.sideTheme,'",\n            "theme":"').concat(this.theme,'"\n          }')),setTimeout(this.$modal.closeLoading(),1e3)},resetSetting:function(){this.$modal.loading("正在清除设置缓存并刷新，请稍候..."),this.$cache.local.remove("layout-setting"),setTimeout("window.location.reload()",1e3)}}}},c1f7:function(e,t,a){"use strict";a.r(t);var n=a("f3de"),s=a("a533");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("89a9");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"40dfd6b2",null);t["default"]=o.exports},c274:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7");var s=n(a("2b0e")),i=n(a("4360")),r=n(a("bb50")),o=a("aa3a");function l(e,t){if(null==t&&""==t)return null;try{for(var a=0;a<e.length;a++)if(e[a].key==t)return e[a].value}catch(n){return null}}function c(){s.default.use(r.default,{metas:{"*":{labelField:"dictLabel",valueField:"dictValue",request:function(e){var t=l(i.default.getters.dict,e.type);return new Promise(t?function(e){e(t)}:function(t,a){(0,o.getDicts)(e.type).then((function(a){i.default.dispatch("dict/setDict",{key:e.type,value:a.data}),t(a.data)})).catch((function(e){a(e)}))})}}}})}t.default={install:c}},c282:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-upload-image"},[a("el-upload",{ref:"imageUpload",class:{hide:this.fileList.length>=this.limit},attrs:{multiple:"",action:e.uploadImgUrl,"list-type":"picture-card","on-success":e.handleUploadSuccess,"before-upload":e.handleBeforeUpload,limit:e.limit,"on-error":e.handleUploadError,"on-exceed":e.handleExceed,"on-remove":e.handleDelete,"show-file-list":!0,headers:e.headers,"file-list":e.fileList,"on-preview":e.handlePictureCardPreview}},[a("i",{staticClass:"el-icon-plus"})]),e.showTip?a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 请上传 "),e.fileSize?[e._v(" 大小不超过 "),a("b",{staticStyle:{color:"#f56c6c"}},[e._v(e._s(e.fileSize)+"MB")])]:e._e(),e.fileType?[e._v(" 格式为 "),a("b",{staticStyle:{color:"#f56c6c"}},[e._v(e._s(e.fileType.join("/")))])]:e._e(),e._v(" 的文件 ")],2):e._e(),a("el-dialog",{attrs:{visible:e.dialogVisible,title:"预览",width:"800","append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{staticStyle:{display:"block","max-width":"100%",margin:"0 auto"},attrs:{src:e.dialogImageUrl}})])],1)},s=[]},c292:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-button",use:"icon-button-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-button"><defs><style type="text/css"></style></defs><path d="M230.4 307.712c13.824 0 25.088-11.264 25.088-25.088 0-100.352 81.92-182.272 182.272-182.272s182.272 81.408 182.272 182.272c0 13.824 11.264 25.088 25.088 25.088s25.088-11.264 24.576-25.088c0-127.488-103.936-231.936-231.936-231.936S205.824 154.624 205.824 282.624c-0.512 14.336 10.752 25.088 24.576 25.088z m564.736 234.496c-11.264 0-21.504 2.048-31.232 6.144 0-44.544-40.448-81.92-88.064-81.92-14.848 0-28.16 3.584-39.936 10.24-13.824-28.16-44.544-48.128-78.848-48.128-12.288 0-24.576 2.56-35.328 7.68V284.16c0-45.568-37.888-81.92-84.48-81.92s-84.48 36.864-84.48 81.92v348.672l-69.12-112.64c-18.432-28.16-58.368-36.864-91.136-19.968-26.624 14.336-46.592 47.104-30.208 88.064 3.072 8.192 76.8 205.312 171.52 311.296 0 0 28.16 24.576 43.008 58.88 4.096 9.728 13.312 15.36 22.528 15.36 3.072 0 6.656-0.512 9.728-2.048 12.288-5.12 18.432-19.968 12.8-32.256-19.456-44.544-53.76-74.752-53.76-74.752C281.6 768 209.408 573.44 208.384 570.88c-5.12-12.8-2.56-20.992 7.168-26.112 9.216-4.608 21.504-4.608 26.112 2.56l113.152 184.32c4.096 8.704 12.8 14.336 22.528 14.336 13.824 0 25.088-10.752 25.088-25.088V284.16c0-17.92 15.36-32.256 34.816-32.256s34.816 14.336 34.816 32.256v284.16c0 13.824 10.24 25.088 24.576 25.088 13.824 0 25.088-11.264 25.088-25.088v-57.344c0-17.92 15.36-32.768 34.816-32.768 19.968 0 37.376 15.36 37.376 32.768v95.232c0 7.168 3.072 13.312 7.68 17.92 4.608 4.608 10.752 7.168 17.92 7.168 13.824 0 24.576-11.264 24.576-25.088V547.84c0-18.432 13.824-32.256 32.256-32.256 20.48 0 38.912 15.36 38.912 32.256v95.232c0 13.824 11.264 25.088 25.088 25.088s24.576-11.264 25.088-25.088v-18.944c0-18.944 12.8-32.256 30.72-32.256 18.432 0 22.528 18.944 22.528 31.744 0 1.024-11.776 99.84-50.688 173.056-30.72 58.368-45.056 112.128-51.2 146.944-2.56 13.312 6.656 26.112 19.968 28.672 1.536 0 3.072 0.512 4.608 0.512 11.776 0 22.016-8.192 24.064-20.48 5.632-31.232 18.432-79.36 46.08-132.608 43.52-81.92 55.808-186.88 56.32-193.536-0.512-50.688-29.696-83.968-72.704-83.968z" /></symbol>'});r.a.add(o);t["default"]=o},c319:function(e,t,a){},c38a:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addDateRange=l,t.blobValidate=h,t.handleTree=m,t.mergeRecursive=p,t.parseStrEmpty=f,t.parseTime=r,t.resetForm=o,t.selectDictLabel=c,t.selectDictLabels=u,t.sprintf=d,t.tansParams=v,a("a15b"),a("14d9"),a("b64b"),a("d3b7"),a("4d63"),a("c607"),a("ac1f"),a("2c3e"),a("00b4"),a("25f0"),a("5319"),a("1276"),a("0643"),a("9a9a");var s=n(a("6374")),i=n(a("7037"));function r(e,t){if(0===arguments.length||!e)return null;var a,n=t||"{y}-{m}-{d} {h}:{i}:{s}";"object"===(0,i.default)(e)?a=e:("string"===typeof e&&/^[0-9]+$/.test(e)?e=parseInt(e):"string"===typeof e&&(e=e.replace(new RegExp(/-/gm),"/").replace("T"," ").replace(new RegExp(/\.[\d]{3}/gm),"")),"number"===typeof e&&10===e.toString().length&&(e*=1e3),a=new Date(e));var s={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},r=n.replace(/{(y|m|d|h|i|s|a)+}/g,(function(e,t){var a=s[t];return"a"===t?["日","一","二","三","四","五","六"][a]:(e.length>0&&a<10&&(a="0"+a),a||0)}));return r}function o(e){this.$refs[e]&&this.$refs[e].resetFields()}function l(e,t,a){var n=e;return n.params="object"!==(0,i.default)(n.params)||null===n.params||Array.isArray(n.params)?{}:n.params,t=Array.isArray(t)?t:[],"undefined"===typeof a?(n.params["beginTime"]=t[0],n.params["endTime"]=t[1]):(n.params["begin"+a]=t[0],n.params["end"+a]=t[1]),n}function c(e,t){if(void 0===t)return"";var a=[];return Object.keys(e).some((function(n){if(e[n].value==""+t)return a.push(e[n].label),!0})),0===a.length&&a.push(t),a.join("")}function u(e,t,a){if(void 0===t||0===t.length)return"";Array.isArray(t)&&(t=t.join(","));var n=[],s=void 0===a?",":a,i=t.split(s);return Object.keys(t.split(s)).some((function(t){var a=!1;Object.keys(e).some((function(r){e[r].value==""+i[t]&&(n.push(e[r].label+s),a=!0)})),a||n.push(i[t]+s)})),n.join("").substring(0,n.join("").length-1)}function d(e){var t=arguments,a=!0,n=1;return e=e.replace(/%s/g,(function(){var e=t[n++];return"undefined"===typeof e?(a=!1,""):e})),a?e:""}function f(e){return e&&"undefined"!=e&&"null"!=e?e:""}function p(e,t){for(var a in t)try{t[a].constructor==Object?e[a]=p(e[a],t[a]):e[a]=t[a]}catch(n){e[a]=t[a]}return e}function m(e,t,a,n){var i,r={id:t||"id",parentId:a||"parentId",childrenList:n||"children"},o={},l={},c=[],u=(0,s.default)(e);try{for(u.s();!(i=u.n()).done;){var d=i.value,f=d[r.parentId];null==o[f]&&(o[f]=[]),l[d[r.id]]=d,o[f].push(d)}}catch(C){u.e(C)}finally{u.f()}var p,m=(0,s.default)(e);try{for(m.s();!(p=m.n()).done;){var v=p.value,h=v[r.parentId];null==l[h]&&c.push(v)}}catch(C){m.e(C)}finally{m.f()}for(var g=0,b=c;g<b.length;g++){var w=b[g];y(w)}function y(e){if(null!==o[e[r.id]]&&(e[r.childrenList]=o[e[r.id]]),e[r.childrenList]){var t,a=(0,s.default)(e[r.childrenList]);try{for(a.s();!(t=a.n()).done;){var n=t.value;y(n)}}catch(C){a.e(C)}finally{a.f()}}}return c}function v(e){for(var t="",a=0,n=Object.keys(e);a<n.length;a++){var s=n[a],r=e[s],o=encodeURIComponent(s)+"=";if(null!==r&&""!==r&&"undefined"!==typeof r)if("object"===(0,i.default)(r))for(var l=0,c=Object.keys(r);l<c.length;l++){var u=c[l];if(null!==r[u]&&""!==r[u]&&"undefined"!==typeof r[u]){var d=s+"["+u+"]",f=encodeURIComponent(d)+"=";t+=f+encodeURIComponent(r[u])+"&"}}else t+=o+encodeURIComponent(r)+"&"}return t}function h(e){return"application/json"!==e.type}},c393:function(e,t,a){"use strict";a.r(t);var n=a("84ce"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},c441:function(e,t,a){},c459:function(e,t,a){},c463:function(e,t,a){"use strict";a.r(t);var n=a("e107"),s=a("25ec");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("fdb6");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"045c44d2",null);t["default"]=o.exports},c46c:function(e,t,a){},c561:function(e,t,a){"use strict";a.r(t);var n=a("e0a3"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},c567:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"Hamburger",props:{isActive:{type:Boolean,default:!1}},methods:{toggleClick:function(){this.$emit("toggleClick")}}}},c5b4:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"assignment-detail"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("作业信息")])]),a("el-form",{attrs:{"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业名称:",required:""}},[a("el-input",{attrs:{placeholder:"请输入作业名称，不超过100个字符",disabled:""},model:{value:e.assignment.name,callback:function(t){e.$set(e.assignment,"name",t)},expression:"assignment.name"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"截止日期:",required:""}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"2024-09-20 00:00:00",disabled:""},model:{value:e.assignment.deadline,callback:function(t){e.$set(e.assignment,"deadline",t)},expression:"assignment.deadline"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"作业描述:"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入作业描述",maxlength:5,disabled:""},on:{input:e.handleInput},model:{value:e.assignment.taskRequirements,callback:function(t){e.$set(e.assignment,"taskRequirements",t)},expression:"assignment.taskRequirements"}}),e.descriptionLength>50?a("span",{staticStyle:{color:"red"}},[e._v("输入字数过多！")]):e._e()],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业附件:"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"/upload","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-upload":e.beforeUpload,multiple:"","file-list":e.assignment.fileList,disabled:""}},[a("el-button",{attrs:{size:"small",type:"primary",disabled:""}},[e._v("点击上传")])],1)],1)],1)],1),a("el-row",[a("el-form-item",{attrs:{label:"提交内容:",required:""}},[a("el-checkbox-group",{attrs:{disabled:""},model:{value:e.assignment.contentTypes,callback:function(t){e.$set(e.assignment,"contentTypes",t)},expression:"assignment.contentTypes"}},[a("el-checkbox",{attrs:{label:"视频"}}),a("el-checkbox",{attrs:{label:"音频",disabled:!0}}),a("el-checkbox",{attrs:{label:"PPT"}}),a("el-checkbox",{attrs:{label:"演讲稿",disabled:!0}})],1)],1)],1)],1)],1),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("分配学生信息")])]),a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"分配的学生信息",name:"assigned"}},[a("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.pagedAssignedStudents}},[a("el-table-column",{attrs:{prop:"nickName",label:"姓名","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"userName",label:"邮箱","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"mobile",label:"手机号","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.userName?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.viewScore(t.row)}}},[e._v("查看成绩")]):e._e()]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{layout:"prev, pager, next","page-size":10,"current-page":e.assignedCurrentPage,total:e.assignedStudents.length},on:{"current-change":function(t){return e.handlePageChange("assigned",t)}}}),a("p",{staticClass:"total-students"},[e._v(" 共 "),a("span",{staticClass:"student-count"},[e._v(e._s(e.totalStudents))]),e._v(" 个学生 ")])],1),e.showTabs.self?a("el-tab-pane",{attrs:{label:"自评",name:"self"}},[a("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.pagedSelfEvaluations}},[a("el-table-column",{attrs:{prop:"nickName",label:"学生姓名","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"userName",label:"邮箱","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"mobile",label:"手机号","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"reviewerName",label:"评阅人","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"audioGrade",label:"音频评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"pptGrade",label:"PPT评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"scriptGrade",label:"演讲稿评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"videoGrade",label:"视频评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"totalGrade",label:"总分","header-align":"center",align:"center"}})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{layout:"prev, pager, next","page-size":10,"current-page":e.selfCurrentPage,total:e.selfEvaluations.length},on:{"current-change":function(t){return e.handlePageChange("self",t)}}})],1):e._e(),e.showTabs.machine?a("el-tab-pane",{attrs:{label:"机评",name:"machine"}},[a("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.pagedMachineEvaluations}},[a("el-table-column",{attrs:{prop:"nickName",label:"学生姓名","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"userName",label:"邮箱","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"mobile",label:"手机号","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"reviewerName",label:"评阅人","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"audioGrade",label:"音频评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"pptGrade",label:"PPT评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"scriptGrade",label:"演讲稿评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"videoGrade",label:"视频评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"totalGrade",label:"总分","header-align":"center",align:"center"}})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{layout:"prev, pager, next","page-size":10,"current-page":e.machineCurrentPage,total:e.machineEvaluations.length},on:{"current-change":function(t){return e.handlePageChange("machine",t)}}})],1):e._e(),e.showTabs.peer?a("el-tab-pane",{attrs:{label:"互评",name:"peer"}},[a("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.pagedPeerEvaluations}},[a("el-table-column",{attrs:{prop:"nickName",label:"学生姓名","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"userName",label:"邮箱","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"mobile",label:"手机号","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"reviewerName",label:"评阅人","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"audioGrade",label:"音频评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"pptGrade",label:"PPT评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"scriptGrade",label:"演讲稿评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"videoGrade",label:"视频评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"totalGrade",label:"总分","header-align":"center",align:"center"}})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{layout:"prev, pager, next","page-size":10,"current-page":e.peerCurrentPage,total:e.peerEvaluations.length},on:{"current-change":function(t){return e.handlePageChange("peer",t)}}})],1):e._e(),e.showTabs.teacher?a("el-tab-pane",{attrs:{label:"师评",name:"teacher"}},[a("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.pagedTeacherEvaluations}},[a("el-table-column",{attrs:{prop:"nickName",label:"学生姓名","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"userName",label:"邮箱","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"mobile",label:"手机号","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"reviewerName",label:"评阅人","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"audioGrade",label:"音频评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"pptGrade",label:"PPT评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"scriptGrade",label:"演讲稿评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"videoGrade",label:"视频评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"totalGrade",label:"总分","header-align":"center",align:"center"}})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{layout:"prev, pager, next","page-size":10,"current-page":e.teacherCurrentPage,total:e.teacherEvaluations.length},on:{"current-change":function(t){return e.handlePageChange("teacher",t)}}})],1):e._e()],1)],1),a("el-dialog",{attrs:{visible:e.showScoreDialog,title:"查看成绩",width:"50%"},on:{"update:visible":function(t){e.showScoreDialog=t}}},[a("div",{staticClass:"student-info"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("p",[a("strong",[e._v("姓名：")]),e._v(" "+e._s(e.selectedStudent?e.selectedStudent.nickName:""))])]),a("el-col",{attrs:{span:12}},[a("p",[a("strong",[e._v("学号：")]),e._v(" "+e._s(e.selectedStudent?e.selectedStudent.studentId:""))])])],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("p",[a("strong",[e._v("邮箱：")]),e._v(" "+e._s(e.selectedStudent?e.selectedStudent.userName:""))])]),a("el-col",{attrs:{span:12}},[a("p",[a("strong",[e._v("手机号：")]),e._v(" "+e._s(e.selectedStudent?e.selectedStudent.mobile:""))])])],1)],1),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.evaluationResults}},[a("el-table-column",{attrs:{prop:"method",label:"作业类型","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"reviewerName",label:"评阅人","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"audioGrade",label:"音频评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"pptGrade",label:"PPT评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"scriptGrade",label:"演讲稿评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"videoGrade",label:"视频评分","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"totalGrade",label:"总分","header-align":"center",align:"center"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showScoreDialog=!1}}},[e._v("关闭")])],1)],1)],1)},s=[]},c63f:function(e,t,a){"use strict";a("6011")},c650:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAADVhJREFUeF7tnQuy1TYMhsNKWlYCrARYCbASLisprKTtSuj97xwxIU0iP2Rbsv/MMHeGEyeWrM+SHD9ebbyogXINfNi27c22bW8fj/iz/FHdSn5/vAl/f2zb9s/j32kFXnWrFl80kwYAxvsdGNFl+/gsC4ABLL9dBCR60/av/18TgbHXHuB4d4SEgPQ3sMhvnBWOfZvAmzzJfxCQyObat+4rwCEafS2ehID0NbKob/v0XPHPUStfUO9f4RYBKdDeYkUwMvX3YjJDXHQIXwjIgi2fKfJq3mOvntcEJNNaFrx9pdzj2LzvCMiCFp8p8s/M+2e6/YmAzNSc9rKsmn+IJgmIvU1N9cTVAflODzKVPTcRZuUQi4A0Mam5Hooh3giTEFtonYC00Opkz/z6/FUZkxNXvAjIiq2eKTPgACQrXgRkxVYvkHnVMIuAFBjLikVW9SIEZEVrL5R5xSknBKTQWFYtthokBGRVS6+QG5Ag5Fph6JeAVBjKykUBB0DBZg0zg0JAVrZyI9kBCXY2ASglsMiOKEbVMX0MATFVJx+WowGAgan0ni8C4rl1Jq5bBDigfgIysRF6FS3SSBgB8WpFk9Yr2upEAjKpIXoTC8k75nN5TsjPdEZAvFnShPUBFICjZIRrtDoIyOgWmPz9UZLxq2YgIJMb6EjxIiXjBGSkpSz47mjJOAFZ0EhHiBw1GScgI6xlsXcCDniOiMk4AVnMWHuLGz0ZJyC9LWah982QjBOQhQy2p6izJOMEpKfVLPKu2eFAM/I7yCLGbCnmbCNVd7ohIJaWs8CzvCXjcqRzqzleBGQBo7YS0Rsccthmy1CPgFhZz+TP8bb9KI5rFu9BQCY3Pu/itTTAXNlxuCY8h8CB8i3rt4wHudtQAErHJX9zG23W+70l44ACnuN4EZAMC8R+TX88pjuUbEkjPRP+/nhAsyI43vKNKzjoQRQ4AAS2nCmBIZU7NI4As3ftqeWj3ecNjpfjmG+USA9yUI5AMerMiqdt274d4uBoEFzV19u0kX0yflVnAvLQjLctL+FNBJQZwrCWhpbbgZwl4wTkQgPehhjPqikjKxFBiZKME5CDBiKAsa8y4ECsDM8SBRRv+cZdMk5AHhqIvAsGREAjw6N4h8QbHFoyvjwg3lx9btx8vB8NjhzFIygRk/Gr9mgZaTx5OSfdW29WC4eUBxwYifEESdRkfMTI22cPgHjrzazg2D9HJta1eHbqM7156JJ840zWlp3ru9GAeOrNUg2t9L6RIZe3vM4KDmmLFqfwwuu/HgWIt96s1Ohzy41I4L156NJk/E7XLWR8qecIQAAHiF/56hVyefPQKV/GS+3C0ou8eA9UpDcgLePFUsWOKgdvIt9NrOvg7VzznC/jpbqw3JfrF8g9ASEc501vCUqLUKPUYKWcdb5xVx+LXOs3L9cLEMKhm5nMFIZXQY+bMjQsEzbfOz17oyccouFST3Lq5XoAQjh0OM7u2EOyh2W/+MvzNp8tkvEcTaLzgEdN0dFlTtgaEMKR06Tz3NsyGc/VkhxTvd/5RDocddlCS0AIR25Txr+/RzLeVUutAPE2itJVqYu+bMQ3nuaqbgEI4WjebO5eMCIZ76IEa0A8DjN2UeTCLxmdjDdVvSUgLacdWylBhlL3IxspoxxW75/tOZ6S8Sa6tQLEIxzYXAFb96Ss8NuPdNztodWkEQI+dLpk/KoNLADxNN9HoMDfmksOvad3+b8Wp0zGWwHiBQ7L6Rp7XeV8bKoBMkrZaZPxFoB4gKOXq/cYQvaGaupk3BoQD3D07s1W9ibTJ+OWgHiAY1RvVjoRrndvb/W+Xh7aqr7mz8lJ0r2sAvTQm63wvae3hzY3bosHpgJCOP6v7ZlDrlEe2sKmTZ+RAgjhuFY5dCN7Bps2zKCHLR9SHfWuAeJl/biHsOrOZmfwJvQaJy18BwjhyO/GI35gxEdVWcWYL/HkJa4A8bCWI6q7l7Cr5aE+FmY58zknFvp5ecYZIITDTL2/8hNPU1boMTLa9wgI4chQXsat0Kusjx4Bi9UctQyR57h1D4iHnOPXhl1zqPdUCsAiu5C0hCVnNvPE6q4TbQ/I6C/kK8BxbC2ZWn88iDQXHJm9nDq9v85qFiotgIz+Msyvtr8b3XFNyh6Y/bnuKXtnLWTO9qIKID/tH538RMKRrKrwN8pGdzjLHleupzxTADqJf3cb7aVuupekTAAyMvcgHEnNFPamUUPe+10qq862ByCjwivCEdbu1YrLqN1+sza1UKMb5LjuolWmAGREck44GlmDg8eO6nA10YuWCo8AhHBoTRn3d+8rL7PPjAQglgePaE0LN4eNgnnNp4EoGwZmQdLTgxCO+aAQiUYO9JRoNXnmcq8kPblCJdKyzHANeM077hSDI9bU70gApPX8q17n8Q23kkUrEM17SDMlRTTyobBVHkI45qcmoveQVlG9SMupJt5XAc5vun0k9D5yVRVm7ScrWnoRwtHHOD28ZeQ0pVr51QjnON0dHw1r58cQjtpmi1U+MiBqHnJcMFWzMVrUJbKxzNFXbaMm6MmJ+tWa9NzNB4o+4/tqa9amQAPRAVFnddztapKy8o0L/++tqjZclaer4/UFxm1RZGlA9gqUBTzS4CmH0lg0QJRnYJoF1jhAPy13M5G1DtA/Vg+arn0oUDYBKVDaSkVGD3HKVO5RHRYBWcnaM2T19nFs1AAJAckwmlVuHbF+JlW3vee8EZDUllnkPs9wSBP0hISALGL4KWJ6C6vu6tzrYy0BSbGcBe6JZghZi4Iq2i+aXo6iVn0HqdDbdEUjeQ9RvjrPyKCVCIiBEqM/IqoRqL2jQcNE1Y2IrupIO0DHQIfhH9F6QVlLBanrHSpfTkAqFThD8YjhVa8wi4DMYOGVMkQY2r0SUZ3OXakbAlKpwBmKWy4k660PAnKvceYgBhYZeUGQagCV+qEHqVTgDMUJyHUrEpAZLLxChugG0PpQouj6UT0sh3nv6YluAASEOUiFf9CLEpC5OxB6EJ2B2zsICAGpNKG5ixMQAjK3hVdKR0AISKUJzV2cgBCQuS28UjoCQkAqTWju4gSEgMxt4ZXSERACUmlCcxcnIARkbguvlI6AEJBKE5q7OAEhIHNbeKV0BISAVJrQ3MUJCAFpYuEwLPyzuPAc2f7/+Nfi+XfPICAExMTGsP3/m8Zb/+8rilmYsrN5y7MzCAgBKQZEDtgBHCMvgPLlAYx1PQgIASmyKY9b4WDT5m+7cKxIsEMhAkJAsuwIBiPnF2YV7HSz9VmJBISAZJluhD2iLCEhIAQkGRCPYdVV5a3OyCAgBCQJkIiGYrEvbUS59w3KTRvuzdtsTXok7yEqsfAiBIQeRPUgkY2k1otElh0NSw/SwYNE3v6/9igyAkIPonqQiOGVCFV7yhIBISAqIBGGdq+EqN3dnIAQEBWQyNv/q6MUivQEhIAQkBsNEBACogISefv/2lEcAkJACAg9iGoDVzdE70DUEDzl+AN6kGL7GV6w1oNqAhCQbdsIiGYmfn8nIB0+FBIQvwBoNSMgBORWA7UGEj2EqJVfAzC6fpiDPK8yxHys0iu6ARAQehB6kBsNEBACQkAISGmA8LIzDia0Xl4c5p37Qxg9CD0IPQg9CD1IqQZqe1Am6XN7WIZYHMWqGsXTOqboHQgBISAE5IZyAkJACAgBudYAc5C6D6UMsTQNcLLihhWVUa/aDkKTmzkIASEgN5QQEAJCQAjIvSPldHct0PD7O0Msfknnl3R+SS/uoTjMy2FeDvNymJfDvFcaYIjFEIshFkMshlilGqjtQaMPY9bKr+k9un6YgzAHYQ7CHIQ5CHMQzded/04PQg9CD0IPQg9CD0IPUqSB2iQ1ehJaK7+m9Oj6YYjFEIshFkMshlgMsTRfxyT9VAO1IUb0EKJWfs3souuHIRZDLIZYDLEYYjHE0nwdQyyGWCcaYIjFyYqcrMjJimXuY9u4N29tDxo9Ca2VX7O86Pphks4knUk6k3Qm6UzSNV/XMEnHvlBwpREvixAj8qYVaghR2agMsbbtZdubqIBYGMjq8t8xREAISOgO4mnbto+VXkIrHtnDqvpJOWHq67ZtHzQtOf3987ZtXyrr9tfzcODbymeMKm4hv1b3yB5W1U8KIIADkES80Huil6i5Pj0XhiIjXjh/D2Fmy2t5QNB7oheNeKV0AJpcq8uv6SdyhKHah3rDQzsRewmLESwxjtXlv4MkageSZB+pgEQMMyzCKzGMiPL3CK8idyBq/gHhUgHBvZF60aTeQYsdDr+vLv+duqLlqcn2kQMIlICeNMI3kRa9ZxQvgsaH92ydnB+BidSBJNtHDiBQSAQjSRY+04NQfl1hESBJCq1E1FxAxEjgTTx6kpZw7PORleW/wwQ2gRFPj7aBemfBkZuD7BWDkQsM73lRBMIJfBDsFVZ4lB9hFcIrD5e3od/isLPEgxxBkbxkBCz4CPitIxhH4wMokH/Ul/bR8mvDv+8fuhlhG6gbOkzYR/HH4lpAjrC8eXgVUYiVYtADSO/44yG4l95SdABIVpZfgwW6kY6khX0IEPhrZiP/AeTpzMr3b5RqAAAAAElFTkSuQmCC"},c69e:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("6374")),i=n(a("448a")),r=n(a("ded3"));a("99af"),a("7db0"),a("14d9"),a("fb6a"),a("b0c0"),a("d3b7"),a("ac1f"),a("5319"),a("9911"),a("0643"),a("fffc"),a("4e3e"),a("9a9a"),a("159b");var o=n(a("b3d7")),l=n(a("df7c"));t.default={components:{ScrollPane:o.default},data:function(){return{visible:!1,top:0,left:0,selectedTag:{},affixTags:[]}},computed:{visitedViews:function(){return this.$store.state.tagsView.visitedViews},routes:function(){return this.$store.state.permission.routes},theme:function(){return this.$store.state.settings.theme}},watch:{$route:function(){this.addTags(),this.moveToCurrentTag()},visible:function(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){this.initTags(),this.addTags()},methods:{isActive:function(e){return e.path===this.$route.path},activeStyle:function(e){return this.isActive(e)?{"background-color":this.theme,"border-color":this.theme}:{}},isAffix:function(e){return e.meta&&e.meta.affix},isFirstView:function(){try{return"/index"===this.selectedTag.fullPath||this.selectedTag.fullPath===this.visitedViews[1].fullPath}catch(e){return!1}},isLastView:function(){try{return this.selectedTag.fullPath===this.visitedViews[this.visitedViews.length-1].fullPath}catch(e){return!1}},filterAffixTags:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=[];return e.forEach((function(e){if(e.meta&&e.meta.affix){var s=l.default.resolve(a,e.path);n.push({fullPath:s,path:s,name:e.name,meta:(0,r.default)({},e.meta)})}if(e.children){var o=t.filterAffixTags(e.children,e.path);o.length>=1&&(n=[].concat((0,i.default)(n),(0,i.default)(o)))}})),n},initTags:function(){var e,t=this.affixTags=this.filterAffixTags(this.routes),a=(0,s.default)(t);try{for(a.s();!(e=a.n()).done;){var n=e.value;n.name&&this.$store.dispatch("tagsView/addVisitedView",n)}}catch(i){a.e(i)}finally{a.f()}},addTags:function(){var e=this.$route.name;return e&&(this.$store.dispatch("tagsView/addView",this.$route),this.$route.meta.link&&this.$store.dispatch("tagsView/addIframeView",this.$route)),!1},moveToCurrentTag:function(){var e=this,t=this.$refs.tag;this.$nextTick((function(){var a,n=(0,s.default)(t);try{for(n.s();!(a=n.n()).done;){var i=a.value;if(i.to.path===e.$route.path){e.$refs.scrollPane.moveToTarget(i),i.to.fullPath!==e.$route.fullPath&&e.$store.dispatch("tagsView/updateVisitedView",e.$route);break}}}catch(r){n.e(r)}finally{n.f()}}))},refreshSelectedTag:function(e){this.$tab.refreshPage(e),this.$route.meta.link&&this.$store.dispatch("tagsView/delIframeView",this.$route)},closeSelectedTag:function(e){var t=this;this.$tab.closePage(e).then((function(a){var n=a.visitedViews;t.isActive(e)&&t.toLastView(n,e)}))},closeRightTags:function(){var e=this;this.$tab.closeRightPage(this.selectedTag).then((function(t){t.find((function(t){return t.fullPath===e.$route.fullPath}))||e.toLastView(t)}))},closeLeftTags:function(){var e=this;this.$tab.closeLeftPage(this.selectedTag).then((function(t){t.find((function(t){return t.fullPath===e.$route.fullPath}))||e.toLastView(t)}))},closeOthersTags:function(){var e=this;this.$router.push(this.selectedTag.fullPath).catch((function(){})),this.$tab.closeOtherPage(this.selectedTag).then((function(){e.moveToCurrentTag()}))},closeAllTags:function(e){var t=this;this.$tab.closeAllPage().then((function(a){var n=a.visitedViews;t.affixTags.some((function(e){return e.path===t.$route.path}))||t.toLastView(n,e)}))},toLastView:function(e,t){var a=e.slice(-1)[0];a?this.$router.push(a.fullPath):"Dashboard"===t.name?this.$router.replace({path:"/redirect"+t.fullPath}):this.$router.push("/")},openMenu:function(e,t){var a=105,n=this.$el.getBoundingClientRect().left,s=this.$el.offsetWidth,i=s-a,r=t.clientX-n+15;this.left=r>i?i:r,this.top=t.clientY,this.visible=!0,this.selectedTag=e},closeMenu:function(){this.visible=!1},handleScroll:function(){this.closeMenu()}}}},c7d2:function(e,t,a){},c87f:function(e,t,a){"use strict";a.r(t);var n=a("3873"),s=a("7b3c");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("2dc1");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"45665120",null);t["default"]=o.exports},c8ed:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("94dc"));t.default={name:"YourView",components:{HolisticDetection:s.default}}},c95c:function(e,t,a){"use strict";a("806c")},c982:function(e,t,a){"use strict";a.r(t);var n=a("aa89"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},c9dd:function(e,t,a){"use strict";a.r(t);var n=a("c69e"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},cad7:function(e,t,a){"use strict";a.r(t);var n=a("0847"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},caf7:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-email",use:"icon-email-usage",viewBox:"0 0 128 96",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 96" id="icon-email"><path d="M64.125 56.975L120.188.912A12.476 12.476 0 0 0 115.5 0h-103c-1.588 0-3.113.3-4.513.838l56.138 56.137z" /><path d="M64.125 68.287l-62.3-62.3A12.42 12.42 0 0 0 0 12.5v71C0 90.4 5.6 96 12.5 96h103c6.9 0 12.5-5.6 12.5-12.5v-71a12.47 12.47 0 0 0-1.737-6.35L64.125 68.287z" /></symbol>'});r.a.add(o);t["default"]=o},cbed:function(e,t,a){"use strict";a.r(t);var n=a("eee0"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},cc43:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.checkHasMachineEvaluation=o,t.extractMachineEvaluation=d,t.fetchAllGrades=f,t.getPaperGrade=c,t.getSubmissionInfoById=u,t.getVideoGrade=l;var s=n(a("7ec2")),i=n(a("c973"));a("d9e2"),a("7db0"),a("caad"),a("14d9"),a("b64b"),a("d3b7"),a("07ac"),a("2532"),a("3ca3"),a("0643"),a("fffc"),a("4e3e"),a("9a9a"),a("159b"),a("ddb0");var r=n(a("b775"));function o(e){return!(!e||!e.evaluationMethods)&&e.evaluationMethods.includes("机评")}function l(e,t){return(0,r.default)({url:"/task/getVideoGradeMachine",method:"get",params:{stuId:e,taskId:t},timeout:6e4})}function c(e,t,a){return(0,r.default)({url:"/task/getPaperGrade",method:"get",params:{stuId:e,taskId:t,reviewType:a},timeout:6e4})}function u(e){return(0,r.default)({url:"/task/getSubmissionInfoById",method:"get",params:{submissionId:e}})}function d(e){var t;if(null===e||void 0===e||null===(t=e.data)||void 0===t||!t.evaluationTypes)return null;var a=e.data.evaluationTypes.find((function(e){return"机评"===e.evaluationMethod}));if(!a)return null;var n={};return a.evaluationContents.forEach((function(e){n[e.evaluationContent]={finished:e.finished,grade:e.grade,evaluationTitle:e.evaluationTitle,evaluationDimensions:e.evaluationDimensions}})),n}function f(e,t,a){return p.apply(this,arguments)}function p(){return p=(0,i.default)((0,s.default)().mark((function e(t,a,n){var i,r;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o(n)){e.next=3;break}return console.log("该任务不包含机评环节，跳过获取机评分数"),e.abrupt("return",null);case 3:if(null!==n&&void 0!==n&&n.submissionTypes){e.next=6;break}return console.log("未找到作业提交要求，跳过获取评分"),e.abrupt("return",null);case 6:return i={},r=[],n.submissionTypes.forEach((function(e){switch(e){case"视频":r.push(l(t,a).then((function(e){if(1===e.code){var t=d(e);t&&(Object.assign(i,t),console.log("视频评分获取成功:",t))}else console.error("获取视频评分失败:",e.msg)})).catch((function(e){return console.error("获取视频评分出错:",e)})));break;case"音频":r.push(c(t,a,"音频").then((function(e){if(1===e.code){var t=d(e);t&&(Object.assign(i,t),console.log("音频评分获取成功:",t))}else console.error("获取音频评分失败:",e.msg)})).catch((function(e){return console.error("获取音频评分出错:",e)})));break;case"演讲稿":r.push(c(t,a,"演讲稿").then((function(e){if(1===e.code){var t=d(e);t&&(Object.assign(i,t),console.log("演讲稿评分获取成功:",t))}else console.error("获取演讲稿评分失败:",e.msg)})).catch((function(e){return console.error("获取演讲稿评分出错:",e)})));break;case"PPT":r.push(c(t,a,"PPT").then((function(e){if(1===e.code){var t=d(e);t&&(Object.assign(i,t),console.log("PPT评分获取成功:",t))}else console.error("获取PPT评分失败:",e.msg)})).catch((function(e){return console.error("获取PPT评分出错:",e)})));break;default:console.log("未知的提交类型: ".concat(e))}})),e.next=11,Promise.all(r);case 11:return console.log("所有评分获取完成:",i),e.abrupt("return",Object.keys(i).length>0?i:null);case 13:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}},cc6c:function(e,t,a){e.exports=a.p+"static/img/401.089007e7.gif"},cd4a:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AppMain",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Navbar",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Settings",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Sidebar",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"TagsView",{enumerable:!0,get:function(){return l.default}});var s=n(a("1a4e")),i=n(a("850b")),r=n(a("3160")),o=n(a("a04e")),l=n(a("baad"))},cd51:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"homework-evaluation"},[a("el-row",{staticClass:"header-row"},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"header"},[a("span",{staticClass:"info-text"},[e._v("题目："+e._s(e.homeworkTitle))]),a("span",{staticClass:"info-text"},[e._v("姓名："+e._s(e.submitter))]),a("span",{staticClass:"info-text"},[e._v("评价流程："+e._s(e.currentProcess))]),a("span",{staticClass:"info-text"},[e._v("评分人："+e._s(e.reviewer))])])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"submit-all-wrapper"},[a("el-button",{attrs:{type:"primary",loading:e.submitting,disabled:e.submitting},on:{click:e.handleSubmitAll}},[e._v(" "+e._s(e.submitting?"提交中...":"提交所有评分")+" ")])],1)])],1),a("el-tabs",{staticClass:"tabs-container",attrs:{type:"card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.submissionTypes,(function(t){return a("el-tab-pane",{key:t,attrs:{name:t,label:t}},["视频"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"first-row"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.video,expression:"loading.video"}],staticClass:"video-section"},[a("video",{ref:"videoElement",refInFor:!0,staticClass:"video-player",attrs:{controls:"",src:e.fileUrls.video},on:{error:function(t){return e.handleFileError("video")}}})]),a("div",{staticClass:"dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.video||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},[a("p",{staticClass:"dimension-title"},[a("b",[e._v(e._s(t.evaluationTitle))])]),e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",[e._v(e._s(t))]),a("el-rate",{attrs:{max:5},model:{value:e.ratings.video[n][s],callback:function(t){e.$set(e.ratings.video[n],s,t)},expression:"ratings.video[index][infoIndex]"}})],1)}))],2)})),0)])],1)]),a("div",{staticClass:"second-row"},[a("div",{staticClass:"radar-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-data-analysis"}),a("span",[e._v("评价雷达图")])]),a("el-card",{staticClass:"radar-chart"},[a("div",{ref:"radarContainer-"+t,refInFor:!0,staticClass:"radar-container"})])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4"},model:{value:e.comments.video,callback:function(t){e.$set(e.comments,"video",t)},expression:"comments.video"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("视频总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("video"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleNextTab}},[e._v("确定下一个评价对象")])],1)],1)],1)])]):"音频"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"first-row"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.audio,expression:"loading.audio"}],staticClass:"audio-section"},[a("div",{staticClass:"audio-player-container"},[a("div",{staticClass:"audio-bg"},[a("div",{staticClass:"music-icon",class:{"is-playing":e.isPlaying}},[a("i",{staticClass:"el-icon-headset"})]),a("div",{staticClass:"music-notes"},[a("i",{staticClass:"el-icon-music"}),a("i",{staticClass:"el-icon-bell"}),a("i",{staticClass:"el-icon-mic"})])]),a("audio",{directives:[{name:"show",rawName:"v-show",value:!e.loading.audio,expression:"!loading.audio"}],ref:"audioElement",refInFor:!0,staticClass:"audio-player",attrs:{controls:"",src:e.fileUrls.audio},on:{play:e.handlePlay,pause:e.handlePause,ended:e.handlePause,error:function(t){return e.handleFileError("audio")}}})])]),a("div",{staticClass:"dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.audio||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},[a("p",{staticClass:"dimension-title"},[a("b",[e._v(e._s(t.evaluationTitle))])]),e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",[e._v(e._s(t))]),a("el-rate",{attrs:{max:5},model:{value:e.ratings.audio[n][s],callback:function(t){e.$set(e.ratings.audio[n],s,t)},expression:"ratings.audio[index][infoIndex]"}})],1)}))],2)})),0)])],1)]),a("div",{staticClass:"second-row"},[a("div",{staticClass:"radar-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-data-analysis"}),a("span",[e._v("评价雷达图")])]),a("el-card",{staticClass:"radar-chart"},[a("div",{ref:"radarContainer-"+t,refInFor:!0,staticClass:"radar-container"})])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4"},model:{value:e.comments.audio,callback:function(t){e.$set(e.comments,"audio",t)},expression:"comments.audio"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("音频总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("audio"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleNextTab}},[e._v("确定下一个评价对象")])],1)],1)],1)])]):"PPT"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"left-section"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.ppt,expression:"loading.ppt"}],staticClass:"ppt-document-section"},[e.pdfData?a("pdf-viewer",{staticClass:"pdf-viewer",attrs:{"pdf-data":e.pdfData}}):e._e()],1)]),a("div",{staticClass:"right-section"},[a("div",{staticClass:"ppt-dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.ppt||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},[a("p",{staticClass:"dimension-title"},[a("b",[e._v(e._s(t.evaluationTitle))])]),e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",[e._v(e._s(t))]),a("el-rate",{attrs:{max:5},model:{value:e.ratings.ppt[n][s],callback:function(t){e.$set(e.ratings.ppt[n],s,t)},expression:"ratings.ppt[index][infoIndex]"}})],1)}))],2)})),0)])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4"},model:{value:e.comments.ppt,callback:function(t){e.$set(e.comments,"ppt",t)},expression:"comments.ppt"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("PPT总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("ppt"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleNextTab}},[e._v("确定下一个评价对象")])],1)],1)],1)])])]):"演讲稿"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"left-section"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.word||e.convertLoading,expression:"loading.word || convertLoading"}],staticClass:"word-document-section",attrs:{"element-loading-text":"正在转换文档..."}},[e.wordContent?a("div",{staticClass:"word-content"},[a("div",{domProps:{innerHTML:e._s(e.wordContent)}})]):e.loading.word||e.convertLoading?e._e():a("div",{staticClass:"preview-placeholder"},[a("i",{staticClass:"el-icon-document"}),a("p",[e._v("Word 文档加载失败")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.loadFiles}},[e._v(" 重试 ")])],1)])]),a("div",{staticClass:"right-section"},[a("div",{staticClass:"word-dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.word||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},[a("p",{staticClass:"dimension-title"},[a("b",[e._v(e._s(t.evaluationTitle))])]),e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",[e._v(e._s(t))]),a("el-rate",{attrs:{max:5},model:{value:e.ratings.word[n][s],callback:function(t){e.$set(e.ratings.word[n],s,t)},expression:"ratings.word[index][infoIndex]"}})],1)}))],2)})),0)])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4"},model:{value:e.comments.word,callback:function(t){e.$set(e.comments,"word",t)},expression:"comments.word"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("演讲稿总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("word"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleNextTab}},[e._v("确定下一个评价对象")])],1)],1)],1)])])]):e._e()])})),1)],1)},s=[]},cda1:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-github",use:"icon-github-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-github"><defs><style type="text/css"></style></defs><path d="M511.542857 14.057143C228.914286 13.942857 0 242.742857 0 525.142857 0 748.457143 143.2 938.285714 342.628571 1008c26.857143 6.742857 22.742857-12.342857 22.742858-25.371429v-88.571428c-155.085714 18.171429-161.371429-84.457143-171.771429-101.6C172.571429 756.571429 122.857143 747.428571 137.714286 730.285714c35.314286-18.171429 71.314286 4.571429 113.028571 66.171429 30.171429 44.685714 89.028571 37.142857 118.857143 29.714286 6.514286-26.857143 20.457143-50.857143 39.657143-69.485715-160.685714-28.8-227.657143-126.857143-227.657143-243.428571 0-56.571429 18.628571-108.571429 55.2-150.514286-23.314286-69.142857 2.171429-128.342857 5.6-137.142857 66.4-5.942857 135.428571 47.542857 140.8 51.771429 37.714286-10.171429 80.8-15.542857 129.028571-15.542858 48.457143 0 91.657143 5.6 129.714286 15.885715 12.914286-9.828571 76.914286-55.771429 138.628572-50.171429 3.314286 8.8 28.228571 66.628571 6.285714 134.857143 37.028571 42.057143 55.885714 94.514286 55.885714 151.2 0 116.8-67.428571 214.971429-228.571428 243.314286a145.714286 145.714286 0 0 1 43.542857 104v128.571428c0.914286 10.285714 0 20.457143 17.142857 20.457143 202.4-68.228571 348.114286-259.428571 348.114286-484.685714 0-282.514286-229.028571-511.2-511.428572-511.2z" p-id="4188" /></symbol>'});r.a.add(o);t["default"]=o},cdef:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"teacher-evaluation"},[a("h2",{staticClass:"evaluation-title"},[e._v("教师评阅分配")]),a("el-card",{staticClass:"status-card",attrs:{"body-style":{padding:"15px"}}},[a("div",{staticClass:"status-overview"},[a("div",{staticClass:"status-item"},[a("span",{staticClass:"label"},[e._v("当前已分配教师：")]),a("span",{staticClass:"value",class:{"text-danger":0===e.assignedTeachers.length,"text-success":e.assignedTeachers.length>0}},[e._v(e._s(e.assignedTeachers.length)+" 人")])])])]),a("el-card",{staticClass:"selection-card"},[a("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("选择评阅教师")]),a("el-button",{attrs:{type:"text",disabled:!e.form.selectedTeachers.length},on:{click:e.clearSelection}},[e._v(" 清空选择 ")])],1),a("div",{staticClass:"search-area"},[a("el-input",{staticClass:"search-input",attrs:{placeholder:"搜索教师姓名/邮箱","prefix-icon":"el-icon-search",clearable:""},on:{input:e.handleSearch},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.teachers,expression:"loading.teachers"}],ref:"teacherTable",staticClass:"teacher-table",attrs:{data:e.filteredTeachers},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"nickName",label:"教师姓名","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{content:t.row.userName,placement:"top"}},[a("span",[e._v(e._s(t.row.nickName))])])]}}])}),a("el-table-column",{attrs:{prop:"userName",label:"邮箱","min-width":"200","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"状态",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e.isTeacherAssigned(t.row.userId)?"success":"info",size:"small"}},[e._v(" "+e._s(e.isTeacherAssigned(t.row.userId)?"已分配":"待分配")+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",disabled:e.isTeacherAssigned(t.row.userId),loading:e.loading.single===t.row.userId},on:{click:function(a){return e.handleSingleAssign(t.row)}}},[e._v(" "+e._s(e.isTeacherAssigned(t.row.userId)?"已分配":"分配")+" ")]),e.isTeacherAssigned(t.row.userId)?a("el-tooltip",{attrs:{content:"该教师已分配，无需重复分配",placement:"top"}},[a("i",{staticClass:"el-icon-info",staticStyle:{"margin-left":"5px",color:"#909399"}})]):e._e()]}}])})],1),a("div",{staticClass:"action-area"},[a("el-button",{attrs:{type:"primary",disabled:!e.form.selectedTeachers.length,loading:e.loading.submit},on:{click:e.submitTeacherEvaluation}},[e._v(" 批量分配所选教师 ")])],1)],1),a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.table,expression:"loading.table"}],staticClass:"assigned-card"},[a("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("已分配教师列表")]),a("el-button",{attrs:{type:"text",icon:"el-icon-refresh",loading:e.loading.table},on:{click:e.fetchAssignedTeachers}},[e._v(" 刷新 ")])],1),e.assignedTeachers.length?a("el-table",{staticClass:"assigned-teachers-table",attrs:{data:e.assignedTeachers}},[a("el-table-column",{attrs:{prop:"nickName",label:"教师姓名","min-width":"120"}}),a("el-table-column",{attrs:{prop:"userName",label:"邮箱","min-width":"200","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作",width:"100",align:"center"}})],1):a("el-empty",{attrs:{description:"暂无已分配教师"}})],1)],1)},s=[]},ce5a:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"选择用户",visible:e.visible,width:"800px",top:"5vh","append-to-body":""},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0}},[a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{attrs:{placeholder:"请输入手机号码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phonenumber,callback:function(t){e.$set(e.queryParams,"phonenumber",t)},expression:"queryParams.phonenumber"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),a("el-row",[a("el-table",{ref:"table",attrs:{data:e.userList,height:"260px"},on:{"row-click":e.clickRow,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"用户名称",prop:"userName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"用户昵称",prop:"nickName","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"邮箱",prop:"email","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"手机",prop:"phonenumber","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_normal_disable,value:t.row.status}})]}}])}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSelectUser}},[e._v("确 定")]),a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")])],1)],1)},s=[]},ce7f:function(e,t,a){"use strict";a.r(t);var n=a("042e"),s=a("9815");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("2bf7");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"11c43d64",null);t["default"]=o.exports},cfb0:function(e,t,a){"use strict";a.r(t);var n=a("29da"),s=a("58ad");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("bbae");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"83f73de0",null);t["default"]=o.exports},d01d:function(e,t,a){"use strict";a.r(t);var n=a("af0d"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},d0c2:function(e,t,a){},d0f3:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("b64b");var s,i=n(a("7ec2")),r=n(a("c973")),o=n(a("bc3a")),l=a("5c96"),c=a("21a6"),u=a("5f87"),d=n(a("81ae")),f=a("c38a"),p="/api";t.default={name:function(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=p+"/common/download?fileName="+encodeURIComponent(e)+"&delete="+a;(0,o.default)({method:"get",url:n,responseType:"blob",headers:{Authorization:"Bearer "+(0,u.getToken)()}}).then((function(e){var a=(0,f.blobValidate)(e.data);if(a){var n=new Blob([e.data]);t.saveAs(n,decodeURIComponent(e.headers["download-filename"]))}else t.printErrMsg(e.data)}))},resource:function(e){var t=this,a=p+"/common/download/resource?resource="+encodeURIComponent(e);(0,o.default)({method:"get",url:a,responseType:"blob",headers:{Authorization:"Bearer "+(0,u.getToken)()}}).then((function(e){var a=(0,f.blobValidate)(e.data);if(a){var n=new Blob([e.data]);t.saveAs(n,decodeURIComponent(e.headers["download-filename"]))}else t.printErrMsg(e.data)}))},zip:function(e,t){var a=this;e=p+e;s=l.Loading.service({text:"正在下载数据，请稍候",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),(0,o.default)({method:"get",url:e,responseType:"blob",headers:{Authorization:"Bearer "+(0,u.getToken)()}}).then((function(e){var n=(0,f.blobValidate)(e.data);if(n){var i=new Blob([e.data],{type:"application/zip"});a.saveAs(i,t)}else a.printErrMsg(e.data);s.close()})).catch((function(e){console.error(e),l.Message.error("下载文件出现错误，请联系管理员！"),s.close()}))},saveAs:function(e,t,a){(0,c.saveAs)(e,t,a)},printErrMsg:function(e){return(0,r.default)((0,i.default)().mark((function t(){var a,n,s;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.text();case 2:a=t.sent,n=JSON.parse(a),s=d.default[n.code]||n.msg||d.default["default"],l.Message.error(s);case 6:case"end":return t.stop()}}),t)})))()}}},d27a:function(e,t,a){"use strict";a("2c99")},d29e:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={bind:function(e){var t=e.querySelector(".el-dialog"),a=document.createElement("div");a.style="width: 5px; background: inherit; height: 80%; position: absolute; right: 0; top: 0; bottom: 0; margin: auto; z-index: 1; cursor: w-resize;",a.addEventListener("mousedown",(function(a){var n=a.clientX-e.offsetLeft,s=t.offsetWidth;document.onmousemove=function(e){e.preventDefault();var a=e.clientX-n;t.style.width="".concat(s+a,"px")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}),!1),t.appendChild(a)}}},d32b:function(e,t,a){"use strict";a.r(t);var n=a("e89b"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},d331:function(e,t,a){"use strict";a.r(t);var n=a("623f"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},d359:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"class-management"},[a("h2",[e._v("班级管理")]),a("el-card",{staticClass:"box-card",attrs:{shadow:"always"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("创建新班级")])]),a("el-form",{staticClass:"class-form",attrs:{model:e.newClass,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"班级名称"}},[a("el-input",{attrs:{placeholder:"请输入班级名称"},model:{value:e.newClass.className,callback:function(t){e.$set(e.newClass,"className",t)},expression:"newClass.className"}})],1),a("el-form-item",{attrs:{label:"班级介绍"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入班级介绍"},model:{value:e.newClass.classIntroduction,callback:function(t){e.$set(e.newClass,"classIntroduction",t)},expression:"newClass.classIntroduction"}})],1),a("el-form-item",{attrs:{label:"班级目标"}},[a("el-input",{attrs:{placeholder:"请输入班级目标"},model:{value:e.newClass.classTarget,callback:function(t){e.$set(e.newClass,"classTarget",t)},expression:"newClass.classTarget"}})],1),a("el-form-item",{attrs:{label:"学期"}},[a("el-select",{attrs:{placeholder:"请选择学期"},model:{value:e.newClass.term,callback:function(t){e.$set(e.newClass,"term",t)},expression:"newClass.term"}},[a("el-option",{attrs:{label:"春季学期",value:"春季学期"}}),a("el-option",{attrs:{label:"秋季学期",value:"秋季学期"}})],1)],1),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择开始时间"},model:{value:e.newClass.startTime,callback:function(t){e.$set(e.newClass,"startTime",t)},expression:"newClass.startTime"}})],1),a("el-form-item",{attrs:{label:"截止日期"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择截止日期"},model:{value:e.newClass.deadline,callback:function(t){e.$set(e.newClass,"deadline",t)},expression:"newClass.deadline"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.createClass}},[e._v("创建班级")])],1)],1)],1),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px"},attrs:{shadow:"always"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("已创建班级")])]),e.classes.length>0?a("el-table",{staticClass:"class-table",attrs:{data:e.classes}},[a("el-table-column",{attrs:{prop:"className",label:"班级名称",align:"center"}}),a("el-table-column",{attrs:{prop:"term",label:"学期",align:"center"}}),a("el-table-column",{attrs:{prop:"startTime",label:"开始时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatDate(t.row.startTime))+" ")]}}],null,!1,224171038)}),a("el-table-column",{attrs:{prop:"deadline",label:"截止日期",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatDate(t.row.deadline))+" ")]}}],null,!1,2989910113)}),a("el-table-column",{attrs:{prop:"enable",label:"开课状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.enable?"success":"info"}},[e._v(" "+e._s(t.row.enable?"开课":"已结课")+" ")])]}}],null,!1,3090851940)}),a("el-table-column",{attrs:{label:"查看学生",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.viewMembers(t.row.classId)}}},[e._v("查看学生")])]}}],null,!1,2572284824)}),a("el-table-column",{attrs:{label:"查看申请",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.viewApplications(t.row.classId)}}},[e._v(" 查看申请 "),e.unprocessedApplicationsCount(t.row.classId)>0?a("span",{staticClass:"unprocessed-count"},[e._v(" ("+e._s(e.unprocessedApplicationsCount(t.row.classId))+") ")]):e._e()])]}}],null,!1,2198770644)}),a("el-table-column",{attrs:{label:"删除",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.deleteClass(t.row.classId)}}},[e._v("删除")])]}}],null,!1,1319241637)})],1):a("div",[e._v("暂无班级信息")])],1),a("el-dialog",{attrs:{title:"学生信息",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{inline:""}},[a("el-form-item",{attrs:{label:"学号"}},[a("el-input",{attrs:{placeholder:"输入学号",clearable:""},model:{value:e.filters.stuIndex,callback:function(t){e.$set(e.filters,"stuIndex",t)},expression:"filters.stuIndex"}})],1),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"输入姓名",clearable:""},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{attrs:{placeholder:"输入邮箱",clearable:""},model:{value:e.filters.mail,callback:function(t){e.$set(e.filters,"mail",t)},expression:"filters.mail"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.fetchMembers}},[e._v("查询")]),a("el-button",{on:{click:e.resetFilters}},[e._v("重置")])],1)],1),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.members}},[a("el-table-column",{attrs:{prop:"studentId",label:"学号",align:"center"}}),a("el-table-column",{attrs:{prop:"nickName",label:"姓名",align:"center"}}),a("el-table-column",{attrs:{prop:"userName",label:"邮箱",align:"center"}}),a("el-table-column",{attrs:{prop:"mobile",label:"手机号",align:"center"}}),a("el-table-column",{attrs:{prop:"school",label:"学校",align:"center"}}),a("el-table-column",{attrs:{prop:"major",label:"专业",align:"center"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeMembersDialog}},[e._v("关闭")])],1)],1)],1)},s=[]},d3e5:function(e,t,a){"use strict";a.r(t);var n=a("6951"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},d3f7:function(e,t,a){"use strict";a("7810")},d444:function(e,t,a){},d47f:function(e,t,a){"use strict";a.r(t);var n=a("0994"),s=a("89f8");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("7686");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"3da3410a",null);t["default"]=o.exports},d4ce:function(e,t,a){"use strict";a("1d6d")},d4e3:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"document-editor"},[a("Editor",{ref:"editor",on:{"file-upload":e.handleFileUpload,download:e.downloadDoc,evaluate:e.handleEvaluate,polish:e.handlePolish,"selection-action":e.handleSelectionAction},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)])},s=[]},d518:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"user-info-head",on:{click:function(t){return e.editCropper()}}},[a("img",{staticClass:"img-circle img-lg",attrs:{src:e.options.img,title:"点击上传头像"}})]),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":""},on:{"update:visible":function(t){e.open=t},opened:e.modalOpened,close:e.closeDialog}},[a("el-row",[a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[e.visible?a("vue-cropper",{ref:"cropper",attrs:{img:e.options.img,info:!0,autoCrop:e.options.autoCrop,autoCropWidth:e.options.autoCropWidth,autoCropHeight:e.options.autoCropHeight,fixedBox:e.options.fixedBox,outputType:e.options.outputType},on:{realTime:e.realTime}}):e._e()],1),a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("div",{staticClass:"avatar-upload-preview"},[a("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])],1),a("br"),a("el-row",[a("el-col",{attrs:{lg:2,sm:3,xs:3}},[a("el-upload",{attrs:{action:"#","http-request":e.requestUpload,"show-file-list":!1,"before-upload":e.beforeUpload}},[a("el-button",{attrs:{size:"small"}},[e._v(" 选择 "),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),a("el-col",{attrs:{lg:{span:1,offset:2},sm:2,xs:2}},[a("el-button",{attrs:{icon:"el-icon-plus",size:"small"},on:{click:function(t){return e.changeScale(1)}}})],1),a("el-col",{attrs:{lg:{span:1,offset:1},sm:2,xs:2}},[a("el-button",{attrs:{icon:"el-icon-minus",size:"small"},on:{click:function(t){return e.changeScale(-1)}}})],1),a("el-col",{attrs:{lg:{span:1,offset:1},sm:2,xs:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-left",size:"small"},on:{click:function(t){return e.rotateLeft()}}})],1),a("el-col",{attrs:{lg:{span:1,offset:1},sm:2,xs:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-right",size:"small"},on:{click:function(t){return e.rotateRight()}}})],1),a("el-col",{attrs:{lg:{span:2,offset:6},sm:2,xs:2}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.uploadImg()}}},[e._v("提 交")])],1)],1)],1)],1)},s=[]},d6d6f:function(e,t,a){"use strict";a.r(t);var n=a("a49f"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},d6f2:function(e,t,a){"use strict";a.r(t);var n=a("bce6"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},d703:function(e,t,a){},d749:function(e,t,a){"use strict";a("15cd")},d74f:function(e,t,a){"use strict";a("11cc")},d7a0:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-code",use:"icon-code-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-code"><defs><style type="text/css"></style></defs><path d="M318.577778 819.2L17.066667 512l301.511111-307.2 45.511111 45.511111L96.711111 512l267.377778 261.688889zM705.422222 819.2l-45.511111-45.511111L927.288889 512l-267.377778-261.688889 45.511111-45.511111L1006.933333 512zM540.785778 221.866667l55.751111 11.150222L483.157333 802.133333l-55.751111-11.093333z" p-id="2423" /></symbol>'});r.a.add(o);t["default"]=o},d7fe:function(e,t,a){"use strict";a("7953")},d88a:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-user",use:"icon-user-usage",viewBox:"0 0 130 130",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 130 130" id="icon-user"><path d="M63.444 64.996c20.633 0 37.359-14.308 37.359-31.953 0-17.649-16.726-31.952-37.359-31.952-20.631 0-37.36 14.303-37.358 31.952 0 17.645 16.727 31.953 37.359 31.953zM80.57 75.65H49.434c-26.652 0-48.26 18.477-48.26 41.27v2.664c0 9.316 21.608 9.325 48.26 9.325H80.57c26.649 0 48.256-.344 48.256-9.325v-2.663c0-22.794-21.605-41.271-48.256-41.271z" stroke="#979797" /></symbol>'});r.a.add(o);t["default"]=o},d8d8:function(e,t,a){"use strict";a.r(t);var n=a("3b46"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},d9cd:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("852e")),i={sidebar:{opened:!!s.default.get("sidebarStatus")&&!!+s.default.get("sidebarStatus"),withoutAnimation:!1,hide:!1},device:"desktop",size:s.default.get("size")||"small"},r={TOGGLE_SIDEBAR:function(e){if(e.sidebar.hide)return!1;e.sidebar.opened=!e.sidebar.opened,e.sidebar.withoutAnimation=!1,e.sidebar.opened?s.default.set("sidebarStatus",1):s.default.set("sidebarStatus",0)},CLOSE_SIDEBAR:function(e,t){s.default.set("sidebarStatus",0),e.sidebar.opened=!1,e.sidebar.withoutAnimation=t},TOGGLE_DEVICE:function(e,t){e.device=t},SET_SIZE:function(e,t){e.size=t,s.default.set("size",t)},SET_SIDEBAR_HIDE:function(e,t){e.sidebar.hide=t}},o={toggleSideBar:function(e){var t=e.commit;t("TOGGLE_SIDEBAR")},closeSideBar:function(e,t){var a=e.commit,n=t.withoutAnimation;a("CLOSE_SIDEBAR",n)},toggleDevice:function(e,t){var a=e.commit;a("TOGGLE_DEVICE",t)},setSize:function(e,t){var a=e.commit;a("SET_SIZE",t)},toggleSideBarHide:function(e,t){var a=e.commit;a("SET_SIDEBAR_HIDE",t)}};t.default={namespaced:!0,state:i,mutations:r,actions:o}},da75:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-dict",use:"icon-dict-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-dict"><defs><style type="text/css"></style></defs><path d="M1002.0848 744.672l-33.568 10.368c0.96 7.264 2.144 14.304 2.144 21.76 0 7.328-1.184 14.432-2.368 21.568l33.792 10.56c7.936 2.24 14.496 7.616 18.336 14.752 3.84 7.328 4.672 15.808 1.952 23.552-5.376 16-23.168 24.672-39.936 19.68l-34.176-10.624c-7.136 12.8-15.776 24.672-26.208 35.2l20.8 27.488a28.96 28.96 0 0 1 5.824 22.816 29.696 29.696 0 0 1-12.704 19.616 32.544 32.544 0 0 1-44.416-6.752l-20.8-27.552c-13.696 6.56-28.192 11.2-43.008 13.888v33.632c0 16.736-14.112 30.432-31.648 30.432-17.6 0-31.872-13.696-31.872-30.432v-33.632a167.616 167.616 0 0 1-42.88-13.888l-20.928 27.552c-10.72 13.76-30.08 16.64-44.288 6.752a29.632 29.632 0 0 1-12.704-19.616 29.28 29.28 0 0 1 5.696-22.816l20.896-27.808a166.72 166.72 0 0 1-27.008-34.688l-33.376 10.432c-16.8 5.184-34.56-3.552-39.936-19.616a29.824 29.824 0 0 1 20.224-38.24l33.472-10.432c-0.8-7.264-2.016-14.304-2.016-21.824 0-7.36 1.184-14.496 2.304-21.632l-33.792-10.368c-16.672-5.376-25.632-22.496-20.224-38.432 5.376-16 23.136-24.672 39.936-19.68l34.016 10.752c7.328-12.672 15.84-24.8 26.336-35.328l-20.8-27.552a29.44 29.44 0 0 1 6.944-42.432 32.704 32.704 0 0 1 44.384 6.752l20.832 27.616c13.696-6.432 28.224-11.2 43.104-13.952v-33.568c0-16.736 14.048-30.432 31.648-30.432 17.536 0 31.808 13.568 31.808 30.432v33.504c15.072 2.688 29.344 7.808 42.848 14.016l20.992-27.616a32.48 32.48 0 0 1 44.224-6.752 29.568 29.568 0 0 1 7.136 42.432l-21.024 27.808c10.432 10.432 19.872 21.888 27.04 34.752l33.376-10.432c16.768-5.12 34.56 3.68 39.936 19.68 5.536 15.936-3.712 33.056-20.32 38.304z m-206.016-74.432c-61.344 0-111.136 47.808-111.136 106.56 0 58.88 49.792 106.496 111.136 106.496 61.312 0 111.104-47.616 111.104-106.496 0-58.752-49.792-106.56-111.104-106.56z" p-id="3602" /><path d="M802.7888 57.152h-76.448c0-22.08-21.024-38.24-42.848-38.24H39.3968a39.68 39.68 0 0 0-39.36 40.032v795.616s41.888 120.192 110.752 120.192H673.2848a227.488 227.488 0 0 1-107.04-97.44H117.6368s-40.608-13.696-40.608-41.248l470.304-0.256 1.664 3.36a227.68 227.68 0 0 1-12.64-73.632c0-60.576 24-118.624 66.88-161.44a228.352 228.352 0 0 1 123.552-63.392l-3.2 0.288 2.144-424.672h38.208l0.576 421.024c27.04 0 52.672 4.8 76.64 13.344V101.536c0.032 0-6.304-44.384-38.368-44.384zM149.7648 514.336H72.3888v-77.408H149.7648v77.408z m0-144.32H72.3888v-77.44H149.7648v77.44z m0-137.248H72.3888v-77.44H149.7648v77.44z m501.856 281.568H206.0848v-77.408h445.536v77.408z m0-144.32H206.0848v-77.44h445.536v77.44z m0-137.248H206.0848v-77.44h445.536v77.44z" p-id="3603" /></symbol>'});r.a.add(o);t["default"]=o},dacf:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("4de4"),a("7db0"),a("d81d"),a("14d9"),a("fb6a"),a("e9c4"),a("b680"),a("b64b"),a("d3b7"),a("498a"),a("0643"),a("2382"),a("fffc"),a("4e3e"),a("a573"),a("159b");var s=n(a("7ec2")),i=n(a("c973")),r=a("b7e1"),o=a("7c5c"),l=n(a("1487"));a("2c43");t.default={name:"Chat",data:function(){return{messages:[],inputValue:"",isLoading:!1,retryingMessageId:null,currentStreamMessage:null,streamMode:!0,messageSequence:0,isSystemPrompt:!1}},mounted:function(){this.scrollToBottom()},created:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.initializeMarked(),window.retryLastMessage=e.retryLastMessage.bind(e),e.loadMessages(),t.next=5,e.checkHealth();case 5:0===e.messages.length&&e.messages.push({id:e.getNextSequence(),role:"assistant",content:"你好！我是AI助手。我可以帮你回答问题、解决问题。请告诉我你需要什么帮助？"}),window.addEventListener("beforeunload",e.handleBeforeUnload),e.$bus.$on("FedLogOut",e.clearChatHistory),e.$bus.$on("sendToAI",e.handleIncomingMessage),e.$bus.$on("insertToChat",e.insertToInput);case 10:case"end":return t.stop()}}),t)})))()},destroyed:function(){window.removeEventListener("beforeunload",this.handleBeforeUnload),this.$bus.$off("FedLogOut",this.clearChatHistory),delete window.retryLastMessage,this.clearChatHistory(),this.$bus.$off("sendToAI",this.handleIncomingMessage),this.$bus.$off("insertToChat",this.insertToInput)},watch:{messages:{handler:function(e){localStorage.setItem("chatMessages",JSON.stringify(e)),this.scrollToBottom(),e.length%20===0&&e.length>0&&this.checkHistorySize()},deep:!0}},computed:{displayMessages:function(){return this.messages.filter((function(e){return!e.isSystemPrompt}))}},methods:{addWelcomeMessage:function(){this.messages.push({id:this.getNextSequence(),role:"assistant",content:"你好！我是AI助手。我可以帮你回答问题、解决问题。请告诉我你需要什么帮助？"})},loadMessages:function(){var e=localStorage.getItem("chatMessages");if(e)try{var t=JSON.parse(e),a=0;t.forEach((function(e){e.id&&"number"===typeof e.id&&e.id>a&&(a=e.id)})),this.messages=t.map((function(e,t){return e.id||(e.id=a+t+1),e})),this.messageSequence=a>0?a:0,this.checkHistorySize()}catch(n){console.error("解析保存的消息失败:",n),this.messages=[],this.addWelcomeMessage()}else this.addWelcomeMessage()},initializeMarked:function(){o.marked.setOptions({renderer:new o.marked.Renderer,gfm:!0,breaks:!0,sanitize:!1,highlight:function(e,t){try{return t&&l.default.getLanguage(t)?l.default.highlight(e,{language:t}).value:l.default.highlightAuto(e).value}catch(a){return console.error("Code highlight error:",a),e}}})},checkHealth:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){var a;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,r.getHealth)();case 3:a=t.sent,"healthy"!==a.status&&e.$message.warning("AI服务状态异常，可能影响对话质量"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$message.error("无法连接到AI服务");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getNextSequence:function(){var e=Math.floor(1e4*Math.random());return++this.messageSequence+"_"+Date.now()+"_"+e},sendMessage:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){var a,n,i;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.inputValue.trim()){t.next=2;break}return t.abrupt("return");case 2:return a={id:Date.now(),role:"user",content:e.inputValue,isSystemPrompt:e.isSystemPrompt},e.inputValue="",e.messages.push(a),n={id:Date.now()+1,role:"assistant",content:"",isStreaming:!0},e.messages.push(n),e.currentStreamMessage=n,i=e.messages.filter((function(e){return!e.isStreaming})).map((function(e){return{role:e.role,content:e.content}})),t.prev=9,t.next=12,(0,r.sendStreamChatMessage)({conversation_messages:i},(function(t){e.currentStreamMessage&&(e.currentStreamMessage.content+=t,e.$nextTick((function(){e.scrollToBottom()})))}),(function(t){e.currentStreamMessage&&(e.currentStreamMessage.isStreaming=!1,e.currentStreamMessage=null),e.isLoading=!1}),(function(t){console.error("流式消息发送失败",t),e.currentStreamMessage&&(e.currentStreamMessage.content="消息发送失败，请重试。",e.currentStreamMessage.isError=!0,e.currentStreamMessage.isStreaming=!1,e.currentStreamMessage=null),e.isLoading=!1}));case 12:t.next=19;break;case 14:t.prev=14,t.t0=t["catch"](9),console.error("发送消息失败",t.t0),e.currentStreamMessage&&(e.currentStreamMessage.content="消息发送失败，请重试。",e.currentStreamMessage.isError=!0,e.currentStreamMessage.isStreaming=!1,e.currentStreamMessage=null),e.isLoading=!1;case 19:case"end":return t.stop()}}),t,null,[[9,14]])})))()},handleEnter:function(e){e.ctrlKey||e.shiftKey||this.sendMessage()},scrollToBottom:function(){var e=this;this.$nextTick((function(){e.$refs.chatContainer&&(e.$refs.chatContainer.scrollTop=e.$refs.chatContainer.scrollHeight)}))},clearChatHistory:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&this.messages.length>0){var t=Math.min(10,this.messages.length),a=this.messages.slice(-t);localStorage.setItem("chatMessages",JSON.stringify(a)),this.messages=a,this.$message({type:"success",message:"已清除旧消息，保留了最近".concat(t,"条消息")})}else localStorage.removeItem("chatMessages"),this.messages=[],this.messageSequence=0,this.addWelcomeMessage()},showClearHistoryDialog:function(){var e=this;this.$confirm("您想如何清除历史记录？","清除历史",{confirmButtonText:"清除全部",cancelButtonText:"取消",distinguishCancelAndClose:!0,showClose:!0,closeOnClickModal:!1,customClass:"clear-history-dialog",center:!0,showCancelButton:!0,type:"warning"}).then((function(){e.clearChatHistory(!1),e.$message({type:"success",message:"已清除全部历史记录"})})).catch((function(t){"cancel"===t&&e.$message({type:"info",message:"已取消清除操作"})})),setTimeout((function(){var t=document.querySelector(".clear-history-dialog");if(t){var a=t.querySelector(".el-dialog__footer");if(a){var n=document.createElement("button");n.className="el-button el-button--primary el-button--small",n.innerHTML="仅保留最近对话",n.style.marginRight="10px",n.addEventListener("click",(function(){document.querySelector(".clear-history-dialog .el-dialog__headerbtn").click(),e.clearChatHistory(!0)})),a.insertBefore(n,a.firstChild)}}}),100)},retryLastMessage:function(){var e=this;this.retryingMessageId&&(this.messages.pop(),this.inputValue=this.messages.find((function(t){return t.id===e.retryingMessageId})).content,this.sendMessage())},handleBeforeUnload:function(){this.clearChatHistory()},renderMarkdown:function(e){try{var t=(0,o.marked)(e);return console.log("Markdown rendered HTML:",t),t}catch(a){return console.error("Markdown rendering error:",a),e}},handleIncomingMessage:function(e){this.isSystemPrompt=!0,this.inputValue=e,this.sendMessage()},insertToInput:function(e){this.inputValue=e||"",this.$nextTick((function(){var e=document.querySelector(".chat-input .el-textarea__inner");e&&(e.focus(),e.scrollIntoView({behavior:"smooth"}))}))},handleSend:function(){var e=this;this.inputValue.trim()&&(this.isLoading=!0,setTimeout((function(){e.isLoading=!1}),300),this.sendMessage())},checkHistorySize:function(){var e=this,t=localStorage.getItem("chatMessages");if(t){var a=t.length/1048576;console.log("聊天历史记录大小:",a.toFixed(2)+"MB"),a>1&&(this.$confirm("聊天历史记录已达到".concat(a.toFixed(2),"MB，这可能会影响应用性能。请选择清理方式："),"历史记录过大",{confirmButtonText:"清除全部",cancelButtonText:"暂不处理",distinguishCancelAndClose:!0,showClose:!0,closeOnClickModal:!1,customClass:"history-size-warning",type:"warning"}).then((function(){e.clearChatHistory(!1)})).catch((function(){e.$message({type:"info",message:'您可以随时点击"清除历史"按钮清除记录'})})),setTimeout((function(){var t=document.querySelector(".history-size-warning");if(t){var a=t.querySelector(".el-dialog__footer");if(a){var n=document.createElement("button");n.className="el-button el-button--primary el-button--small",n.innerHTML="仅保留最近对话",n.style.marginRight="10px",n.addEventListener("click",(function(){document.querySelector(".history-size-warning .el-dialog__headerbtn").click(),e.clearChatHistory(!0)})),a.insertBefore(n,a.firstChild)}}}),100))}}}}},db8b:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("ded3"));a("d81d"),a("a573");var i=a("a159"),r=a("65f2");t.default={name:"JobLog",dicts:["sys_common_status","sys_job_group"],data:function(){return{loading:!0,ids:[],multiple:!0,showSearch:!0,total:0,jobLogList:[],open:!1,dateRange:[],form:{},queryParams:{pageNum:1,pageSize:10,jobName:void 0,jobGroup:void 0,status:void 0}}},created:function(){var e=this,t=this.$route.params&&this.$route.params.jobId;void 0!==t&&0!=t?(0,i.getJob)(t).then((function(t){e.queryParams.jobName=t.data.jobName,e.queryParams.jobGroup=t.data.jobGroup,e.getList()})):this.getList()},methods:{getList:function(){var e=this;this.loading=!0,(0,r.listJobLog)(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.jobLogList=t.rows,e.total=t.total,e.loading=!1}))},handleClose:function(){var e={path:"/monitor/job"};this.$tab.closeOpenPage(e)},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.jobLogId})),this.multiple=!e.length},handleView:function(e){this.open=!0,this.form=e},handleDelete:function(e){var t=this,a=this.ids;this.$modal.confirm('是否确认删除调度日志编号为"'+a+'"的数据项？').then((function(){return(0,r.delJobLog)(a)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$modal.confirm("是否确认清空所有调度日志数据项？").then((function(){return(0,r.cleanJobLog)()})).then((function(){e.getList(),e.$modal.msgSuccess("清空成功")})).catch((function(){}))},handleExport:function(){this.download("/monitor/jobLog/export",(0,s.default)({},this.queryParams),"log_".concat((new Date).getTime(),".xlsx"))}}}},dc13:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-peoples",use:"icon-peoples-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-peoples"><path d="M95.648 118.762c0 5.035-3.563 9.121-7.979 9.121H7.98c-4.416 0-7.979-4.086-7.979-9.121C0 100.519 15.408 83.47 31.152 76.75c-9.099-6.43-15.216-17.863-15.216-30.987v-9.128c0-20.16 14.293-36.518 31.893-36.518s31.894 16.358 31.894 36.518v9.122c0 13.137-6.123 24.556-15.216 30.993 15.738 6.726 31.141 23.769 31.141 42.012z" /><path d="M106.032 118.252h15.867c3.376 0 6.101-3.125 6.101-6.972 0-13.957-11.787-26.984-23.819-32.123 6.955-4.919 11.638-13.66 11.638-23.704v-6.985c0-15.416-10.928-27.926-24.39-27.926-1.674 0-3.306.193-4.89.561 1.936 4.713 3.018 9.974 3.018 15.526v9.121c0 13.137-3.056 23.111-11.066 30.993 14.842 4.41 27.312 23.42 27.541 41.509z" /></symbol>'});r.a.add(o);t["default"]=o},dc2b:function(e,t,a){},dc60:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d81d"),a("14d9"),a("13d5"),a("a9e3"),a("d3b7"),a("ac1f"),a("1276"),a("0643"),a("4e3e"),a("a573"),a("9d4a"),a("9a9a"),a("159b"),a("ddb0");t.default={name:"DictTag",props:{options:{type:Array,default:null},value:[Number,String,Array],showValue:{type:Boolean,default:!0},separator:{type:String,default:","}},data:function(){return{unmatchArray:[]}},computed:{values:function(){return null===this.value||"undefined"===typeof this.value||""===this.value?[]:Array.isArray(this.value)?this.value.map((function(e){return""+e})):String(this.value).split(this.separator)},unmatch:function(){var e=this;if(this.unmatchArray=[],null===this.value||"undefined"===typeof this.value||""===this.value||0===this.options.length)return!1;var t=!1;return this.values.forEach((function(a){e.options.some((function(e){return e.value===a}))||(e.unmatchArray.push(a),t=!0)})),t}},filters:{handleArray:function(e){return 0===e.length?"":e.reduce((function(e,t){return e+" "+t}))}}}},dc78:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-table",use:"icon-table-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-table"><path d="M.006.064h127.988v31.104H.006V.064zm0 38.016h38.396v41.472H.006V38.08zm0 48.384h38.396v41.472H.006V86.464zM44.802 38.08h38.396v41.472H44.802V38.08zm0 48.384h38.396v41.472H44.802V86.464zM89.598 38.08h38.396v41.472H89.598zm0 48.384h38.396v41.472H89.598z" /><path d="M.006.064h127.988v31.104H.006V.064zm0 38.016h38.396v41.472H.006V38.08zm0 48.384h38.396v41.472H.006V86.464zM44.802 38.08h38.396v41.472H44.802V38.08zm0 48.384h38.396v41.472H44.802V86.464zM89.598 38.08h38.396v41.472H89.598zm0 48.384h38.396v41.472H89.598z" /></symbol>'});r.a.add(o);t["default"]=o},dcde:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14d9");t.default={name:"MenuItem",functional:!0,props:{icon:{type:String,default:""},title:{type:String,default:""}},render:function(e,t){var a=t.props,n=a.icon,s=a.title,i=[];return n&&i.push(e("svg-icon",{attrs:{"icon-class":n}})),s&&(s.length>5?i.push(e("span",{slot:"title",attrs:{title:s}},[s])):i.push(e("span",{slot:"title"},[s]))),i}}},dce4:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7"),a("0643"),a("76d6"),a("9a9a");var s=n(a("4360"));function i(e){var t="*:*:*",a=s.default.getters&&s.default.getters.permissions;return!!(e&&e.length>0)&&a.some((function(a){return t===a||a===e}))}function r(e){var t="admin",a=s.default.getters&&s.default.getters.roles;return!!(e&&e.length>0)&&a.some((function(a){return t===a||a===e}))}t.default={hasPermi:function(e){return i(e)},hasPermiOr:function(e){return e.some((function(e){return i(e)}))},hasPermiAnd:function(e){return e.every((function(e){return i(e)}))},hasRole:function(e){return r(e)},hasRoleOr:function(e){return e.some((function(e){return r(e)}))},hasRoleAnd:function(e){return e.every((function(e){return r(e)}))}}},dd7b:function(e,t,a){"use strict";a.r(t);var n=a("2e1b"),s=a("4e59");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("ff07");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},dda2:function(e,t,a){"use strict";a.r(t);var n=a("82c5"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},de06:function(e,t,a){"use strict";a("2bb1")},de52:function(e,t,a){},ded0:function(e,t,a){"use strict";var n=a("dbce").default,s=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(a("6374")),r=s(a("7ec2")),o=s(a("ded3")),l=s(a("c973"));a("d9e2"),a("99af"),a("4de4"),a("7db0"),a("caad"),a("d81d"),a("14d9"),a("a9e3"),a("b64b"),a("d3b7"),a("07ac"),a("8a79"),a("2532"),a("3ca3"),a("0643"),a("2382"),a("fffc"),a("4e3e"),a("a573"),a("9a9a"),a("159b"),a("ddb0"),a("2b3d"),a("bf19"),a("9861"),a("88a7"),a("271a"),a("5494");var c=a("5a2f"),u=n(a("313e")),d=a("5c96"),f=s(a("c343")),p=s(a("09ad")),m=a("cc43");t.default={name:"showMutualReview",directives:{loading:d.Loading},props:{taskId:{type:String,required:!0},submitId:{type:String,required:!0},taskDetails:{type:Object,required:!0}},data:function(){return{activeTab:"视频",submissionTypes:[],submitting:!1,evaluationData:{video:[],audio:[],ppt:[],word:[]},ratings:{video:[],audio:[],ppt:[],word:[]},comments:{video:"",audio:"",ppt:"",word:""},grades:{video:0,audio:0,ppt:0,word:0},typeMapping:{"视频":"video","音频":"audio",PPT:"ppt","演讲稿":"word"},radarChart:null,radarCharts:{},dimensionScores:{"视频":0,"音频":0,PPT:0,"演讲稿":0},fileUrls:{video:"",audio:"",ppt:"",word:""},loading:{video:!1,audio:!1,ppt:!1,word:!1},currentTaskInfo:null,_blobUrls:[],wordContent:"",convertLoading:!1,isPlaying:!1,pdfData:null,fixedTabOrder:["视频","音频","PPT","演讲稿"]}},computed:{radarData:function(){var e=this;return this.submissionTypes.map((function(t){var a=e.typeMapping[t];return{name:t,value:e.calculateTotalScore(a)}}))},radarIndicator:function(){return this.submissionTypes.map((function(e){return{name:e,max:100}}))}},watch:{activeTab:{handler:function(e){var t=this;this.$nextTick((function(){t.initRadarChart(e)}))}},immediate:!0},mounted:function(){},components:{"pdf-viewer":p.default},methods:{fetchTaskData:function(){var e=this;return(0,l.default)((0,r.default)().mark((function t(){var a,n,s;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.getEvaluationByTaskIdAndStuId)(e.taskId,e.taskDetails.ownerId);case 3:if(n=t.sent,null!==n&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.evaluationTypes){t.next=7;break}return e.$message.error("获取评价数据失败"),t.abrupt("return");case 7:if(s=n.data.evaluationTypes.find((function(e){return"互评"===e.evaluationMethod})),s){t.next=11;break}return e.$message.error("未找到自评数据"),t.abrupt("return");case 11:e.submissionTypes=e.fixedTabOrder.filter((function(e){return s.evaluationContents.some((function(t){return t.evaluationContent===e}))})),s.evaluationContents.forEach((function(t){var a=e.typeMapping[t.evaluationContent];if(a){e.$set(e.evaluationData,a,t.evaluationDimensions.map((function(e){var t=Object.keys(e)[0],a=Number(e[t]);return{evaluationTitle:t,evaluationInfos:[t],score:a}})));var n=t.evaluationDimensions.map((function(e){return[Number(Object.values(e)[0])]}));e.$set(e.ratings,a,n),e.$set(e.comments,a,t.evaluationTitle),console.log("Before update - Current dimensionScores:",(0,o.default)({},e.dimensionScores)),console.log("Setting grade for type:",t.evaluationContent,"grade:",t.grade),e.$set(e.dimensionScores,t.evaluationContent,t.grade),e.$nextTick((function(){console.log("After update - dimensionScores:",(0,o.default)({},e.dimensionScores))}))}})),e.activeTab=e.submissionTypes[0]||"",e.$nextTick((function(){e.initRadarChart(e.activeTab)})),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error("获取评价数据失败：",t.t0),e.$message.error("获取评价数据失败");case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},calculateTotalScore:function(e){var t=this,a=Object.keys(this.typeMapping).find((function(a){return t.typeMapping[a]===e})),n=this.dimensionScores[a]||0;return Object.keys(this.radarCharts).forEach((function(e){t.updateRadarChart(e)})),n},initRadarChart:function(e){var t,a=null===(t=this.$refs["radarContainer-".concat(e)])||void 0===t?void 0:t[0];a&&(this.radarCharts[e]&&this.radarCharts[e].dispose(),this.radarCharts[e]=u.init(a),this.updateRadarChart(e))},updateRadarChart:function(e){var t=this,a=this.radarCharts[e];if(a){var n={title:{text:"能力评分雷达图",left:"center",top:10,textStyle:{fontSize:14,color:"#666"}},tooltip:{trigger:"item",formatter:function(e){var a=t.submissionTypes[e.dimensionIndex];return"".concat(a,": ").concat(t.dimensionScores[a],"分")}},radar:{indicator:this.submissionTypes.map((function(e){return{name:e,max:100}})),shape:"circle",radius:"65%",splitNumber:5,name:{textStyle:{color:"#666",fontSize:12}},splitArea:{areaStyle:{color:["#f3f6f9","#e9ecf2"]}}},series:[{type:"radar",name:"能力评分",data:[{value:this.submissionTypes.map((function(e){return t.dimensionScores[e]})),name:"当前评分",symbol:"circle",symbolSize:6,lineStyle:{width:2,color:"#409EFF"},areaStyle:{color:new u.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(64, 158, 255, 0.3)"},{offset:1,color:"rgba(64, 158, 255, 0.1)"}])},itemStyle:{color:"#409EFF"}}]}]};a.setOption(n)}},getMimeType:function(e,t){var a={video:"video/mp4",audio:"audio/mpeg",ppt:"application/vnd.openxmlformats-officedocument.presentationml.presentation",word:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};return"word"!==e&&"ppt"!==e||!t.toLowerCase().endsWith(".pdf")?a[e]||"application/octet-stream":"application/pdf"},loadFiles:function(){var e=this;return(0,l.default)((0,r.default)().mark((function t(){var a,n,s,o,l,u,d,p,v,h,g,b,w,y,C,x,k,_;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,m.getSubmissionInfoById)(e.submitId);case 3:if(n=t.sent,s=n.data,null!==s&&void 0!==s&&null!==(a=s.taskInfos)&&void 0!==a&&a.length){t.next=7;break}throw new Error("No submissions found");case 7:o=s.taskInfos.filter((function(e){return e.finished})),l=o.map((function(e){return e.submissionType})),e.submissionTypes=e.fixedTabOrder.filter((function(e){return l.includes(e)})),u=(0,i.default)(o),t.prev=11,u.s();case 13:if((d=u.n()).done){t.next=59;break}if(p=d.value,v=p.submissionType,h=e.typeMapping[v],e.loading[h]=!0,t.prev=18,!p.fileName){t.next=49;break}return t.next=22,(0,c.showFile)(h,p.fileName);case 22:if(g=t.sent,b=e.getMimeType(h,p.fileName),"word"!==h){t.next=48;break}return e.convertLoading=!0,t.prev=26,t.next=29,f.default.convertToHtml({arrayBuffer:g},{styleMap:["p[style-name='Title'] => h1:fresh","p[style-name='Heading 1'] => h2:fresh","p[style-name='Heading 2'] => h3:fresh","p[style-name='Quote'] => blockquote:fresh","r[style-name='Strong'] => strong","r[style-name='Emphasis'] => em"]});case 29:w=t.sent,e.wordContent=w.value,y=new Blob([g],{type:b}),C=URL.createObjectURL(y),e._blobUrls=e._blobUrls||[],e._blobUrls.push(C),e.$set(e.fileUrls,h,C),t.next=43;break;case 38:t.prev=38,t.t0=t["catch"](26),console.error("Word conversion failed:",t.t0),e.$message.error("Word文档转换失败"),e.wordContent="";case 43:return t.prev=43,e.convertLoading=!1,t.finish(43);case 46:t.next=49;break;case 48:"ppt"===h?e.pdfData=g:(x=new Blob([g],{type:b}),k=URL.createObjectURL(x),e._blobUrls=e._blobUrls||[],e._blobUrls.push(k),e.$set(e.fileUrls,h,k),_=e.$refs["".concat(h,"Element")],_&&(_.src=k));case 49:t.next=54;break;case 51:t.prev=51,t.t1=t["catch"](18),console.error("Error loading ".concat(v," file:"),t.t1);case 54:return t.prev=54,e.loading[h]=!1,t.finish(54);case 57:t.next=13;break;case 59:t.next=64;break;case 61:t.prev=61,t.t2=t["catch"](11),u.e(t.t2);case 64:return t.prev=64,u.f(),t.finish(64);case 67:e.submissionTypes.length>0&&(e.activeTab=e.submissionTypes[0]),t.next=73;break;case 70:t.prev=70,t.t3=t["catch"](0),console.error("Error loading submissions:",t.t3);case 73:case"end":return t.stop()}}),t,null,[[0,70],[11,61,64,67],[18,51,54,57],[26,38,43,46]])})))()},handleFileError:function(e){this.loading[e]=!1},clearBlobUrls:function(){this._blobUrls.forEach((function(e){return URL.revokeObjectURL(e)})),this._blobUrls=[]},handlePlay:function(){this.isPlaying=!0},handlePause:function(){this.isPlaying=!1}},created:function(){var e=this;return(0,l.default)((0,r.default)().mark((function t(){return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchTaskData().then((function(){if(!e.activeTab){var t=Object.keys(e.evaluationData)[0];e.activeTab=t||"视频"}e.$nextTick((function(){e.initRadarChart(e.activeTab)}))}));case 2:return t.next=4,e.loadFiles();case 4:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){var e=this;this.radarCharts&&Object.keys(this.radarCharts).forEach((function(t){e.radarCharts[t]&&e.radarCharts[t].dispose()})),this._blobUrls&&Array.isArray(this._blobUrls)&&(this._blobUrls.forEach((function(e){return URL.revokeObjectURL(e)})),this._blobUrls=[])}}},df33:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("ded3")),i=n(a("6374")),r=n(a("448a")),o=n(a("7ec2")),l=n(a("c973"));a("99af"),a("4de4"),a("a630"),a("caad"),a("a15b"),a("d81d"),a("14d9"),a("fb6a"),a("4ec9"),a("d3b7"),a("6062"),a("1e70"),a("79a4"),a("c1a1"),a("8b00"),a("a4e7"),a("1e5a"),a("72c3"),a("2532"),a("3ca3"),a("0643"),a("76d6"),a("2382"),a("a573"),a("ddb0");var c=a("e424"),u=a("c0c7");t.default={data:function(){return{tableData:[],selectedRows:[],showDialog:!1,dialogData:{weights:[0,0,0,0],assignedStudents:[],reviewTeachers:[]},studentDetails:[],teacherDetails:[],currentPage:1,pageSize:10,progressCache:new Map,pendingRequests:new Map}},created:function(){this.fetchHomeworkData()},computed:{paginatedStudentDetails:function(){var e=(this.currentPage-1)*this.pageSize,t=e+this.pageSize;return this.studentDetails.slice(e,t)}},methods:{fetchHomeworkData:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){var a,n,s,i,u,d;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.$store.getters.userId,t.next=4,(0,c.getHomeworkData)(a);case 4:if(n=t.sent,!n.data||!Array.isArray(n.data)){t.next=16;break}s=3,i=[],u=(0,o.default)().mark((function t(a){var c,u;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c=n.data.slice(a,a+s),t.next=3,Promise.all(c.map(function(){var t=(0,l.default)((0,o.default)().mark((function t(n,s){var i;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchCompletionProgress(n.id);case 2:return i=t.sent,t.abrupt("return",{serialNumber:a+s+1,id:n.id,name:n.taskName,process:n.evaluationMethods.join(" - "),creationTime:new Date(n.createTime).toLocaleString(),deadline:new Date(n.deadline).toLocaleString(),creator:n.ownerName,completionProgress:i,visible:!1,taskRequirements:n.taskRequirements,weights:n.weights,assignedStudents:n.assignedStudents,reviewTeachers:n.reviewTeachers,evaluationDimensions:n.evaluationDimensions,submissionTypes:n.submissionTypes});case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()));case 3:u=t.sent,i.push.apply(i,(0,r.default)(u));case 5:case"end":return t.stop()}}),t)})),d=0;case 10:if(!(d<n.data.length)){t.next=15;break}return t.delegateYield(u(d),"t0",12);case 12:d+=s,t.next=10;break;case 15:e.tableData=i;case 16:t.next=22;break;case 18:t.prev=18,t.t1=t["catch"](0),console.error("Error fetching homework data:",t.t1),e.$message.error("获取任务数据失败");case 22:case"end":return t.stop()}}),t,null,[[0,18]])})))()},createHomework:function(){this.$router.push({name:"createHomework"})},confirmDeleteSelected:function(){var e=this;return(0,l.default)((0,o.default)().mark((function t(){var a,n,s,r,l,u,d;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.selectedRows.length){t.next=3;break}return e.$message({type:"warning",message:"请先选择要删除的作业"}),t.abrupt("return");case 3:return t.prev=3,t.next=6,e.$confirm("确定要删除选中的作业吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 6:t.next=11;break;case 8:return t.prev=8,t.t0=t["catch"](3),t.abrupt("return");case 11:a=e.$loading({text:"正在删除...",background:"rgba(0, 0, 0, 0.7)"}),n=0,s=0,t.prev=14,r=(0,i.default)(e.selectedRows),t.prev=16,r.s();case 18:if((l=r.n()).done){t.next=33;break}return u=l.value,t.prev=20,t.next=23,(0,c.deleteTeacherTask)(u.id);case 23:d=t.sent,1===d.code&&"success"===d.msg?n++:(s++,console.error("删除作业 ".concat(u.id," 失败:"),d.msg)),t.next=31;break;case 27:t.prev=27,t.t1=t["catch"](20),s++,console.error("删除作业 ".concat(u.id," 出错:"),t.t1);case 31:t.next=18;break;case 33:t.next=38;break;case 35:t.prev=35,t.t2=t["catch"](16),r.e(t.t2);case 38:return t.prev=38,r.f(),t.finish(38);case 41:if(!(n>0)){t.next=47;break}return e.$message({type:"success",message:"成功删除 ".concat(n," 个作业").concat(s>0?"，".concat(s," 个删除失败"):"")}),t.next=45,e.fetchHomeworkData();case 45:t.next=48;break;case 47:e.$message({type:"error",message:"删除失败"});case 48:e.selectedRows=[],e.$refs.multipleTable.clearSelection(),t.next=56;break;case 52:t.prev=52,t.t3=t["catch"](14),e.$message({type:"error",message:"删除操作发生错误"}),console.error("批量删除错误:",t.t3);case 56:return t.prev=56,a.close(),t.finish(56);case 59:case"end":return t.stop()}}),t,null,[[3,8],[14,52,56,59],[16,35,38,41],[20,27]])})))()},deleteSingleHomework:function(e){var t=this;return(0,l.default)((0,o.default)().mark((function a(){var n;return(0,o.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$confirm("确定要删除该作业吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:return a.next=5,(0,c.deleteTeacherTask)(e.id);case 5:if(n=a.sent,1!==n.code||"success"!==n.msg){a.next=12;break}return t.$message({type:"success",message:"已删除作业"}),a.next=10,t.fetchHomeworkData();case 10:a.next=13;break;case 12:t.$message({type:"error",message:n.msg||"删除失败"});case 13:a.next=18;break;case 15:a.prev=15,a.t0=a["catch"](0),"cancel"!==a.t0&&(t.$message({type:"error",message:"删除操作失败"}),console.error("删除任务错误:",a.t0));case 18:case"end":return a.stop()}}),a,null,[[0,15]])})))()},fetchProgressFromServer:function(e){return(0,l.default)((0,o.default)().mark((function t(){var a,n,s,i;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.getAllSubmitsByTaskId)(e,1,999);case 3:if(a=t.sent,1!==a.code||!a.data){t.next=9;break}return n=a.data.rows.filter((function(e){return e.taskInfos.every((function(e){return!0===e.finished}))})).length,s=a.data.total,i=s>0?Math.round(n/s*100):0,t.abrupt("return","".concat(i,"%"));case 9:return t.abrupt("return","0%");case 12:return t.prev=12,t.t0=t["catch"](0),console.error("Error getting completion progress:",t.t0),t.abrupt("return","0%");case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()},fetchCompletionProgress:function(e){var t=this;return(0,l.default)((0,o.default)().mark((function a(){var n,s,i,r;return(0,o.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=Date.now(),s=t.progressCache.get(e),!(s&&n-s.timestamp<3e5)){a.next=4;break}return a.abrupt("return",s.progress);case 4:if(!t.pendingRequests.has(e)){a.next=6;break}return a.abrupt("return",t.pendingRequests.get(e));case 6:return i=t.fetchProgressFromServer(e),t.pendingRequests.set(e,i),a.prev=8,a.next=11,i;case 11:return r=a.sent,t.progressCache.set(e,{progress:r,timestamp:n}),a.abrupt("return",r);case 16:return a.prev=16,a.t0=a["catch"](8),console.error("Error fetching progress:",a.t0),a.abrupt("return","0%");case 20:return a.prev=20,t.pendingRequests.delete(e),a.finish(20);case 23:case"end":return a.stop()}}),a,null,[[8,16,20,23]])})))()},viewHomework:function(e){var t=this;return(0,l.default)((0,o.default)().mark((function a(){var n,i;return(0,o.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.dialogData=(0,s.default)((0,s.default)({},e),{},{weights:e.weights||[0,0,0,0],assignedStudents:Array.isArray(e.assignedStudents)?Array.from(new Set(e.assignedStudents)):[],reviewTeachers:Array.isArray(e.reviewTeachers)?Array.from(new Set(e.reviewTeachers)):[]}),t.studentDetails=[],t.teacherDetails=[],t.showDialog=!0,a.prev=4,n=[].concat((0,r.default)(t.dialogData.assignedStudents),(0,r.default)(t.dialogData.reviewTeachers)),!(n.length>0)){a.next=11;break}return a.next=9,(0,u.getUserProfiles)(n);case 9:i=a.sent,i&&i.data&&i.data.rows&&(t.studentDetails=i.data.rows.filter((function(e){return t.dialogData.assignedStudents.includes(e.userId)})),t.teacherDetails=i.data.rows.filter((function(e){return t.dialogData.reviewTeachers.includes(e.userId)})));case 11:a.next=17;break;case 13:a.prev=13,a.t0=a["catch"](4),console.error("Error fetching user profiles:",a.t0),t.$message.error("获取用户信息失败");case 17:case"end":return a.stop()}}),a,null,[[4,13]])})))()},handleDialogClose:function(){this.dialogData={},this.studentDetails=[],this.teacherDetails=[]},handlePageChange:function(e){this.currentPage=e},editHomework:function(e){this.$router.push({name:"homeWorkDetail",params:{ownerId:this.$store.getters.userId,assignmentId:e.id}})},handleSelectionChange:function(e){this.selectedRows=e}}}},df338:function(e,t,a){"use strict";a.r(t);var n=a("efbc"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},df36:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-slider",use:"icon-slider-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-slider"><defs><style type="text/css"></style></defs><path d="M951.453125 476.84375H523.671875a131.8359375 131.8359375 0 0 0-254.1796875 0H72.546875v70.3125h196.9453125a131.8359375 131.8359375 0 0 0 254.1796875 0H951.453125z" p-id="1239" /></symbol>'});r.a.add(o);t["default"]=o},e00b:function(e,t,a){"use strict";a.r(t);var n=a("2a32"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},e017e:function(e,t,a){"use strict";a("c7d2")},e0a3:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("278c")),i=n(a("7ec2")),r=n(a("c973")),o=n(a("ded3"));a("d9e2"),a("99af"),a("7db0"),a("a630"),a("caad"),a("d81d"),a("b680"),a("4fad"),a("b64b"),a("d3b7"),a("07ac"),a("6062"),a("1e70"),a("79a4"),a("c1a1"),a("8b00"),a("a4e7"),a("1e5a"),a("72c3"),a("2532"),a("3ca3"),a("4d90"),a("0643"),a("76d6"),a("fffc"),a("4e3e"),a("a573"),a("9a9a"),a("159b"),a("ddb0"),a("2b3d"),a("bf19"),a("9861"),a("88a7"),a("271a"),a("5494");var l=a("e1ef"),c=a("cc43"),u=n(a("bdc07")),d=a("2f62"),f=n(a("c343")),p={video:{fileParam:"File",nameParam:"videoFileName",type:"视频"},audio:{fileParam:"File",nameParam:"fileName",type:"音频"},word:{fileParam:"File",nameParam:"fileName",type:"演讲稿"},ppt:{fileParam:"File",nameParam:"fileName",type:"PPT"}};t.default={props:{taskId:{type:String,required:!0},submitId:{type:String,required:!0},fileNames:{type:String,default:"{}"}},components:{ScoreTable:u.default},data:function(){return{taskDetails:null,showDetails:!0,remainingTime:"",deadlineTimer:null,uploadProgress:{video:0,audio:0,word:0,ppt:0},uploadStatus:{video:!1,audio:!1,word:!1,ppt:!1},requiredFiles:new Set,submissionStatus:"none",currentSubmission:null,isSubmitted:!1,confirmDialogVisible:!1,currentFile:null,currentFileType:null,submissionHistory:{hasHistory:!1,lastSubmitTime:null,submittedFiles:{video:{submitted:!1,filename:null,submitTime:null},audio:{submitted:!1,filename:null,submitTime:null},word:{submitted:!1,filename:null,submitTime:null},ppt:{submitted:!1,filename:null,submitTime:null}}},previewFiles:{video:null,audio:null,word:null,ppt:null},canSubmit:!0,isSubmitting:!1,previewDialogVisible:!1,currentPreviewType:"",previewUrl:"",previewLoading:!1,wordContent:"",machineEvaluations:{}}},watch:{"taskDetails.submissionTypes":function(e){var t=this;if(e){this.requiredFiles.clear();var a={"视频":"video","音频":"audio","演讲稿":"word",PPT:"ppt"};e.forEach((function(e){a[e]&&t.requiredFiles.add(a[e])}))}}},computed:(0,o.default)((0,o.default)({},(0,d.mapGetters)(["userId"])),{},{parsedFileNames:function(){try{return JSON.parse(this.fileNames||"{}")}catch(e){return console.error("解析fileNames失败:",e),{}}},isNearDeadline:function(){if(!this.taskDetails)return!1;var e=new Date,t=new Date(this.taskDetails.deadline),a=(t-e)/36e5;return a<=24&&a>0},isOverdue:function(){if(!this.taskDetails)return!0;var e=new Date,t=new Date(this.taskDetails.deadline);return e>t},hasPreviewFiles:function(){return Object.values(this.previewFiles).some((function(e){return null!==e}))},isVideoRequired:function(){return this.taskDetails&&this.taskDetails.submissionTypes.includes("视频")}}),methods:{fetchTaskDetails:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,l.getTaskInfoById)(e.taskId);case 3:a=t.sent,1===a.code?e.taskDetails=a.data:console.error("获取任务详情失败:",a.msg),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error("获取任务详情时发生错误:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},toggleDetails:function(){this.showDetails=!this.showDetails},formatDeadline:function(e){var t=new Date(e),a=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0");return"".concat(a,"-").concat(n,"-").concat(s," ").concat(i,":").concat(r)},updateRemainingTime:function(){if(this.taskDetails){var e=new Date,t=new Date(this.taskDetails.deadline),a=t-e;if(a<=0)this.remainingTime="已截止";else{var n=Math.floor(a/36e5),s=Math.floor(a%36e5/6e4);this.remainingTime="".concat(n,"小时").concat(s,"分钟")}}},handleHttpRequest:function(e){var t=this;return(0,r.default)((0,i.default)().mark((function a(){var n,s;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.file,s=t.getFileType(n),s){a.next=4;break}throw new Error("不支持的文件类型");case 4:return t.previewFiles[s]=n,a.abrupt("return",{code:0,msg:"File preview ready"});case 6:case"end":return a.stop()}}),a)})))()},beforeFileUpload:function(e){var t=this;return(0,r.default)((0,i.default)().mark((function a(){var n;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.validateFile(e)){a.next=2;break}return a.abrupt("return",!1);case 2:if(n=t.getFileType(e),!t.uploadStatus[n]){a.next=8;break}return t.currentFile=e,t.currentFileType=n,t.confirmDialogVisible=!0,a.abrupt("return",!1);case 8:return a.abrupt("return",!0);case 9:case"end":return a.stop()}}),a)})))()},getFileType:function(e){var t=e.type;return t.includes("video")?"video":t.includes("audio")?"audio":t.includes("msword")||t.includes("wordprocessingml")?"word":"application/pdf"===t?"ppt":null},validateFile:function(e){var t=this.getFileType(e);switch(t){case"video":return this.validateVideo(e);case"audio":return this.validateAudio(e);case"word":return this.validateWord(e);case"ppt":return this.validatePPT(e);default:return!1}},validateVideo:function(e){var t=["video/mp4","video/avi","video/quicktime"].includes(e.type),a=e.size/1024/1024<500;return t?!!a||(this.$message.error("视频大小不能超过500MB!"),!1):(this.$message.error("请上传正确的视频格式!"),!1)},validateAudio:function(e){var t=["audio/mpeg","audio/wav"].includes(e.type),a=e.size/1024/1024<200;return t?!!a||(this.$message.error("音频大小不能超过100MB!"),!1):(this.$message.error("请上传正确的音频格式!"),!1)},validateWord:function(e){var t=["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(e.type),a=e.size/1024/1024<100;return t?!!a||(this.$message.error("文件大小不能超过20MB!"),!1):(this.$message.error("请上传Word文档!"),!1)},validatePPT:function(e){var t=["application/pdf"].includes(e.type),a=e.size/1024/1024<200;return t?!!a||(this.$message.error("文件大小不能超过200MB!"),!1):(this.$message.error("请上传PDF文档!"),!1)},removePreviewFile:function(e){this.$set(this.previewFiles,e,null)},formatFileSize:function(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(2)+" KB":(e/1048576).toFixed(2)+" MB"},checkFileProcessingStatus:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a,n,s,r;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=20,n=0;case 2:if(!(n<a)){t.next=27;break}return t.prev=3,t.next=6,(0,c.getSubmissionInfoById)(e.submitId);case 6:if(s=t.sent,console.log("轮询次数: ".concat(n+1,", 状态:"),s.data.taskInfos.map((function(e){return{type:e.submissionType,finished:e.finished}}))),1===s.code){t.next=10;break}throw new Error("获取提交状态失败");case 10:if(r=s.data.taskInfos.every((function(e){return!0===e.finished})),!r){t.next=14;break}return console.log("所有文件处理完成"),t.abrupt("return",!0);case 14:return t.next=16,new Promise((function(e){return setTimeout(e,2e3)}));case 16:n++,t.next=25;break;case 19:return t.prev=19,t.t0=t["catch"](3),console.error("第 ".concat(n+1," 次轮询出错:"),t.t0),t.next=24,new Promise((function(e){return setTimeout(e,2e3)}));case 24:n++;case 25:t.next=2;break;case 27:throw new Error("文件处理超时，请刷新页面检查处理状态");case 28:case"end":return t.stop()}}),t,null,[[3,19]])})))()},submitAllFiles:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a,n,r,o,u,d,f,m,v,h,g;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.canSubmit&&!e.isSubmitting){t.next=2;break}return t.abrupt("return");case 2:t.prev=2,e.isSubmitting=!0,a=!0,n=0,r=Object.entries(e.previewFiles);case 6:if(!(n<r.length)){t.next=49;break}if(o=(0,s.default)(r[n],2),u=o[0],d=o[1],d){t.next=10;break}return t.abrupt("continue",46);case 10:f=new FormData,m=p[u],f.append(m.fileParam,d),f.append(m.nameParam,e.parsedFileNames[m.type]),t.prev=14,v=void 0,t.t0=u,t.next="video"===t.t0?19:"audio"===t.t0?23:"word"===t.t0?27:"ppt"===t.t0?31:35;break;case 19:return t.next=21,(0,l.uploadVideoTask)(f);case 21:return v=t.sent,t.abrupt("break",35);case 23:return t.next=25,(0,l.uploadAudioTask)(f);case 25:return v=t.sent,t.abrupt("break",35);case 27:return t.next=29,(0,l.uploadWordTask)(f);case 29:return v=t.sent,t.abrupt("break",35);case 31:return t.next=33,(0,l.uploadPPTTask)(f);case 33:return v=t.sent,t.abrupt("break",35);case 35:if(0===v.code){t.next=38;break}throw a=!1,new Error("".concat(m.type,"上传失败: ").concat(v.msg));case 38:e.$message.success("".concat(m.type,"上传成功")),t.next=46;break;case 41:return t.prev=41,t.t1=t["catch"](14),a=!1,e.$message.error(t.t1.message||"".concat(m.type,"上传失败")),t.abrupt("break",49);case 46:n++,t.next=6;break;case 49:if(!a){t.next=65;break}return e.$message.success("所有文件上传完成，开始处理..."),t.prev=51,t.next=54,e.checkFileProcessingStatus();case 54:if(h=t.sent,!h){t.next=60;break}return t.next=58,(0,c.fetchAllGrades)(e.userId,e.taskId,e.taskDetails);case 58:g=t.sent,g&&e.handleGradeResults(g);case 60:t.next=65;break;case 62:throw t.prev=62,t.t2=t["catch"](51),new Error("文件处理失败："+t.t2.message);case 65:t.next=71;break;case 67:t.prev=67,t.t3=t["catch"](2),console.error("提交错误:",t.t3),e.$message.error(t.t3.message||"文件提交失败");case 71:return t.prev=71,e.isSubmitting=!1,t.finish(71);case 74:case"end":return t.stop()}}),t,null,[[2,67,71,74],[14,41],[51,62]])})))()},handleGradeResults:function(e){var t=this;this.machineEvaluations=e,console.group("机评结果详情"),Object.entries(e).forEach((function(e){var t=(0,s.default)(e,2),a=t[0],n=t[1];console.group("".concat(a,"评价信息")),console.log("完成状态:",n.finished),console.log("评分:",n.grade),console.log("评价内容:",n.evaluationTitle),console.log("评价维度:",n.evaluationDimensions),console.groupEnd()})),console.groupEnd(),Object.entries(e).forEach((function(e){var a=(0,s.default)(e,2),n=a[0],i=a[1];if(i.finished){var r,l,c=i.grade;"音频"===n&&null!==c&&(c>0?(c=20*c+10,c=Math.min(Math.round(c),100)):c=0);var u={title:"".concat(n,"机评完成"),message:"总分：".concat(null!==(r=null===(l=c)||void 0===l?void 0:l.toFixed(2))&&void 0!==r?r:"-"),type:"success",duration:4500};switch(n){case"视频":t.$notify((0,o.default)((0,o.default)({},u),{},{position:"top-right",offset:20}));break;case"音频":t.$notify((0,o.default)((0,o.default)({},u),{},{position:"top-right",offset:150}));break;case"演讲稿":t.$notify((0,o.default)((0,o.default)({},u),{},{position:"top-right",offset:220}));case"PPT":t.$notify((0,o.default)((0,o.default)({},u),{},{position:"top-right",offset:420}));break}}}))},handlePreview:function(e,t){var a=this;return(0,r.default)((0,i.default)().mark((function n(){return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:a.previewLoading=!0,a.currentPreviewType=t,a.previewDialogVisible=!0,n.prev=3,n.t0=t,n.next="video"===n.t0?7:"audio"===n.t0?10:"ppt"===n.t0?14:"word"===n.t0?21:24;break;case 7:return a.previewUrl=URL.createObjectURL(e),a.wordContent="",n.abrupt("break",24);case 10:return a.previewUrl=URL.createObjectURL(e),console.log("音频预览URL:",a.previewUrl),a.wordContent="",n.abrupt("break",24);case 14:if("application/pdf"!==e.type){n.next=19;break}a.previewUrl=URL.createObjectURL(e),a.wordContent="",n.next=20;break;case 19:throw new Error("不支持的文件格式");case 20:return n.abrupt("break",24);case 21:return n.next=23,a.handleWordPreview(e);case 23:return n.abrupt("break",24);case 24:n.next=29;break;case 26:n.prev=26,n.t1=n["catch"](3),a.$message.error("预览失败："+n.t1.message);case 29:return n.prev=29,a.previewLoading=!1,n.finish(29);case 32:case"end":return n.stop()}}),n,null,[[3,26,29,32]])})))()},handleWordPreview:function(e){var t=this;return(0,r.default)((0,i.default)().mark((function a(){var n,s,r;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,n=new FileReader,a.next=4,new Promise((function(t,a){n.onload=function(e){return t(e.target.result)},n.onerror=function(e){return a(new Error("文件读取失败: "+e))},n.readAsArrayBuffer(e)}));case 4:return s=a.sent,a.next=7,f.default.convertToHtml({arrayBuffer:s});case 7:r=a.sent,t.wordContent='\n      <div class="word-preview-content">\n        '.concat(r.value,"\n      </div>\n    "),r.messages.length>0&&console.warn("Word转换提示:",r.messages),a.next=15;break;case 12:throw a.prev=12,a.t0=a["catch"](0),new Error("Word文档预览失败: "+a.t0.message);case 15:case"end":return a.stop()}}),a,null,[[0,12]])})))()},handlePreviewClose:function(){this.previewUrl&&URL.revokeObjectURL(this.previewUrl),this.previewDialogVisible=!1,this.previewUrl="",this.wordContent="",this.currentPreviewType=""},handleFileSelected:function(e,t){var a=this;return(0,r.default)((0,i.default)().mark((function n(){return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a.validateFile(e)){n.next=2;break}return n.abrupt("return");case 2:return a.previewFiles[t]=e,n.next=5,a.handlePreview(e,t);case 5:case"end":return n.stop()}}),n)})))()},fetchSubmissionStatus:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a,n;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,l.getSubmissionsByStuId)(e.userId);case 3:a=t.sent,1===a.code&&(e.currentSubmission=a.data.rows.find((function(t){return t.taskId===e.taskId})),e.currentSubmission?(e.submissionHistory.hasHistory=!0,e.submissionHistory.lastSubmitTime=e.currentSubmission.submitTime,Object.keys(e.uploadStatus).forEach((function(t){e.uploadStatus[t]=!1})),Object.keys(e.submissionHistory.submittedFiles).forEach((function(t){e.submissionHistory.submittedFiles[t]={submitted:!1,filename:null,submitTime:null}})),n=e.currentSubmission.taskInfos||[],n.forEach((function(e){console.log("文件 ".concat(e.submissionType," 的状态："),{"文件名":e.fileName,"提交时间":e.submittedTime,"是否完成":e.finished})})),n.forEach((function(t){var a={"视频":"video","音频":"audio","演讲稿":"word",PPT:"ppt"},n=a[t.submissionType],s=null!==t.submittedTime&&!0===t.finished;n&&s&&(e.uploadStatus[n]=!0,e.submissionHistory.submittedFiles[n]={submitted:!0,filename:t.fileName,submitTime:t.submittedTime})})),e.isSubmitted=Object.values(e.uploadStatus).every((function(e){return e}))):(e.submissionHistory.hasHistory=!1,e.submissionHistory.lastSubmitTime=null,Object.keys(e.uploadStatus).forEach((function(t){e.uploadStatus[t]=!1})),e.isSubmitted=!1)),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error("获取提交记录失败:",t.t0),e.$message.error("获取提交状态失败，请稍后重试");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},handleProgress:function(e,t){var a=Math.round(e.percent);this.uploadProgress[t.toLowerCase()]=a,a<100&&console.log("".concat(p[t.toLowerCase()].type,"上传进度: ").concat(a,"%"))},handleSuccess:function(e,t){var a=this,n={"视频":"video","音频":"audio","演讲稿":"word",PPT:"ppt"}[t];this.uploadProgress[n]=0,this.uploadStatus[n]=!0;var s=Array.from(this.requiredFiles).every((function(e){return a.uploadStatus[e]}));s?(this.submissionStatus="submitted",this.$message.success(this.isSubmitted?"文件重新提交成功":"所有文件已上传成功，系统正在评分中"),this.isSubmitted=!0,this.fetchSubmissionStatus()):this.$message.success("".concat(t,"上传成功"))},handleError:function(e,t){var a=p[t.toLowerCase()];console.error("".concat(a.type,"上传错误:"),{error:e,fileType:t,parameterName:a.nameParam,errorMessage:e.message||"未知错误"}),this.uploadStatus[t.toLowerCase()]=!1,this.$notify({title:"错误",message:"".concat(a.type,"上传失败: ").concat(e.message||"请检查文件格式和大小"),type:"error",duration:5e3})},handleAudioError:function(e){console.error("音频加载错误:",e),this.$message.error("音频加载失败，请检查文件格式是否正确")},handleGradingCompleted:function(){this.submissionStatus="completed",this.$message.success("评分完成，成绩已更新")},formatTime:function(e){if(!e)return"暂无记录";var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0")," ").concat(String(t.getHours()).padStart(2,"0"),":").concat(String(t.getMinutes()).padStart(2,"0"),":").concat(String(t.getSeconds()).padStart(2,"0"))},handleDialogClose:function(){this.confirmDialogVisible=!1,this.currentFile=null,this.currentFileType=null},getFileIcon:function(e){var t={video:"el-icon-video-camera",audio:"el-icon-headset",word:"el-icon-document",ppt:"el-icon-picture"};return t[e]||"el-icon-document"}},created:function(){console.log("this.isSubmitted",this.isSubmitted),this.fetchTaskDetails(),this.fetchSubmissionStatus(),this.deadlineTimer=setInterval(this.updateRemainingTime,6e4),console.log("Route params:",{taskId:this.taskId,submitId:this.submitId,fileNames:this.fileNames,parsed:this.parsedFileNames})},beforeDestroy:function(){this.deadlineTimer&&clearInterval(this.deadlineTimer)}}},e0df:function(e,t,a){"use strict";a.r(t);var n=a("6b46"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},e107:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar-logo-container",class:{collapse:e.collapse},style:{backgroundColor:"theme-dark"===e.sideTheme?e.variables.menuBackground:e.variables.menuLightBackground}},[a("transition",{attrs:{name:"sidebarLogoFade"}},[e.collapse?a("router-link",{key:"collapse",staticClass:"sidebar-logo-link",attrs:{to:"/"}},[e.logo?a("img",{staticClass:"sidebar-logo",attrs:{src:e.logo}}):e._e()]):a("router-link",{key:"expand",staticClass:"sidebar-logo-link",attrs:{to:"/"}},[e.logo?a("img",{staticClass:"sidebar-logo",attrs:{src:e.logo}}):e._e()])],1)],1)},s=[]},e1ef:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.getEvaluationByTaskIdAndStuId=f,t.getInfoById=o,t.getSubmissionsByStuId=i,t.getTaskInfoById=r,t.uploadAudioTask=c,t.uploadPPTTask=d,t.uploadVideoTask=l,t.uploadWordTask=u;var s=n(a("b775"));function i(e){return(0,s.default)({url:"/task/getSubmissionsByStuId",method:"get",params:{studentId:e}})}function r(e){return(0,s.default)({url:"/task/getTaskInfoById",method:"get",params:{taskId:e}})}function o(e){return(0,s.default)({url:"/member/getInfoById?userId=".concat(e),method:"get"})}function l(e){return(0,s.default)({url:"/file/uploadVideoTask",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function c(e){return(0,s.default)({url:"/file/uploadAudioTask",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function u(e){return(0,s.default)({url:"/file/uploadWordTask",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function d(e){return(0,s.default)({url:"/file/uploadPPTTask",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function f(e,t){return(0,s.default)({url:"/task/getEvaluationByTaskIdAndStuId",method:"get",params:{taskId:e,stuId:t}})}},e218:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-color",use:"icon-color-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-color"><defs><style type="text/css"></style></defs><path d="M747.59340925 691.12859384c11.51396329 0.25305413 22.43746719-0.21087818 40.74171707-1.51832482 29.35428085-2.10878421 35.84933734-2.36183835 46.47761114-0.8856895 24.71495444 3.37405491 41.12129828 21.76265671 32.47528161 47.95376084-85.57447632 258.19957947-442.00123984 249.76444099-628.67084683 50.73735554-153.47733892-159.33976008-153.09775772-414.41833795 0.92786545-573.42069196 159.71934128-162.67163983 424.03439521-166.59397897 565.78689185 0.63263534 80.38686649 94.81095318 108.34934958 169.16669549 89.11723508 230.57450162-15.01454608 47.99593598-50.61082928 77.68762207-119.77896259 114.63352789-4.89237973 2.65706845-29.35428085 15.52065436-35.84933652 19.02123633-46.94154346 25.30541465-63.51659033 41.20565021-62.20914449 58.45550757 2.95229856 39.13904114 24.16667102 52.7196135 70.98168823 53.81618115z m44.41100207 50.10472101c-19.82257471 1.43397372-32.05352527 1.940082-45.63409763 1.6448519-70.34905207-1.60267593-115.98314969-30.91478165-121.38163769-101.64341492-3.45840683-46.05585397 24.7571304-73.13264758 89.24376132-107.96976837 6.7902866-3.66928501 31.37871396-16.57504688 36.06021551-19.06341229 57.69634516-30.83042972 85.15271997-53.73183005 94.76877722-84.47790866 12.77923398-40.78389304-9.10994898-98.94417051-79.24812286-181.6507002-121.17075953-142.97559219-350.14258521-139.60153647-489.2380134 2.06660824-134.49827774 138.84237405-134.79350784 362.12048163-0.42175717 501.637667 158.53842169 168.99799328 451.9968783 181.18676788 534.57688175-11.80919339-4.68150156 0.2952301-10.71262573 0.67481131-18.72600705 1.26527069z" p-id="2509" /><path d="M346.03865637 637.18588562a78.82636652 78.82636652 0 0 0 78.32025825-79.29029883c0-43.69401562-35.005823-79.29029883-78.32025825-79.29029882a78.82636652 78.82636652 0 0 0-78.36243338 79.29029882c0 43.69401562 35.005823 79.29029883 78.36243338 79.29029883z m0-51.7495729a27.07679361 27.07679361 0 0 1-26.5706845-27.54072593c0-15.30977536 11.97789643-27.54072593 26.5706845-27.54072592 14.55061295 0 26.57068533 12.23095057 26.57068533 27.54072592a27.07679361 27.07679361 0 0 1-26.57068533 27.54072593zM475.7289063 807.11174353a78.82636652 78.82636652 0 0 0 78.3624334-79.29029882c0-43.69401562-34.96364785-79.29029883-78.32025825-79.29029883a78.82636652 78.82636652 0 0 0-78.32025742 79.29029883c0 43.69401562 34.96364785 79.29029883 78.32025742 79.29029882z m0-51.74957208a27.07679361 27.07679361 0 0 1-26.57068532-27.54072674c0-15.30977536 12.06224753-27.54072593 26.57068532-27.54072593 14.59278892 0 26.57068533 12.23095057 26.57068453 27.54072593a27.07679361 27.07679361 0 0 1-26.57068453 27.54072674zM601.24376214 377.21492718a78.82636652 78.82636652 0 0 0 78.32025742-79.29029883c0-43.69401562-34.96364785-79.29029883-78.32025742-79.29029882a78.82636652 78.82636652 0 0 0-78.32025823 79.29029883c0 43.69401562 34.96364785 79.29029883 78.32025824 79.29029883z m1e-8-51.74957208a27.07679361 27.07679361 0 0 1-26.57068534-27.54072675c0-15.30977536 11.97789643-27.54072593 26.57068534-27.54072591 14.55061295 0 26.57068533 12.23095057 26.57068451 27.54072592a27.07679361 27.07679361 0 0 1-26.57068451 27.54072674zM378.80916809 433.85687983a78.82636652 78.82636652 0 0 0 78.32025824-79.29029883c0-43.69401562-34.96364785-79.29029883-78.32025824-79.29029802a78.82636652 78.82636652 0 0 0-78.32025742 79.29029802c0 43.69401562 34.96364785 79.29029883 78.32025742 79.29029883z m0-51.74957209a27.07679361 27.07679361 0 0 1-26.57068451-27.54072674c0-15.30977536 11.97789643-27.54072593 26.57068451-27.54072593 14.55061295 0 26.57068533 12.23095057 26.57068533 27.54072593a27.07679361 27.07679361 0 0 1-26.57068533 27.54072674z" p-id="2510" /></symbol>'});r.a.add(o);t["default"]=o},e2f4:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"assign-task-container"},[a("div",{staticClass:"header-section"},[a("el-row",{attrs:{gutter:20,type:"flex",align:"middle"}},[a("el-col",{attrs:{span:6}},[a("el-select",{staticClass:"full-width",attrs:{placeholder:"请选择班级"},on:{change:e.handleClassChange},model:{value:e.selectedClassId,callback:function(t){e.selectedClassId=t},expression:" selectedClassId"}},e._l(e.classList,(function(e){return a("el-option",{key:e.classId,attrs:{label:e.className,value:e.classId}})})),1)],1),a("el-col",{attrs:{span:18}},[a("el-form",{staticClass:"search-form",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"学生姓名",clearable:""},on:{input:e.handleSearch,clear:e.handleSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch(t)}},scopedSlots:e._u([{key:"prefix",fn:function(){return[a("i",{staticClass:"el-icon-user"})]},proxy:!0}]),model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"学号",clearable:""},on:{input:e.handleSearch,clear:e.handleSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch(t)}},scopedSlots:e._u([{key:"prefix",fn:function(){return[a("i",{staticClass:"el-icon-notebook-2"})]},proxy:!0}]),model:{value:e.searchForm.studentId,callback:function(t){e.$set(e.searchForm,"studentId",t)},expression:"searchForm.studentId"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")]),a("el-button",{on:{click:e.resetSearch}},[e._v("重置")])],1)],1)],1)],1)],1),a("div",{staticClass:"table-section"},[a("div",{staticClass:"table-header"},[a("span",[e._v("学生列表（共 "+e._s(e.total)+" 人）")]),a("el-button",{attrs:{type:"primary",disabled:!e.selectedStudents.length},on:{click:e.handleAssign}},[e._v(" 批量分配作业 ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"studentTable",attrs:{data:e.studentList,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",selectable:e.isSelectable}}),a("el-table-column",{attrs:{prop:"studentId",label:"学号",width:"120",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120",align:"center"}}),a("el-table-column",{attrs:{prop:"className",label:"班级",width:"120",align:"center"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱","min-width":"200",align:"center"}}),a("el-table-column",{attrs:{prop:"assignStatus",label:"分配状态",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-tag",{attrs:{type:n.isAssigned?"success":"info"}},[e._v(" "+e._s(n.isAssigned?"已分配":"未分配")+" ")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button",{attrs:{type:"text",disabled:n.isAssigned},on:{click:function(t){return e.handleSingleAssign(n)}}},[e._v(" "+e._s(n.isAssigned?"已分配":"分配作业")+" ")])]}}])})],1),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":e.pageSize,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},s=[]},e3e9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"RuoYiGit",data:function(){return{url:"https://gitee.com/y_project/RuoYi-Vue"}},methods:{goto:function(){window.open(this.url)}}}},e3ff:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-excel",use:"icon-excel-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-excel"><path d="M78.208 16.576v8.384h38.72v5.376h-38.72v8.704h38.72v5.376h-38.72v8.576h38.72v5.376h-38.72v8.576h38.72v5.376h-38.72v8.576h38.72v5.376h-38.72v8.512h38.72v5.376h-38.72v11.136H128v-94.72H78.208zM0 114.368L72.128 128V0L0 13.632v100.736z" /><path d="M28.672 82.56h-11.2l14.784-23.488-14.08-22.592h11.52l8.192 14.976 8.448-14.976h11.136l-14.08 22.208L58.368 82.56H46.656l-8.768-15.68z" /></symbol>'});r.a.add(o);t["default"]=o},e424:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.deleteTeacherTask=i,t.getAllGradesByTaskId=c,t.getAllSubmitsByTaskId=l,t.getEvaluationByTaskIdAndStudId=o,t.getHomeworkData=r,a("99af");var s=n(a("b775"));function i(e){return(0,s.default)({url:"/task/deleteTask?taskId=".concat(e),method:"get"})}function r(e){return(0,s.default)({url:"/task/getTasksById",method:"get",params:{ownerId:e}})}function o(e,t){return(0,s.default)({url:"/task/getEvaluationByTaskIdAndStuId?taskId=".concat(e,"&stuId=").concat(t),method:"get"})}function l(e,t,a){return(0,s.default)({url:"/task/getAllSubmitsByTaskId",method:"get",params:{taskId:e,page:t,pageSize:a}})}function c(e,t,a){return(0,s.default)({url:"/task/getAllGradesByTaskId",method:"get",params:{taskId:e,page:t,pageSize:a}})}},e461:function(e,t,a){"use strict";a("4b38")},e570:function(e,t,a){},e5ab:function(e,t,a){"use strict";a.r(t);var n=a("5b2e"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},e620:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("7ec2")),i=n(a("c973")),r=n(a("7037"));a("d9e2"),a("99af"),a("caad"),a("14d9"),a("d3b7"),a("2532");t.default={name:"Index",data:function(){return{features:[{id:1,title:"演讲稿智能写作与评价",description:"依托先进大语言模型技术，为演讲稿写作提供一键评价、整体润色、智能续写、多语翻译等服务",icon:a("8378"),iconTextEn:"Self Practice",iconTextCn:"自我训练"},{id:2,title:"演讲视频智能评价",description:"依托多模态学习分析技术，为演讲视频提供演讲者姿态、语音语调和情感表现等方面的智能评价",icon:a("8032"),iconTextEn:"Anxiety Detection",iconTextCn:"焦虑检测"},{id:3,title:"公众演讲多模态教学与智能评价",description:"全面支撑教师、学生公众演讲的教与学，围绕演讲视频、音频、演讲稿、PPT等多模态数据，提供全面测评报告",icon:a("c650"),iconTextEn:"Visual Analysis",iconTextCn:"可视化分析"},{id:4,title:"英语语音智能评价",description:"基于语音识别与分析技术，精准评估发音、语调及流利度，助力提升口语表达能力",icon:a("94a8"),iconTextEn:"Multidimensional Ability",iconTextCn:"多维测试"}],stats:[{id:1,number:"600+",label:"学习者"},{id:2,number:"40,000+",label:"演讲片段"},{id:3,number:"600+",label:"活跃用户"},{id:4,number:"100h+",label:"演讲时长"},{id:5,number:"20+",label:"高校高中共建共享"}]}},methods:{handleFeatureClick:function(e){if(1===e)this.$router.push("/homeworkTrial/chat/index");else if(2===e)this.$router.push("/homeworkTrial/video/index");else if(3===e){var t=this.$store.getters.roles;if(console.log("用户角色信息:",t),!t||Array.isArray(t)&&0===t.length)return void this.$message.warning("请先登录以访问此功能");var a=null;if(Array.isArray(t)&&"string"===typeof t[0])a=t.includes("admin")?1:2;else if(Array.isArray(t)&&"object"===(0,r.default)(t[0])){var n=t[0];n.roleId?a=n.roleId:n.id?a=n.id:n.value&&(a=n.value)}else"object"!==(0,r.default)(t)||Array.isArray(t)||(t.roleId?a=t.roleId:t.id?a=t.id:t.value&&(a=t.value));console.log("解析得到的角色ID:",a),1===a||t.includes("admin")?this.$router.push("/homeworkManage/index"):this.$router.push("/myTask/myEvaluation/index")}else 4===e&&this.$router.push("/homeworkTrial/audio/index")},processVideo:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){var a;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.videoRunning){t.next=2;break}return t.abrupt("return");case 2:if(a=e.$refs.inputVideo,t.prev=3,!(a.readyState>=2)){t.next=10;break}return t.next=7,e.holistic.send({image:a});case 7:e.videoRunning&&requestAnimationFrame(e.processVideo),t.next=11;break;case 10:setTimeout((function(){return e.processVideo()}),100);case 11:t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](3),console.error("处理视频帧时出错:",t.t0),e.videoRunning&&requestAnimationFrame(e.processVideo);case 17:case"end":return t.stop()}}),t,null,[[3,13]])})))()},initializeHolistic:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){var a;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=function(){var e=(0,i.default)((0,s.default)().mark((function e(t){var a,n,i,r=arguments;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=r.length>1&&void 0!==r[1]?r[1]:3,n=0;case 2:if(!(n<a)){e.next=20;break}return e.prev=3,e.next=6,fetch(t);case 6:if(i=e.sent,!i.ok){e.next=9;break}return e.abrupt("return",i);case 9:console.warn("加载WASM文件失败，正在重试(".concat(n+1,"/").concat(a,")...")),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](3),console.error("WASM加载失败:",e.t0);case 15:return e.next=17,new Promise((function(e){return setTimeout(e,1e3)}));case 17:n++,e.next=2;break;case 20:throw new Error("无法加载WASM文件: ".concat(t));case 21:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),t.next=4,a("".concat("/","mediapipe/holistic_solution_simd_wasm_bin.wasm"));case 4:return e.holistic=new Holistic({locateFile:function(e){return"".concat("/","mediapipe/").concat(e)}}),t.next=7,e.holistic.setOptions({modelComplexity:0,smoothLandmarks:!0,enableSegmentation:!1,refineFaceLandmarks:!1,minDetectionConfidence:.5,minTrackingConfidence:.5});case 7:t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error("初始化 MediaPipe 失败:",t.t0),e.error="初始化失败，请尝试使用较小的视频文件";case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},handleVideoUpload:function(e){var t=e.target.files[0];t&&t.size>104857600&&(this.error="视频文件过大，请上传小于100MB的视频")}}}},e66c:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition-group",{attrs:{name:"fade-transform",mode:"out-in"}},e._l(e.iframeViews,(function(t,n){return a("inner-link",{directives:[{name:"show",rawName:"v-show",value:e.$route.path===t.path,expression:"$route.path === item.path"}],key:t.path,attrs:{iframeId:"iframe"+n,src:e.iframeUrl(t.meta.link,t.query)}})})),1)},s=[]},e6e9:function(e,t,a){"use strict";a.r(t);var n=a("e2f4"),s=a("d6f2");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("a028");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"28a80b3c",null);t["default"]=o.exports},e763:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pdf-container"},[e.pdfUrl?a("iframe",{staticClass:"pdf-viewer",attrs:{src:e.pdfUrl,type:"application/pdf"}}):e._e()])},s=[]},e7d6:function(e,t,a){},e82a:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-job",use:"icon-job-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-job"><defs><style type="text/css"></style></defs><path d="M934.912 1016.832H192c-14.336 0-25.6-11.264-25.6-25.6v-189.44c0-14.336 11.264-25.6 25.6-25.6s25.6 11.264 25.6 25.6v163.84h691.712V64H217.6v148.48c0 14.336-11.264 25.6-25.6 25.6s-25.6-11.264-25.6-25.6v-174.08c0-14.336 11.264-25.6 25.6-25.6h742.912c14.336 0 25.6 11.264 25.6 25.6v952.832c0 14.336-11.264 25.6-25.6 25.6z" p-id="5473" /><path d="M232.96 371.2h-117.76c-14.336 0-25.6-11.264-25.6-25.6s11.264-25.6 25.6-25.6h117.76c14.336 0 25.6 11.264 25.6 25.6s-11.264 25.6-25.6 25.6zM232.96 540.16h-117.76c-14.336 0-25.6-11.264-25.6-25.6s11.264-25.6 25.6-25.6h117.76c14.336 0 25.6 11.264 25.6 25.6s-11.264 25.6-25.6 25.6zM232.96 698.88h-117.76c-14.336 0-25.6-11.264-25.6-25.6s11.264-25.6 25.6-25.6h117.76c14.336 0 25.6 11.264 25.6 25.6s-11.264 25.6-25.6 25.6zM574.464 762.88c-134.144 0-243.2-109.056-243.2-243.2S440.32 276.48 574.464 276.48s243.2 109.056 243.2 243.2-109.056 243.2-243.2 243.2z m0-435.2c-105.984 0-192 86.016-192 192S468.48 711.68 574.464 711.68s192-86.016 192-192S680.448 327.68 574.464 327.68z" p-id="5474" /><path d="M663.04 545.28h-87.04c-14.336 0-25.6-11.264-25.6-25.6s11.264-25.6 25.6-25.6h87.04c14.336 0 25.6 11.264 25.6 25.6s-11.264 25.6-25.6 25.6z" p-id="5475" /><path d="M576 545.28c-14.336 0-25.6-11.264-25.6-25.6v-87.04c0-14.336 11.264-25.6 25.6-25.6s25.6 11.264 25.6 25.6v87.04c0 14.336-11.264 25.6-25.6 25.6z" p-id="5476" /></symbol>'});r.a.add(o);t["default"]=o},e83a:function(e,t,a){"use strict";a("52be")},e861:function(e,t,a){},e886:function(e,t,a){"use strict";a.r(t);var n=a("b3ad"),s=a("777e");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("ee75");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"243c7c0f",null);t["default"]=o.exports},e89b:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("4de4"),a("caad"),a("fb6a"),a("b0c0"),a("d3b7"),a("25f0"),a("2532"),a("0643"),a("2382");t.default={name:"SelfEvaluation",props:{taskId:{type:String,required:!0},activeTab:{type:String,required:!0},assignedStudents:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{nameQuery:"",stuIndexQuery:"",filteredMembers:[],paginatedMembers:[],currentPage:1,pageSize:10}},watch:{assignedStudents:{handler:function(e){this.handleSearch()},immediate:!0},activeTab:{handler:function(e){"self"===e&&this.handleSearch()}}},methods:{handleSearch:function(){var e=this;this.filteredMembers=this.assignedStudents.filter((function(t){var a=!e.nameQuery||t.name&&t.name.toLowerCase().includes(e.nameQuery.toLowerCase()),n=!e.stuIndexQuery||t.studentId&&t.studentId.toString().includes(e.stuIndexQuery);return a&&n})),this.updatePagination()},handleSizeChange:function(e){this.pageSize=e,this.updatePagination()},handleCurrentChange:function(e){this.currentPage=e,this.updatePagination()},updatePagination:function(){var e=(this.currentPage-1)*this.pageSize,t=e+this.pageSize;this.paginatedMembers=this.filteredMembers.slice(e,t)}}}},ea3a:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-绩效设置汇总",use:"icon-绩效设置汇总-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-绩效设置汇总"><path d="M962.636704 0.639201c33.238452 0 60.084894 26.207241 60.084894 58.167291v199.430711c0 31.96005-26.846442 58.167291-60.084894 58.167291s-60.084894-26.207241-60.084894-58.167291v-58.806491l-202.626716 169.388264a239.956055 239.956055 0 0 1-310.651686 1.917603c-47.300874-40.908864-117.612984-38.35206-161.717852 5.113608l-127.8402 122.087391a56.888889 56.888889 0 0 1-40.908864 15.980025c-24.289638 0-45.383271-14.701623-54.332085-37.073658s-3.196005-47.300874 14.062422-63.9201l127.200999-121.44819a237.01573 237.01573 0 0 1 320.2397-10.866417c45.383271 38.991261 112.499376 38.35206 157.243446-0.639201l194.956304-163.635455h-62.641697c-33.238452 0-60.084894-26.207241-60.084894-58.167291s26.846442-58.167291 60.084894-58.167291h207.101123zM531.815231 511.360799c54.332085 0 81.817728 26.207241 81.817728 78.621723v354.756554c0 52.414482-27.485643 78.621723-81.817728 78.621723H449.997503c-54.332085 0-81.817728-26.207241-81.817728-78.621723V589.982522c0-52.414482 27.485643-78.621723 81.817728-78.621723h81.817728z m368.179775-78.621723c54.332085 0 81.817728 24.928839 81.817728 74.147316v442.966292c0 49.218477-27.485643 74.147316-81.817728 74.147316H818.177278c-54.332085 0-81.817728-24.928839-81.817727-74.147316V506.247191c0-49.218477 27.485643-74.147316 81.817727-74.147316h81.817728zM204.54432 668.604245c54.332085 0 81.817728 26.207241 81.817727 78.621723v196.873907c0 53.053683-27.485643 79.260924-81.817727 79.260924H122.726592c-54.332085 0-81.817728-26.207241-81.817728-78.621723v-196.873907c0-52.414482 27.485643-78.621723 81.817728-78.621723H204.54432z" p-id="1272" /></symbol>'});r.a.add(o);t["default"]=o},eae1:function(e,t,a){"use strict";a.r(t);var n=a("9041"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},eb48:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-breadcrumb",{staticClass:"app-breadcrumb",attrs:{separator:"/"}},[a("transition-group",{attrs:{name:"breadcrumb"}},e._l(e.levelList,(function(t,n){return a("el-breadcrumb-item",{key:t.path},["noRedirect"===t.redirect||n==e.levelList.length-1?a("span",{staticClass:"no-redirect"},[e._v(e._s(t.meta.title))]):a("a",{on:{click:function(a){return a.preventDefault(),e.handleLink(t)}}},[e._v(e._s(t.meta.title))])])})),1)],1)},s=[]},ebad:function(e,t,a){e.exports=a.p+"static/img/loginbackground.ac135e5a.jpg"},ec55:function(e,t,a){"use strict";a.r(t);var n=a("7ae7"),s=a("8c30");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("318f");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"f2e02586",null);t["default"]=o.exports},ed00:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-documentation",use:"icon-documentation-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-documentation"><path d="M71.984 44.815H115.9L71.984 9.642v35.173zM16.094.05h63.875l47.906 38.37v76.74c0 3.392-1.682 6.645-4.677 9.044-2.995 2.399-7.056 3.746-11.292 3.746H16.094c-4.236 0-8.297-1.347-11.292-3.746-2.995-2.399-4.677-5.652-4.677-9.044V12.84C.125 5.742 7.23.05 16.094.05zm71.86 102.32V89.58h-71.86v12.79h71.86zm23.952-25.58V64H16.094v12.79h95.812z" /></symbol>'});r.a.add(o);t["default"]=o},ed08:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addClass=x,t.beautifierConf=void 0,t.byteLength=c,t.camelCase=T,t.cleanArray=u,t.createUniqueString=y,t.debounce=g,t.deepClone=b,t.exportDefault=void 0,t.formatDate=r,t.formatTime=o,t.getQueryObject=l,t.getTime=h,t.hasClass=C,t.html2Text=p,t.isNumberStr=I,t.makeMap=_,t.objectMerge=m,t.param=d,t.param2Obj=f,t.removeClass=k,t.titleCase=S,t.toggleClass=v,t.uniqueArr=w;var s=n(a("7037"));a("d9e2"),a("a630"),a("a15b"),a("d81d"),a("14d9"),a("fb6a"),a("b64b"),a("d3b7"),a("4d63"),a("c607"),a("ac1f"),a("2c3e"),a("00b4"),a("25f0"),a("6062"),a("1e70"),a("79a4"),a("c1a1"),a("8b00"),a("a4e7"),a("1e5a"),a("72c3"),a("3ca3"),a("466d"),a("5319"),a("0643"),a("4e3e"),a("a573"),a("159b"),a("ddb0");var i=a("c38a");function r(e){if(null==e||""==e)return"";var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,s=t.getDate()<10?"0"+t.getDate():t.getDate(),i=t.getHours()<10?"0"+t.getHours():t.getHours(),r=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),o=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return a+"-"+n+"-"+s+" "+i+":"+r+":"+o}function o(e,t){e=10===(""+e).length?1e3*parseInt(e):+e;var a=new Date(e),n=Date.now(),s=(n-a)/1e3;return s<30?"刚刚":s<3600?Math.ceil(s/60)+"分钟前":s<86400?Math.ceil(s/3600)+"小时前":s<172800?"1天前":t?(0,i.parseTime)(e,t):a.getMonth()+1+"月"+a.getDate()+"日"+a.getHours()+"时"+a.getMinutes()+"分"}function l(e){e=null==e?window.location.href:e;var t=e.substring(e.lastIndexOf("?")+1),a={},n=/([^?&=]+)=([^?&=]*)/g;return t.replace(n,(function(e,t,n){var s=decodeURIComponent(t),i=decodeURIComponent(n);return i=String(i),a[s]=i,e})),a}function c(e){for(var t=e.length,a=e.length-1;a>=0;a--){var n=e.charCodeAt(a);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&a--}return t}function u(e){for(var t=[],a=0;a<e.length;a++)e[a]&&t.push(e[a]);return t}function d(e){return e?u(Object.keys(e).map((function(t){return void 0===e[t]?"":encodeURIComponent(t)+"="+encodeURIComponent(e[t])}))).join("&"):""}function f(e){var t=decodeURIComponent(e.split("?")[1]).replace(/\+/g," ");if(!t)return{};var a={},n=t.split("&");return n.forEach((function(e){var t=e.indexOf("=");if(-1!==t){var n=e.substring(0,t),s=e.substring(t+1,e.length);a[n]=s}})),a}function p(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText}function m(e,t){return"object"!==(0,s.default)(e)&&(e={}),Array.isArray(t)?t.slice():(Object.keys(t).forEach((function(a){var n=t[a];"object"===(0,s.default)(n)?e[a]=m(e[a],n):e[a]=n})),e)}function v(e,t){if(e&&t){var a=e.className,n=a.indexOf(t);-1===n?a+=""+t:a=a.substr(0,n)+a.substr(n+t.length),e.className=a}}function h(e){return"start"===e?(new Date).getTime()-7776e6:new Date((new Date).toDateString())}function g(e,t,a){var n,s,i,r,o,l=function(){var c=+new Date-r;c<t&&c>0?n=setTimeout(l,t-c):(n=null,a||(o=e.apply(i,s),n||(i=s=null)))};return function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];i=this,r=+new Date;var d=a&&!n;return n||(n=setTimeout(l,t)),d&&(o=e.apply(i,c),i=c=null),o}}function b(e){if(!e&&"object"!==(0,s.default)(e))throw new Error("error arguments","deepClone");var t=e.constructor===Array?[]:{};return Object.keys(e).forEach((function(a){e[a]&&"object"===(0,s.default)(e[a])?t[a]=b(e[a]):t[a]=e[a]})),t}function w(e){return Array.from(new Set(e))}function y(){var e=+new Date+"",t=parseInt(65536*(1+Math.random()))+"";return(+(t+e)).toString(32)}function C(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function x(e,t){C(e,t)||(e.className+=" "+t)}function k(e,t){if(C(e,t)){var a=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(a," ")}}function _(e,t){for(var a=Object.create(null),n=e.split(","),s=0;s<n.length;s++)a[n[s]]=!0;return t?function(e){return a[e.toLowerCase()]}:function(e){return a[e]}}t.exportDefault="export default ",t.beautifierConf={html:{indent_size:"2",indent_char:" ",max_preserve_newlines:"-1",preserve_newlines:!1,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"separate",brace_style:"end-expand",space_before_conditional:!0,unescape_strings:!1,jslint_happy:!1,end_with_newline:!0,wrap_line_length:"110",indent_inner_html:!0,comma_first:!1,e4x:!0,indent_empty_lines:!0},js:{indent_size:"2",indent_char:" ",max_preserve_newlines:"-1",preserve_newlines:!1,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"normal",brace_style:"end-expand",space_before_conditional:!0,unescape_strings:!1,jslint_happy:!0,end_with_newline:!0,wrap_line_length:"110",indent_inner_html:!0,comma_first:!1,e4x:!0,indent_empty_lines:!0}};function S(e){return e.replace(/( |^)[a-z]/g,(function(e){return e.toUpperCase()}))}function T(e){return e.replace(/_[a-z]/g,(function(e){return e.substr(-1).toUpperCase()}))}function I(e){return/^[+-]?(0|([1-9]\d*))(\.\d+)?$/g.test(e)}},ed45:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.addType=o,t.delType=c,t.getType=r,t.listType=i,t.optionselect=d,t.refreshCache=u,t.updateType=l;var s=n(a("b775"));function i(e){return(0,s.default)({url:"/system/dict/type/list",method:"get",params:e})}function r(e){return(0,s.default)({url:"/system/dict/type/"+e,method:"get"})}function o(e){return(0,s.default)({url:"/system/dict/type",method:"post",data:e})}function l(e){return(0,s.default)({url:"/system/dict/type",method:"put",data:e})}function c(e){return(0,s.default)({url:"/system/dict/type/"+e,method:"delete"})}function u(){return(0,s.default)({url:"/system/dict/type/refreshCache",method:"delete"})}function d(){return(0,s.default)({url:"/system/dict/type/optionselect",method:"get"})}},ed69:function(e,t,a){"use strict";a.r(t);var n=a("af83"),s=a("7b85");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},edba:function(e,t,a){"use strict";a.r(t);var n=a("0aa6"),s=a("a5a2");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("a16b");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"7885fdba",null);t["default"]=o.exports},ee46:function(e,t,a){"use strict";a.r(t);var n=a("4028"),s=a("1af0");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},ee75:function(e,t,a){"use strict";a("f8ea")},eed4:function(e,t,a){"use strict";a.r(t);var n=a("c8ed"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},eee0:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("7ec2")),i=n(a("c973")),r=n(a("ded3")),o=a("2f62"),l=n(a("6350")),c=n(a("74d0")),u=n(a("4f1e")),d=n(a("e886")),f=n(a("fe79")),p=n(a("144c")),m=n(a("40aa")),v=n(a("9dfb"));t.default={components:{Breadcrumb:l.default,TopNav:c.default,Hamburger:u.default,Screenfull:d.default,SizeSelect:f.default,Search:p.default,RuoYiGit:m.default,RuoYiDoc:v.default},computed:(0,r.default)((0,r.default)({},(0,o.mapGetters)(["sidebar","avatar","device"])),{},{setting:{get:function(){return this.$store.state.settings.showSettings},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"showSettings",value:e})}},topNav:{get:function(){return this.$store.state.settings.topNav}}}),methods:{toggleSideBar:function(){this.$store.dispatch("app/toggleSideBar")},logout:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$confirm("确定注销并退出系统吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$store.dispatch("FedLogOut").then((function(){location.href="/index"}))})).catch((function(){}));case 1:case"end":return t.stop()}}),t)})))()}}}},ef2c:function(e,t,a){"use strict";a("29b1")},ef41:function(e,t,a){},efbc:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("278c")),i=n(a("7ec2")),r=n(a("c973")),o=n(a("ded3"));a("99af"),a("4de4"),a("7db0"),a("a630"),a("d81d"),a("14d9"),a("b0c0"),a("4ec9"),a("a9e3"),a("b680"),a("d3b7"),a("6062"),a("1e70"),a("79a4"),a("c1a1"),a("8b00"),a("a4e7"),a("1e5a"),a("72c3"),a("3ca3"),a("0643"),a("76d6"),a("2382"),a("fffc"),a("4e3e"),a("a573"),a("159b"),a("ddb0");var l=a("2f62"),c=a("5a2f"),u=a("e424");t.default={name:"ReviewTasks",data:function(){return{assignments:[],currentTaskType:"all",loading:!1,cache:new Map,requestQueue:[],maxConcurrent:3,running:0,cacheExpireTime:3e5,pendingRequests:new Map}},computed:(0,o.default)((0,o.default)({},(0,l.mapGetters)(["userId"])),{},{filteredAssignments:function(){var e=this;return"all"===this.currentTaskType?this.assignments:"completed"===this.currentTaskType?this.assignments.filter((function(t){return e.isTaskCompleted(t)})):this.assignments.filter((function(t){return t.type===e.currentTaskType}))},taskCounts:function(){var e=this,t={"自评":0,"师评":0,"互评":0};return this.assignments.forEach((function(a){e.isTaskCompleted(a)||(t[a.type]+=1)})),t},evaluationStatus:function(){return function(e,t){if(!e||!e.reviews)return{isCompleted:!1,score:null,hasScore:!1};var a=e["".concat(t,"Score")],n=e.reviews.find((function(e){return e.reviewContent===t}));return{isCompleted:(null===n||void 0===n?void 0:n.finished)||!1,score:a,hasScore:null!==a&&void 0!==a}}}}),methods:{getCache:function(e){var t=this.cache.get(e);return t?Date.now()>t.expireTime?(this.cache.delete(e),null):t.data:null},setCache:function(e,t){this.cache.set(e,{data:t,expireTime:Date.now()+this.cacheExpireTime})},enqueue:function(e,t){var a=this;return(0,r.default)((0,i.default)().mark((function n(){var s;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!a.pendingRequests.has(t)){n.next=2;break}return n.abrupt("return",a.pendingRequests.get(t));case 2:return s=new Promise((function(n,s){var o=function(){var o=(0,r.default)((0,i.default)().mark((function r(){var o;return(0,i.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,a.running++,i.next=4,e();case 4:return o=i.sent,n(o),i.abrupt("return",o);case 9:throw i.prev=9,i.t0=i["catch"](0),s(i.t0),i.t0;case 13:return i.prev=13,a.running--,a.pendingRequests.delete(t),a.processQueue(),i.finish(13);case 18:case"end":return i.stop()}}),r,null,[[0,9,13,18]])})));return function(){return o.apply(this,arguments)}}();a.running<a.maxConcurrent?o():a.requestQueue.push(o)})),a.pendingRequests.set(t,s),n.abrupt("return",s);case 5:case"end":return n.stop()}}),n)})))()},processQueue:function(){while(this.requestQueue.length>0&&this.running<this.maxConcurrent){var e=this.requestQueue.shift();e()}},fetchAssignments:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var a,n,l,d,f,p,m,v,h,g,b,w,y;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,t.next=6,(0,c.getReviewTaskByStuId)(e.userId);case 6:if(n=t.sent,l=n.data,null!==l&&void 0!==l&&null!==(a=l.rows)&&void 0!==a&&a.length){t.next=10;break}return t.abrupt("return");case 10:return d=new Set,f=new Set,l.rows.forEach((function(e){d.add(e.taskId),f.add(e.studentId)})),t.next=15,Promise.all([Promise.all(Array.from(d).map(function(){var t=(0,r.default)((0,i.default)().mark((function t(a){var n,s,r;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n="task_".concat(a),s=e.getCache(n),!s){t.next=4;break}return t.abrupt("return",s);case 4:return t.next=6,(0,c.getTaskInfoById)(a);case 6:return r=t.sent,r&&e.setCache(n,r),t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),(0,c.getStuByIds)({stuIds:Array.from(f),page:1,pageSize:f.size}),Promise.all(Array.from(d).map(function(){var t=(0,r.default)((0,i.default)().mark((function t(a){var n,s,r;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n="grades_".concat(a),s=e.getCache(n),!s){t.next=4;break}return t.abrupt("return",s);case 4:return t.next=6,(0,u.getAllGradesByTaskId)(a,1,999);case 6:return r=t.sent,r&&e.setCache(n,r),t.abrupt("return",{taskId:a,grades:r});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))]);case 15:p=t.sent,m=(0,s.default)(p,3),v=m[0],h=m[1],g=m[2],b=new Map(v.map((function(e){return[e.data.id,e.data]}))),w=new Map(g.map((function(e){var t=e.taskId,a=e.grades;return[t,a]}))),y=new Map(h.data.rows.map((function(e){return[e.userId,e]}))),e.assignments=l.rows.map((function(t){var a,n=b.get(t.taskId),s=y.get(t.studentId),i=w.get(t.taskId),r=null===i||void 0===i||null===(a=i.data)||void 0===a||null===(a=a.rows)||void 0===a?void 0:a.find((function(e){return e.studentId===t.studentId})),l=e.extractScores(r,t.reviewType);return(0,o.default)((0,o.default)({id:t.id,taskId:t.taskId,name:(null===n||void 0===n?void 0:n.taskName)||"",submitter:(null===s||void 0===s?void 0:s.nickName)||"",type:t.reviewType,weights:(null===n||void 0===n?void 0:n.weights)||[]},l),{},{reviews:t.reviews,reviewerId:t.reviewerId,studentId:t.studentId})})),t.next=30;break;case 26:t.prev=26,t.t0=t["catch"](3),console.error("获取任务失败:",t.t0),e.$message.error("获取任务失败");case 30:return t.prev=30,e.loading=!1,t.finish(30);case 33:case"end":return t.stop()}}),t,null,[[3,26,30,33]])})))()},extractScores:function(e,t){var a={"视频Score":null,"音频Score":null,"演讲稿Score":null,PPTScore:null};if(null===e||void 0===e||!e.evaluationTypes)return a;var n=e.evaluationTypes.find((function(e){return e.evaluationMethod===t}));return n?(n.evaluationContents.forEach((function(e){e.finished&&null!==e.grade&&(a["".concat(e.evaluationContent,"Score")]=e.grade)})),a):a},calculateTotalScore:function(e){var t=0,a=0;return["视频","音频","演讲稿","PPT"].forEach((function(n,s){var i=e["".concat(n,"Score")];if(null!==i&&void 0!==i){var r=e.weights[s]||25;t+=i*(r/100),a+=r/100}})),a>0?Number((t/a).toFixed(2)):"0.00"},isTaskCompleted:function(e){return e.reviews.every((function(e){return e.finished}))},handleMenuClick:function(e){this.currentTaskType=e},handleClick:function(e,t){console.log("Task Clicked:",e,t);var a="";switch(e){case"自评":a="/myEvaluation/selfReview";break;case"互评":a="/myEvaluation/mutualReview";break;case"师评":a="/myEvaluation/teacherReview";break;default:a="/myEvaluation/index"}console.log("Redirecting to:",a),console.log("Task Object:",t),this.$router.push({path:a,query:{taskId:t.taskId,homeworkTitle:t.name,submitter:t.submitter,currentProcess:t.type,reviewerId:t.reviewerId,studentId:t.studentId}})},getScoreTagType:function(e){return e?"success":"info"},formatScoreTag:function(e,t){return null!==t&&void 0!==t?"已评价 ".concat(e,"(").concat(t,"分)"):"未评价 ".concat(e)},beforeDestroy:function(){this.cache.clear(),this.requestQueue=[]}},created:function(){this.fetchAssignments()},beforeDestroy:function(){this.cache.clear(),this.requestQueue=[],this.pendingRequests.clear()},beforeRouteUpdate:function(e,t,a){(e.query.reload||e.params.reload)&&this.fetchAssignments(),a()}}},f00f:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("b311"));t.default={bind:function(e,t,a){switch(t.arg){case"success":e._vClipBoard_success=t.value;break;case"error":e._vClipBoard_error=t.value;break;default:var n=new s.default(e,{text:function(){return t.value},action:function(){return"cut"===t.arg?"cut":"copy"}});n.on("success",(function(t){var a=e._vClipBoard_success;a&&a(t)})),n.on("error",(function(t){var a=e._vClipBoard_error;a&&a(t)})),e._vClipBoard=n}},update:function(e,t){"success"===t.arg?e._vClipBoard_success=t.value:"error"===t.arg?e._vClipBoard_error=t.value:(e._vClipBoard.text=function(){return t.value},e._vClipBoard.action=function(){return"cut"===t.arg?"cut":"copy"})},unbind:function(e,t){e._vClipboard&&("success"===t.arg?delete e._vClipBoard_success:"error"===t.arg?delete e._vClipBoard_error:(e._vClipBoard.destroy(),delete e._vClipBoard))}}},f02e:function(e,t,a){"use strict";a.r(t);var n=a("fb2d"),s=a("a297");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("c63f");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"0046af20",null);t["default"]=o.exports},f081:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"homework-evaluation"},[a("el-row",{staticClass:"header-row"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"header"},[a("span",{staticClass:"info-text"},[e._v("题目："+e._s(e.taskDetails.taskName))]),a("span",{staticClass:"info-text"},[e._v("姓名："+e._s(e.taskDetails.ownerName))]),a("span",{staticClass:"info-text"},[e._v("评价流程：机评")]),a("span",{staticClass:"info-text"},[e._v("评分人：评估模型")])])])],1),a("el-tabs",{staticClass:"tabs-container",attrs:{type:"card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.submissionTypes,(function(t){return a("el-tab-pane",{key:t,attrs:{name:t,label:t}},["视频"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"first-row"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.video,expression:"loading.video"}],staticClass:"video-section"},[a("video",{ref:"videoElement",refInFor:!0,staticClass:"video-player",attrs:{controls:"",src:e.fileUrls.video},on:{error:function(t){return e.handleFileError("video")}}})]),a("div",{staticClass:"dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"emotion-score-container"},[a("div",{staticClass:"emotion-icon"},[a("svg",{staticClass:"emotion-svg",attrs:{viewBox:"0 0 100 100"}},[a("circle",{attrs:{cx:"50",cy:"50",r:"45",fill:e.getFaceColor}}),a("g",{staticClass:"eye left"},[a("circle",{staticClass:"eye-open",attrs:{cx:"35",cy:"40",r:"5",fill:"white"}}),a("line",{staticClass:"eye-closed",attrs:{x1:"30",y1:"40",x2:"40",y2:"40",stroke:"white","stroke-width":"3"}},[a("animate",{attrs:{attributeName:"opacity",values:"0;0;1;0;0",dur:"4s",repeatCount:"indefinite",begin:"0s;blink.end+3s",id:"blink"}})]),a("animate",{attrs:{attributeName:"transform",type:"translate",values:"0 0; 0 1; 0 0",dur:"2s",repeatCount:"indefinite",begin:"0s"}})]),a("g",{staticClass:"eye right"},[a("circle",{staticClass:"eye-open",attrs:{cx:"65",cy:"40",r:"5",fill:"white"}}),a("line",{staticClass:"eye-closed",attrs:{x1:"60",y1:"40",x2:"70",y2:"40",stroke:"white","stroke-width":"3"}},[a("animate",{attrs:{attributeName:"opacity",values:"0;0;1;0;0",dur:"4s",repeatCount:"indefinite",begin:"0s;blink.end+3s"}})]),a("animate",{attrs:{attributeName:"transform",type:"translate",values:"0 0; 0 1; 0 0",dur:"2s",repeatCount:"indefinite",begin:"0s"}})]),e.videoScore>=90?a("g",[a("path",{attrs:{d:"M 30 60 Q 50 80 70 60",stroke:"white","stroke-width":"4",fill:"none"}},[a("animate",{attrs:{attributeName:"d",values:"M 30 60 Q 50 80 70 60;M 30 60 Q 50 82 70 60;M 30 60 Q 50 80 70 60",dur:"3s",repeatCount:"indefinite"}})]),e.videoScore>=95?a("g",{staticClass:"stars"},[a("path",{attrs:{d:"M85,35 L87,40 L92,40 L88,44 L90,49 L85,46 L80,49 L82,44 L78,40 L83,40 Z",fill:"#FFD700"}},[a("animate",{attrs:{attributeName:"opacity",values:"0;1;0",dur:"2s",repeatCount:"indefinite"}})])]):e._e()]):e.videoScore>=80?a("path",{attrs:{d:"M 30 60 Q 50 75 70 60",stroke:"white","stroke-width":"4",fill:"none"}},[a("animate",{attrs:{attributeName:"d",values:"M 30 60 Q 50 75 70 60;M 30 60 Q 50 77 70 60;M 30 60 Q 50 75 70 60",dur:"3s",repeatCount:"indefinite"}})]):e.videoScore>=60?a("line",{attrs:{x1:"30",y1:"60",x2:"70",y2:"60",stroke:"white","stroke-width":"4"}},[a("animate",{attrs:{attributeName:"y1",values:"60;61;60",dur:"3s",repeatCount:"indefinite"}}),a("animate",{attrs:{attributeName:"y2",values:"60;61;60",dur:"3s",repeatCount:"indefinite"}})]):a("path",{attrs:{d:"M 30 70 Q 50 55 70 70",stroke:"white","stroke-width":"4",fill:"none"}},[a("animate",{attrs:{attributeName:"d",values:"M 30 70 Q 50 55 70 70;M 30 70 Q 50 53 70 70;M 30 70 Q 50 55 70 70",dur:"3s",repeatCount:"indefinite"}})])])]),a("div",{staticClass:"score-display"},[a("div",{staticClass:"score-number"},[e._v(e._s(e.videoScore)+"分")]),a("div",{staticClass:"score-text"},[e._v(e._s(e.getLevelText))])])])])],1)]),a("div",{staticClass:"second-row"},[a("div",{staticClass:"radar-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-data-analysis"}),a("span",[e._v("评价雷达图")])]),a("el-card",{staticClass:"radar-chart"},[a("div",{ref:"radarContainer-"+t,refInFor:!0,staticClass:"radar-container"})])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4",readonly:""},model:{value:e.comments.video,callback:function(t){e.$set(e.comments,"video",t)},expression:"comments.video"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("视频总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("video"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1)])],1)],1)])]):"音频"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"first-row"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.audio,expression:"loading.audio"}],staticClass:"audio-section"},[a("div",{staticClass:"audio-player-container"},[a("div",{staticClass:"audio-bg"},[a("div",{staticClass:"music-icon",class:{"is-playing":e.isPlaying}},[a("i",{staticClass:"el-icon-headset"})]),a("div",{staticClass:"music-notes"},[a("i",{staticClass:"el-icon-music"}),a("i",{staticClass:"el-icon-bell"}),a("i",{staticClass:"el-icon-mic"})])]),a("audio",{directives:[{name:"show",rawName:"v-show",value:!e.loading.audio,expression:"!loading.audio"}],ref:"audioElement",refInFor:!0,staticClass:"audio-player",attrs:{controls:"",src:e.fileUrls.audio},on:{play:e.handlePlay,pause:e.handlePause,ended:e.handlePause,error:function(t){return e.handleFileError("audio")}}})])]),a("div",{staticClass:"dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.audio||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",{staticClass:"dimension-title"},[e._v(e._s(t)+":")]),a("span",{staticClass:"score-text"},[e._v(e._s((2*e.ratings.audio[n][s]).toFixed(1))+"分")])])})),0)})),0)])],1)]),a("div",{staticClass:"second-row"},[a("div",{staticClass:"audio-comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-chat-line-square"}),a("span",[e._v("发音准确度")])]),a("el-card",{staticClass:"comment-visualization-card"},[a("div",{staticClass:"audio-comment-container"},[a("div",{staticClass:"audio-comment-visualization"},[e.comments.audio?e._l(e.parseAudioComment(e.comments.audio),(function(t){return a("span",{key:t.position,staticClass:"audio-word",style:{color:e.getColorByScore(t.score),fontSize:"16px",fontWeight:"bold"}},[e._v(" "+e._s(t.text)+" ")])})):e._e()],2)])])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"",rows:"4",readonly:""}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("音频总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("audio"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1)])],1)],1)])]):"PPT"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"left-section"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.ppt,expression:"loading.ppt"}],staticClass:"ppt-document-section"},[e.pdfData?a("pdf-viewer",{staticClass:"pdf-viewer",attrs:{"pdf-data":e.pdfData}}):e._e()],1)]),a("div",{staticClass:"right-section"},[a("div",{staticClass:"ppt-dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.ppt||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},e._l(e.ratings.ppt[0]||[],(function(n,s){return a("div",{key:s,staticClass:"info-item"},[a("span",{staticClass:"dimension-title"},[e._v(e._s(t.evaluationInfos[s]))]),a("el-rate",{attrs:{max:10,disabled:"","show-score":"","text-color":"#ff9900"},model:{value:e.ratings.ppt[0][s],callback:function(t){e.$set(e.ratings.ppt[0],s,t)},expression:"ratings.ppt[0][index]"}})],1)})),0)})),0)])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",rows:"4",readonly:""},model:{value:e.comments.ppt,callback:function(t){e.$set(e.comments,"ppt",t)},expression:"comments.ppt"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("PPT总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.totalScores.ppt,readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1)])],1)],1)])])]):"演讲稿"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"left-section"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.word||e.convertLoading,expression:"loading.word || convertLoading"}],staticClass:"word-document-section",attrs:{"element-loading-text":"正在转换文档..."}},[e.wordContent?a("div",{staticClass:"word-content"},[a("div",{domProps:{innerHTML:e._s(e.wordContent)}})]):e.loading.word||e.convertLoading?e._e():a("div",{staticClass:"preview-placeholder"},[a("i",{staticClass:"el-icon-document"}),a("p",[e._v("Word 文档加载失败")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.loadFiles}},[e._v(" 重试 ")])],1)])]),a("div",{staticClass:"right-section"},[a("div",{staticClass:"word-dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.word||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",{staticClass:"dimension-title"},[e._v(e._s(t)+":")]),a("span",{staticClass:"score-text"},[e._v(e._s(2*e.ratings.word[n][s])+"分")])])})),0)})),0)])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4",readonly:""},model:{value:e.comments.word,callback:function(t){e.$set(e.comments,"word",t)},expression:"comments.word"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("演讲稿总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("word"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1)])],1)],1)])])]):e._e()])})),1)],1)},s=[]},f092:function(e,t,a){"use strict";a.r(t);var n=a("b1d2"),s=a("ba17");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("e461");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"26babded",null);t["default"]=o.exports},f0a2:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("6374")),i=n(a("448a")),r=n(a("7ec2")),o=n(a("c973"));a("99af"),a("4de4"),a("7db0"),a("caad"),a("d81d"),a("14d9"),a("fb6a"),a("4ec9"),a("d3b7"),a("07ac"),a("ac1f"),a("6062"),a("1e70"),a("79a4"),a("c1a1"),a("8b00"),a("a4e7"),a("1e5a"),a("72c3"),a("2532"),a("3ca3"),a("5319"),a("0643"),a("2382"),a("fffc"),a("4e3e"),a("a573"),a("159b"),a("ddb0");var l=a("e424"),c=a("c0c7");t.default={data:function(){return{assignment:{id:"",name:"",deadline:"",taskRequirements:"",contentTypes:[],fileList:[],weights:[]},activeTab:"assigned",students:[],showScoreDialog:!1,selectedStudent:null,assignedStudents:[],assignedCurrentPage:1,selfEvaluations:[],machineEvaluations:[],peerEvaluations:[],teacherEvaluations:[],selfCurrentPage:1,machineCurrentPage:1,peerCurrentPage:1,teacherCurrentPage:1,evaluationResults:[],totalStudents:0,userInfoMap:new Map,evaluationMethods:[],showTabs:{self:!1,machine:!1,peer:!1,teacher:!1}}},computed:{descriptionLength:function(){return this.assignment.taskRequirements?this.assignment.taskRequirements.length:0},pagedAssignedStudents:function(){return this.paginate(this.students,this.assignedCurrentPage)},pagedSelfEvaluations:function(){return this.paginate(this.selfEvaluations,this.selfCurrentPage)},pagedMachineEvaluations:function(){return this.paginate(this.machineEvaluations,this.machineCurrentPage)},pagedPeerEvaluations:function(){return this.paginate(this.peerEvaluations,this.peerCurrentPage)},pagedTeacherEvaluations:function(){return this.paginate(this.teacherEvaluations,this.teacherCurrentPage)}},created:function(){var e=this;return(0,o.default)((0,r.default)().mark((function t(){var a,n;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$route.params.ownerId,n=e.$route.params.assignmentId,t.next=4,e.fetchAssignmentDetails(n,a);case 4:case"end":return t.stop()}}),t)})))()},methods:{fetchAssignmentDetails:function(e,t){var a=this;return(0,o.default)((0,r.default)().mark((function n(){var s,o,u,d,f,p,m;return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,l.getHomeworkData)(t);case 3:if(s=n.sent,o=s.data.find((function(t){return t.id===e})),!o){n.next=30;break}return a.evaluationMethods=o.evaluationMethods||[],a.showTabs={self:a.evaluationMethods.includes("自评"),machine:a.evaluationMethods.includes("机评"),peer:a.evaluationMethods.includes("互评"),teacher:a.evaluationMethods.includes("师评")},u=o.taskRequirements,d=u.replace(/<[^>]*>/g,""),a.assignment={id:o.id,name:o.taskName,deadline:new Date(o.deadline),taskRequirements:d,contentTypes:o.submissionTypes||[],fileList:o.fileName?[o.fileName]:[],weights:o.weights},n.next=13,(0,l.getAllGradesByTaskId)(e,1,999);case 13:if(f=n.sent,1!==f.code||!f.data){n.next=30;break}if(p=new Set,o.assignedStudents.forEach((function(e){return p.add(e)})),o.mulAccessIds&&Object.values(o.mulAccessIds).forEach((function(e){return p.add(e)})),o.reviewTeachers&&o.reviewTeachers.forEach((function(e){return p.add(e)})),f.data.rows.forEach((function(e){e.evaluationTypes.forEach((function(e){e.reviewerId&&"机评"!==e.evaluationMethod&&p.add(e.reviewerId)}))})),!(p.size>0)){n.next=30;break}return n.next=23,(0,c.getUserProfiles)((0,i.default)(p));case 23:if(m=n.sent,!(m&&m.data&&m.data.rows)){n.next=30;break}return m.data.rows.forEach((function(e){a.userInfoMap.set(e.userId,e)})),a.students=o.assignedStudents.map((function(e){return a.userInfoMap.get(e)})).filter((function(e){return void 0!==e})),a.totalStudents=a.students.length,n.next=30,a.processEvaluationData(f.data.rows,o);case 30:n.next=36;break;case 32:n.prev=32,n.t0=n["catch"](0),console.error("Error fetching assignment details:",n.t0),a.$message.error("获取作业详情失败");case 36:case"end":return n.stop()}}),n,null,[[0,32]])})))()},processEvaluationData:function(e,t){var a=this;return(0,o.default)((0,r.default)().mark((function n(){var i,o,l,c,u,d,f,p,m,v,h,g;return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:a.selfEvaluations=[],a.machineEvaluations=[],a.peerEvaluations=[],a.teacherEvaluations=[],i=(0,s.default)(e),n.prev=5,i.s();case 7:if((o=i.n()).done){n.next=45;break}if(l=o.value,c=a.userInfoMap.get(l.studentId),c){n.next=12;break}return n.abrupt("continue",43);case 12:u=(0,s.default)(l.evaluationTypes),n.prev=13,u.s();case 15:if((d=u.n()).done){n.next=35;break}if(f=d.value,a.evaluationMethods.includes(f.evaluationMethod)){n.next=19;break}return n.abrupt("continue",33);case 19:p="无","机评"===f.evaluationMethod?p="机器":"师评"===f.evaluationMethod?(m=a.userInfoMap.get(t.reviewTeachers[0]),p=m?m.nickName:"未知"):"互评"===f.evaluationMethod?(v=t.mulAccessIds[c.userId],h=a.userInfoMap.get(v),p=h?h.nickName:"未知"):"自评"===f.evaluationMethod&&(p=c.nickName),g=a.calculateGrades(c,p,f,a.assignment.weights),n.t0=f.evaluationMethod,n.next="自评"===n.t0?25:"机评"===n.t0?27:"互评"===n.t0?29:"师评"===n.t0?31:33;break;case 25:return a.selfEvaluations.push(g),n.abrupt("break",33);case 27:return a.machineEvaluations.push(g),n.abrupt("break",33);case 29:return a.peerEvaluations.push(g),n.abrupt("break",33);case 31:return a.teacherEvaluations.push(g),n.abrupt("break",33);case 33:n.next=15;break;case 35:n.next=40;break;case 37:n.prev=37,n.t1=n["catch"](13),u.e(n.t1);case 40:return n.prev=40,u.f(),n.finish(40);case 43:n.next=7;break;case 45:n.next=50;break;case 47:n.prev=47,n.t2=n["catch"](5),i.e(n.t2);case 50:return n.prev=50,i.f(),n.finish(50);case 53:case"end":return n.stop()}}),n,null,[[5,47,50,53],[13,37,40,43]])})))()},calculateGrades:function(e,t,a,n){var s={method:a.evaluationMethod,nickName:e.nickName,userName:e.userName,mobile:e.mobile,reviewerName:t,audioGrade:null,pptGrade:null,scriptGrade:null,videoGrade:null,totalGrade:0};return a.evaluationContents.forEach((function(e){var t=e.grade||0;switch(e.evaluationContent){case"音频":s.audioGrade=t,s.totalGrade+=t*(n[0]/100);break;case"PPT":s.pptGrade=t,s.totalGrade+=t*(n[1]/100);break;case"演讲稿":s.scriptGrade=t,s.totalGrade+=t*(n[2]/100);break;case"视频":s.videoGrade=t,s.totalGrade+=t*(n[3]/100);break}})),s},handleInput:function(){},handlePreview:function(e){console.log("Previewing file:",e)},handleRemove:function(e,t){console.log("File removed:",e)},beforeUpload:function(e){var t=e.size/1024/1024<50;return t||this.$message.error("上传文件大小不能超过 50MB!"),t},paginate:function(e,t){var a=10,n=(t-1)*a,s=n+a;return e.slice(n,s)},handlePageChange:function(e,t){"assigned"===e&&(this.assignedCurrentPage=t),"self"===e&&(this.selfCurrentPage=t),"machine"===e&&(this.machineCurrentPage=t),"peer"===e&&(this.peerCurrentPage=t),"teacher"===e&&(this.teacherCurrentPage=t)},viewScore:function(e){this.selectedStudent=e,console.log("selectedStudent",this.selectedStudent),this.evaluationResults=[];var t=[].concat((0,i.default)(this.selfEvaluations),(0,i.default)(this.machineEvaluations),(0,i.default)(this.peerEvaluations),(0,i.default)(this.teacherEvaluations));this.evaluationResults=t.filter((function(t){return t.userName===e.userName})),this.showScoreDialog=!0}}}},f140:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.applyClass=o,t.getAllClasses=i,t.getApplicationsByClassId=c,t.getClassMembers=r,t.searchApplicationStatus=l;var s=n(a("b775"));function i(e){return(0,s.default)({url:"/class/getAllClasses",method:"get",params:e})}function r(e){return(0,s.default)({url:"/class/getMembers",method:"get",params:e})}function o(e){return(0,s.default)({url:"/class/applyClass",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function l(e){return(0,s.default)({url:"/class/searchApplicationStatus",method:"GET",params:{stuId:e.stuId}})}function c(e){return(0,s.default)({url:"/class/getApplicationsByClassId",method:"get",params:e})}},f190:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.approveApplications=u,t.createClass=i,t.deleteClass=o,t.getClassMembers=l,t.getClasses=r,t.listApplications=c;var s=n(a("b775"));function i(e){return(0,s.default)({url:"/class/createClass",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function r(e){return(0,s.default)({url:"/class/getClasses",method:"get",params:{teacherId:e}})}function o(e){return(0,s.default)({url:"/class/deleteClass",method:"get",params:{classId:e}})}function l(e){return(0,s.default)({url:"/class/getMembers",method:"get",params:e})}function c(e){return(0,s.default)({url:"/class/listApplication",method:"get",params:e})}function u(e){return(0,s.default)({url:"/class/approveApplications",method:"post",data:e})}},f22b:function(e,t,a){"use strict";a.r(t);var n=a("f0a2"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},f22e:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-exit-fullscreen",use:"icon-exit-fullscreen-usage",viewBox:"0 0 128 128",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-exit-fullscreen"><path d="M49.217 41.329l-.136-35.24c-.06-2.715-2.302-4.345-5.022-4.405h-3.65c-2.712-.06-4.866 2.303-4.806 5.016l.152 19.164-24.151-23.79a6.698 6.698 0 0 0-9.499 0 6.76 6.76 0 0 0 0 9.526l23.93 23.713-18.345.074c-2.712-.069-5.228 1.813-5.64 5.02v3.462c.069 2.721 2.31 4.97 5.022 5.03l35.028-.207c.052.005.087.025.133.025l2.457.054a4.626 4.626 0 0 0 3.436-1.38c.88-.874 1.205-2.096 1.169-3.462l-.262-2.465c0-.048.182-.081.182-.136h.002zm52.523 51.212l18.32-.073c2.713.06 5.224-1.609 5.64-4.815v-3.462c-.068-2.722-2.317-4.97-5.021-5.04l-34.58.21c-.053 0-.086-.021-.138-.021l-2.451-.06a4.64 4.64 0 0 0-3.445 1.381c-.885.868-1.201 2.094-1.174 3.46l.27 2.46c.005.06-.177.095-.177.141l.141 34.697c.069 2.713 2.31 4.338 5.022 4.397l3.45.006c2.705.062 4.867-2.31 4.8-5.026l-.153-18.752 24.151 23.946a6.69 6.69 0 0 0 9.494 0 6.747 6.747 0 0 0 0-9.523L101.74 92.54v.001zM48.125 80.662a4.636 4.636 0 0 0-3.437-1.382l-2.457.06c-.05 0-.082.022-.137.022l-35.025-.21c-2.712.07-4.957 2.318-5.022 5.04v3.462c.409 3.206 2.925 4.874 5.633 4.814l18.554.06-24.132 23.928c-2.62 2.626-2.62 6.89 0 9.524a6.694 6.694 0 0 0 9.496 0l24.155-23.79-.155 18.866c-.06 2.722 2.094 5.093 4.801 5.025h3.65c2.72-.069 4.962-1.685 5.022-4.406l.141-34.956c0-.05-.182-.082-.182-.136l.262-2.46c.03-1.366-.286-2.592-1.166-3.46h-.001zM80.08 47.397a4.62 4.62 0 0 0 3.443 1.374l2.45-.054c.055 0 .088-.02.143-.028l35.08.21c2.712-.062 4.953-2.312 5.021-5.033l.009-3.463c-.417-3.211-2.937-5.084-5.64-5.025l-18.615-.073 23.917-23.715c2.63-2.623 2.63-6.879.008-9.513a6.691 6.691 0 0 0-9.494 0L92.251 26.016l.155-19.312c.065-2.713-2.097-5.085-4.802-5.025h-3.45c-2.713.069-4.954 1.693-5.022 4.406l-.139 35.247c0 .054.18.088.18.136l-.267 2.465c-.028 1.366.288 2.588 1.174 3.463v.001z" /></symbol>'});r.a.add(o);t["default"]=o},f2e6:function(e,t,a){"use strict";a.r(t);var n=a("68e4"),s=a("2c5a");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("d3f7");var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"9efeda1c",null);t["default"]=o.exports},f3de:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-wrapper",class:e.classObj,style:{"--current-color":e.theme}},["mobile"===e.device&&e.sidebar.opened?a("div",{staticClass:"drawer-bg",on:{click:e.handleClickOutside}}):e._e(),e.sidebar.hide?e._e():a("sidebar",{staticClass:"sidebar-container"}),a("div",{staticClass:"main-container",class:{hasTagsView:e.needTagsView,sidebarHide:e.sidebar.hide}},[a("div",{class:{"fixed-header":e.fixedHeader}},[a("navbar"),e.needTagsView?a("tags-view"):e._e()],1),a("app-main"),a("right-panel",[a("settings")],1)],1)],1)},s=[]},f430:function(e,t,a){"use strict";a("98f3")},f49b:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14d9"),a("b0c0");var s=n(a("7ec2")),i=n(a("c973")),r=a("092f");t.default={data:function(){return{searchQuery:{stuIndex:"",name:"",mail:""},members:[],filteredMembers:[],currentPage:1,pageSize:10,total:0}},methods:{fetchMembers:function(){var e=this;return(0,i.default)((0,s.default)().mark((function t(){var a,n;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={page:e.currentPage,pageSize:e.pageSize,stuIndex:e.searchQuery.stuIndex,name:e.searchQuery.name,mail:e.searchQuery.mail},t.prev=1,t.next=4,(0,r.getMembers)(a);case 4:n=t.sent,1===n.code&&(e.members=n.data.rows,e.total=n.data.total),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.error("获取成员数据失败:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},searchMembers:function(){this.currentPage=1,this.fetchMembers()},changePage:function(e){this.currentPage=e,this.fetchMembers()},confirmDelete:function(e){var t=this;return(0,i.default)((0,s.default)().mark((function a(){return(0,s.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$confirm("确定要删除该成员吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((0,i.default)((0,s.default)().mark((function a(){var n;return(0,s.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log("用户确认删除，正在调用 removeMember 方法"),a.prev=1,a.next=4,(0,r.removeMember)(e);case 4:n=a.sent,1===n.code?(t.$message({type:"success",message:"删除成功"}),t.fetchMembers()):t.$message({type:"error",message:n.msg||"删除失败"}),a.next=12;break;case 8:a.prev=8,a.t0=a["catch"](1),console.error("删除成员失败:",a.t0),t.$message({type:"error",message:"删除成员失败，请稍后再试"});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}));case 1:case"end":return a.stop()}}),a)})))()},deleteMember:function(e){var t=this;return(0,i.default)((0,s.default)().mark((function a(){var n;return(0,s.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,r.removeMember)(e);case 3:n=a.sent,1===n.code?(t.$message({type:"success",message:"删除成功"}),t.fetchMembers()):t.$message({type:"error",message:n.msg||"删除失败"}),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](0),console.error("删除成员失败:",a.t0),t.$message({type:"error",message:"删除成员失败，请稍后再试"});case 11:case"end":return a.stop()}}),a,null,[[0,7]])})))()},editMember:function(e){this.$router.push({path:"/memberManage/userDetail",query:{userId:e}})}},created:function(){this.fetchMembers()}}},f590:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-menu",{attrs:{"default-active":e.activeMenu,mode:"horizontal"},on:{select:e.handleSelect}},[e._l(e.topMenus,(function(t,n){return[n<e.visibleNumber?a("el-menu-item",{key:n,style:{"--theme":e.theme},attrs:{index:t.path}},[t.meta&&t.meta.icon&&"#"!==t.meta.icon?a("svg-icon",{attrs:{"icon-class":t.meta.icon}}):e._e(),e._v(" "+e._s(t.meta.title)+" ")],1):e._e()]})),e.topMenus.length>e.visibleNumber?a("el-submenu",{style:{"--theme":e.theme},attrs:{index:"more"}},[a("template",{slot:"title"},[e._v("更多菜单")]),e._l(e.topMenus,(function(t,n){return[n>=e.visibleNumber?a("el-menu-item",{key:n,attrs:{index:t.path}},[t.meta&&t.meta.icon&&"#"!==t.meta.icon?a("svg-icon",{attrs:{"icon-class":t.meta.icon}}):e._e(),e._v(" "+e._s(t.meta.title)+" ")],1):e._e()]}))],2):e._e()],2)},s=[]},f63e:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(e.type,e._b({tag:"component"},"component",e.linkProps(e.to),!1),[e._t("default")],2)},s=[]},f6cd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={props:{info:{type:Object,default:null}},data:function(){return{rules:{tableName:[{required:!0,message:"请输入表名称",trigger:"blur"}],tableComment:[{required:!0,message:"请输入表描述",trigger:"blur"}],className:[{required:!0,message:"请输入实体类名称",trigger:"blur"}],functionAuthor:[{required:!0,message:"请输入作者",trigger:"blur"}]}}}}},f71f:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-monitor",use:"icon-monitor-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-monitor"><defs><style type="text/css">@font-face { font-family: rbicon; src: url("chrome-extension://dipiagiiohfljcicegpgffpbnjmgjcnf/fonts/rbicon.woff2") format("woff2"); font-weight: normal; font-style: normal; }\r\n</style></defs><path d="M64 64V640H896V64H64zM0 0h960v704H0V0z" p-id="4696" /><path d="M192 896H768v64H192zM448 640H512v256h-64z" p-id="4697" /><path d="M479.232 561.604267l309.9904-348.330667-47.803733-42.5472-259.566934 291.669333L303.957333 240.008533 163.208533 438.6048l52.224 37.009067 91.6224-129.28z" p-id="4698" /></symbol>'});r.a.add(o);t["default"]=o},f776:function(e,t,a){"use strict";a.r(t);var n=a("43b0"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},f81e:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("e9c4"),a("b64b");var n=[{evaluationContent:"视频",evaluationTitles:[{evaluationTitle:"演讲自信程度(Self-confidence in Public Speaking)",evaluationInfos:["演讲开场阶段<beginning>","演讲进行过程<body>","演讲结束阶段<ending>"]},{evaluationTitle:"演讲展现能力(Delivery)",evaluationInfos:["能进行有效的眼神交流<eye contact>","能有效运用肢体语言提升演讲效果<body language>","声音洪亮<volume>","吐辞清楚<enunciation>","能运用语法停顿或逻辑停顿把控演讲节奏<pause between sentence groups>","能抑扬顿挫，提升演讲效果<intonation>","激情洋溢，感染力强<passion>","很少使用'uh' 'er' 'um'等的停顿，衔接流畅自然<no or few vocalized pauses>"]},{evaluationTitle:"总体印象(speaker credibility)",evaluationInfos:["演讲者的选题具有挑战性<challenge>","演讲者熟悉演讲主题，驾驭话题的专业能力强<competence>","演讲者值得信赖<trustworthiness>"]}]},{evaluationContent:"音频",evaluationTitles:[{evaluationTitle:"口头表达能力(Speaking Competence)",evaluationInfos:["发音准确规范<accuracy>","表达流利<fluency>","发音清晰标准<standardness>","语句完整<integrity>","表现力强<expressiveness>"]}]},{evaluationContent:"PPT",evaluationTitles:[{evaluationTitle:"视觉材料辅助效果(Visual Aids)",evaluationInfos:["层次清晰、布局合理<organization>","内容明确、重点突出<content>","整体言简意赅<brevity>","字体大小合理<font>","图文并茂，展示效果好<illustration>","色彩协调，对比度适宜（每张PPT一般不超过4种颜色)<color>","演示与发言内容同步<coordinateness>"]}]},{evaluationContent:"演讲稿",evaluationTitles:[{evaluationTitle:"演讲稿写作质量(Competence in Drafting a Speech)",evaluationInfos:["体裁适宜（记叙文、说明文、议论文的文体选择适宜）<literary styles>","证据充分<evidence>","论证有力<reasoning>","语言表达地道<idiomaticity>","逻辑连贯<logic>","句子简明扼要<conciseness>","无拼写错误<spelling>","无标点错误<punctuation>","基本无语法错误<grammar>","整体谋篇布局合理<organization>","内容切题<relevancy>"]}]}],s=[{evaluationMethods:"师评",evaluationTypes:JSON.parse(JSON.stringify(n))},{evaluationMethods:"自评",evaluationTypes:JSON.parse(JSON.stringify(n))},{evaluationMethods:"互评",evaluationTypes:JSON.parse(JSON.stringify(n))},{evaluationMethods:"机评",evaluationTypes:[{evaluationContent:"视频",evaluationTitles:[{evaluationTitle:"自信总分",evaluationInfos:[]}]},{evaluationContent:"音频",evaluationTitles:[{evaluationTitle:"口头表达能力(Speaking Competence)",evaluationInfos:["发音准确规范<accuracy>","表达流利<fluency>","发音清晰<standardness>","语句完整<integrity>"]}]},{evaluationContent:"演讲稿",evaluationTitles:[{evaluationTitle:"演讲稿写作质量(Competence in Drafting a Speech)",evaluationInfos:["文体适宜（记叙文、说明文、议论文的文体选择适宜）<literary styles>","表达地道<authenticity>","逻辑连贯<logic>","语句简明<brevity>","拼写<spelling>","标点<punctuation>","语法<grammar>"]}]}]}];t.default=s},f8e6:function(e,t,a){"use strict";a.r(t);var n=a("e017"),s=a.n(n),i=a("21a1"),r=a.n(i),o=new s.a({id:"icon-time",use:"icon-time-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-time"><defs><style type="text/css"></style></defs><path d="M520 559h204c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32H488c-17.673 0-32-14.327-32-32 0-0.167 0.001-0.334 0.004-0.5a32.65 32.65 0 0 1-0.004-0.5V277c0-17.673 14.327-32 32-32 17.673 0 32 14.327 32 32v282z m-8 401C264.576 960 64 759.424 64 512S264.576 64 512 64s448 200.576 448 448-200.576 448-448 448z m0-64c212.077 0 384-171.923 384-384S724.077 128 512 128 128 299.923 128 512s171.923 384 384 384z" p-id="1009" /></symbol>'});r.a.add(o);t["default"]=o},f8ea:function(e,t,a){},f935:function(e,t,a){"use strict";a("40cb")},f94a:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"homework-evaluation"},[a("el-row",{staticClass:"header-row"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"header"},[a("span",{staticClass:"info-text"},[e._v("题目："+e._s(e.taskDetails.taskName))]),a("span",{staticClass:"info-text"},[e._v("姓名："+e._s(e.taskDetails.ownerName))]),a("span",{staticClass:"info-text"},[e._v("评价流程：自评")]),a("span",{staticClass:"info-text"},[e._v("评分人："+e._s(e.taskDetails.ownerName))])])])],1),a("el-tabs",{staticClass:"tabs-container",attrs:{type:"card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.submissionTypes,(function(t){return a("el-tab-pane",{key:t,attrs:{name:t,label:t}},["视频"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"first-row"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.video,expression:"loading.video"}],staticClass:"video-section"},[a("video",{ref:"videoElement",refInFor:!0,staticClass:"video-player",attrs:{controls:"",src:e.fileUrls.video},on:{error:function(t){return e.handleFileError("video")}}})]),a("div",{staticClass:"dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.video||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",{staticClass:"dimension-title"},[e._v(e._s(t))]),a("el-rate",{attrs:{max:5,disabled:""},model:{value:e.ratings.video[n][s],callback:function(t){e.$set(e.ratings.video[n],s,t)},expression:"ratings.video[index][infoIndex]"}})],1)})),0)})),0)])],1)]),a("div",{staticClass:"second-row"},[a("div",{staticClass:"radar-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-data-analysis"}),a("span",[e._v("评价雷达图")])]),a("el-card",{staticClass:"radar-chart"},[a("div",{ref:"radarContainer-"+t,refInFor:!0,staticClass:"radar-container"})])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4",readonly:""},model:{value:e.comments.video,callback:function(t){e.$set(e.comments,"video",t)},expression:"comments.video"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("视频总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("video"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1)])],1)],1)])]):"音频"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"first-row"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.audio,expression:"loading.audio"}],staticClass:"audio-section"},[a("div",{staticClass:"audio-player-container"},[a("div",{staticClass:"audio-bg"},[a("div",{staticClass:"music-icon",class:{"is-playing":e.isPlaying}},[a("i",{staticClass:"el-icon-headset"})]),a("div",{staticClass:"music-notes"},[a("i",{staticClass:"el-icon-music"}),a("i",{staticClass:"el-icon-bell"}),a("i",{staticClass:"el-icon-mic"})])]),a("audio",{directives:[{name:"show",rawName:"v-show",value:!e.loading.audio,expression:"!loading.audio"}],ref:"audioElement",refInFor:!0,staticClass:"audio-player",attrs:{controls:"",src:e.fileUrls.audio},on:{play:e.handlePlay,pause:e.handlePause,ended:e.handlePause,error:function(t){return e.handleFileError("audio")}}})])]),a("div",{staticClass:"dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.audio||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",{staticClass:"dimension-title"},[e._v(e._s(t))]),a("el-rate",{attrs:{max:5,disabled:""},model:{value:e.ratings.audio[n][s],callback:function(t){e.$set(e.ratings.audio[n],s,t)},expression:"ratings.audio[index][infoIndex]"}})],1)})),0)})),0)])],1)]),a("div",{staticClass:"second-row"},[a("div",{staticClass:"radar-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-data-analysis"}),a("span",[e._v("评价雷达图")])]),a("el-card",{staticClass:"radar-chart"},[a("div",{ref:"radarContainer-"+t,refInFor:!0,staticClass:"radar-container"})])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4",readonly:""},model:{value:e.comments.audio,callback:function(t){e.$set(e.comments,"audio",t)},expression:"comments.audio"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("音频总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("audio"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1)])],1)],1)])]):"PPT"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"left-section"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.ppt,expression:"loading.ppt"}],staticClass:"ppt-document-section"},[e.pdfData?a("pdf-viewer",{staticClass:"pdf-viewer",attrs:{"pdf-data":e.pdfData}}):e._e()],1)]),a("div",{staticClass:"right-section"},[a("div",{staticClass:"ppt-dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.ppt||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",{staticClass:"dimension-title"},[e._v(e._s(t))]),a("el-rate",{attrs:{max:5,disabled:""},model:{value:e.ratings.ppt[n][s],callback:function(t){e.$set(e.ratings.ppt[n],s,t)},expression:"ratings.ppt[index][infoIndex]"}})],1)})),0)})),0)])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4",readonly:""},model:{value:e.comments.ppt,callback:function(t){e.$set(e.comments,"ppt",t)},expression:"comments.ppt"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("PPT总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("ppt"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1)])],1)],1)])])]):"演讲稿"===t?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"left-section"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.word||e.convertLoading,expression:"loading.word || convertLoading"}],staticClass:"word-document-section",attrs:{"element-loading-text":"正在转换文档..."}},[e.wordContent?a("div",{staticClass:"word-content"},[a("div",{domProps:{innerHTML:e._s(e.wordContent)}})]):e.loading.word||e.convertLoading?e._e():a("div",{staticClass:"preview-placeholder"},[a("i",{staticClass:"el-icon-document"}),a("p",[e._v("Word 文档加载失败")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.loadFiles}},[e._v(" 重试 ")])],1)])]),a("div",{staticClass:"right-section"},[a("div",{staticClass:"word-dimension-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("评价")])]),a("el-card",{staticClass:"dimension-card"},[a("div",{staticClass:"dimension-content"},e._l(e.evaluationData.word||[],(function(t,n){return a("div",{key:n,staticClass:"dimension-item"},e._l(t.evaluationInfos||[],(function(t,s){return a("div",{key:s,staticClass:"info-item"},[a("span",{staticClass:"dimension-title"},[e._v(e._s(t))]),a("el-rate",{attrs:{max:5,disabled:""},model:{value:e.ratings.word[n][s],callback:function(t){e.$set(e.ratings.word[n],s,t)},expression:"ratings.word[index][infoIndex]"}})],1)})),0)})),0)])],1),a("div",{staticClass:"comment-section"},[a("div",{staticClass:"section-header"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("评语")])]),a("el-card",{staticClass:"comment-card"},[a("el-input",{staticClass:"comment-input",attrs:{type:"textarea",placeholder:"请输入评语",rows:"4",readonly:""},model:{value:e.comments.word,callback:function(t){e.$set(e.comments,"word",t)},expression:"comments.word"}}),a("div",{staticClass:"score-submit"},[a("div",{staticClass:"score-container"},[a("span",{staticClass:"score-label"},[e._v("演讲稿总分：")]),a("el-input",{staticClass:"score-input",attrs:{value:e.calculateTotalScore("word"),readonly:""}}),a("span",{staticClass:"score-unit"},[e._v("分")])],1)])],1)],1)])])]):e._e()])})),1)],1)},s=[]},f9bf:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"chat-card"},[a("div",{staticClass:"chat-container"},[a("div",{ref:"chatContainer",staticClass:"chat-messages"},e._l(e.displayMessages,(function(t,n){return a("div",{key:"msg_"+t.id+"_"+n,staticClass:"message",class:t.role},[a("div",{staticClass:"message-content"},[a("div",{staticClass:"message-avatar"},[a("el-avatar",{attrs:{size:36,icon:"assistant"===t.role?"el-icon-service":"el-icon-user"}})],1),a("div",{staticClass:"message-bubble",class:{"error-message":t.isError}},["assistant"===t.role?a("div",{staticClass:"markdown-body",domProps:{innerHTML:e._s(e.renderMarkdown(t.content))}}):a("div",[e._v(e._s(t.content))]),t.isError?a("div",{staticClass:"error-actions"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.retryLastMessage}},[e._v("重试")])],1):e._e()])])])})),0),a("div",{staticClass:"chat-input"},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请在这里输入您的要求..."},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.handleEnter(t))}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),a("div",{staticClass:"input-actions"},[a("el-button",{attrs:{type:"primary",loading:e.isLoading},on:{click:e.handleSend}},[e._v(" 发送消息 ")]),a("el-button",{on:{click:e.showClearHistoryDialog}},[e._v(" 清除历史 ")])],1)],1)])])},s=[]},f9c2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("99af"),a("4de4"),a("14d9"),a("b0c0"),a("d3b7"),a("2ca0"),a("498a"),a("0643"),a("2382");t.default={data:function(){return{levelList:null}},watch:{$route:function(e){e.path.startsWith("/redirect/")||this.getBreadcrumb()}},created:function(){this.getBreadcrumb()},methods:{getBreadcrumb:function(){var e=this.$route.matched.filter((function(e){return e.meta&&e.meta.title})),t=e[0];this.isDashboard(t)||(e=[{path:"/index",meta:{title:"首页"}}].concat(e)),this.levelList=e.filter((function(e){return e.meta&&e.meta.title&&!1!==e.meta.breadcrumb}))},isDashboard:function(e){var t=e&&e.name;return!!t&&"Index"===t.trim()},handleLink:function(e){var t=e.redirect,a=e.path;t?this.$router.push(t):this.$router.push(a)}}}},fa11:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleSetSize}},[a("div",[a("svg-icon",{attrs:{"class-name":"size-icon","icon-class":"size"}})],1),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.sizeOptions,(function(t){return a("el-dropdown-item",{key:t.value,attrs:{disabled:e.size===t.value,command:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)},s=[]},fb2d:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"audio-visualizer-container"},[a("canvas",{ref:"canvas",staticClass:"visualizer-canvas"}),a("audio",{ref:"audioElement",staticClass:"audio-player",attrs:{src:e.audioSrc,controls:""},on:{play:e.startVisualization,pause:e.stopVisualization,ended:e.stopVisualization}})])},s=[]},fd30:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{"has-logo":e.showLogo},style:{backgroundColor:"theme-dark"===e.settings.sideTheme?e.variables.menuBackground:e.variables.menuLightBackground}},[e.showLogo?a("logo",{attrs:{collapse:e.isCollapse}}):e._e(),a("el-scrollbar",{class:e.settings.sideTheme,attrs:{"wrap-class":"scrollbar-wrapper"}},[a("el-menu",{attrs:{"default-active":e.activeMenu,collapse:e.isCollapse,"background-color":"theme-dark"===e.settings.sideTheme?e.variables.menuBackground:e.variables.menuLightBackground,"text-color":"theme-dark"===e.settings.sideTheme?e.variables.menuColor:e.variables.menuLightColor,"unique-opened":!0,"active-text-color":e.settings.theme,"collapse-transition":!1,"active-text-color":"#ffffff",mode:"vertical"}},e._l(e.sidebarRouters,(function(e,t){return a("sidebar-item",{key:e.path+t,attrs:{item:e,"base-path":e.path}})})),1)],1)],1)},s=[]},fda0:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"self-evaluation"},[a("h2",[e._v("已分配自评的学生")]),a("div",{staticClass:"search-container"},[a("div",{staticClass:"search-item"},[a("label",{attrs:{for:"nameQuery"}},[e._v("姓名：")]),a("el-input",{staticClass:"search-bar",staticStyle:{width:"220px"},attrs:{placeholder:"搜索姓名",clearable:""},on:{input:e.handleSearch},model:{value:e.nameQuery,callback:function(t){e.nameQuery=t},expression:"nameQuery"}})],1),a("div",{staticClass:"search-item"},[a("label",{attrs:{for:"stuIndexQuery"}},[e._v("学号：")]),a("el-input",{staticClass:"search-bar",staticStyle:{width:"220px"},attrs:{placeholder:"搜索学号",clearable:""},on:{input:e.handleSearch},model:{value:e.stuIndexQuery,callback:function(t){e.stuIndexQuery=t},expression:"stuIndexQuery"}})],1)]),a("el-table",{staticClass:"members-table",attrs:{data:e.paginatedMembers}},[a("el-table-column",{attrs:{prop:"id",label:"用户ID","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"studentId",label:"学号","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱","header-align":"center",align:"center"}}),a("el-table-column",{attrs:{prop:"mobile",label:"手机号","header-align":"center",align:"center"}})],1),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.filteredMembers.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1),a("div",{staticClass:"total-info"},[e._v(" 总计 "+e._s(e.filteredMembers.length)+" 名学生 ")])],1)},s=[]},fdb6:function(e,t,a){"use strict";a("89dd")},fe4a:function(e,t,a){"use strict";var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a15b"),a("d81d"),a("b64b"),a("a573");var s=n(a("594d"));t.default={components:{InnerLink:s.default},computed:{iframeViews:function(){return this.$store.state.tagsView.iframeViews}},methods:{iframeUrl:function(e,t){if(Object.keys(t).length>0){var a=Object.keys(t).map((function(e){return e+"="+t[e]})).join("&");return e+"?"+a}return e}}}},fe79:function(e,t,a){"use strict";a.r(t);var n=a("fa11"),s=a("c078");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);var r=a("2877"),o=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},ff07:function(e,t,a){"use strict";a("0802")},ff4d:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ai-sidebar"},[e._m(0),a("div",{staticClass:"sidebar-items"},e._l(e.menuItems,(function(t,n){return a("div",{key:n,staticClass:"sidebar-item",class:{disabled:!e.hasSelection},attrs:{title:t.description},on:{click:function(a){return e.handleAction(t)}}},[a("div",{staticClass:"icon-wrapper"},[a("i",{class:e.getIconClass(t.type)})]),a("span",{staticClass:"action-title"},[e._v(e._s(t.text))])])})),0)])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar-header"},[a("div",{staticClass:"title-wrapper"},[a("i",{staticClass:"el-icon-cpu"}),a("span",{staticClass:"sidebar-title"},[e._v("AI助手")])])])}]}},[["56d7","runtime","chunk-elementUI","chunk-libs"]]]);